"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/yet-another-react-lightbox";
exports.ids = ["vendor-chunks/yet-another-react-lightbox"];
exports.modules = {

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/thumbnails.css":
/*!****************************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/thumbnails.css ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"bc28d2faae0f\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3RodW1ibmFpbHMvdGh1bWJuYWlscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXRlcm1hcmstZXhwZXJpZW5jZS8uL25vZGVfbW9kdWxlcy95ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveC9kaXN0L3BsdWdpbnMvdGh1bWJuYWlscy90aHVtYm5haWxzLmNzcz8wYWNlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiYmMyOGQyZmFhZTBmXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/thumbnails.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/styles.css":
/*!*****************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/styles.css ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"62202f7375c6\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9zdHlsZXMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2F0ZXJtYXJrLWV4cGVyaWVuY2UvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9zdHlsZXMuY3NzP2JhNzUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI2MjIwMmY3Mzc1YzZcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/styles.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_CLOSE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE),\n/* harmony export */   ACTION_NEXT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT),\n/* harmony export */   ACTION_PREV: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV),\n/* harmony export */   ACTION_SWIPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE),\n/* harmony export */   ACTIVE_SLIDE_COMPLETE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_COMPLETE),\n/* harmony export */   ACTIVE_SLIDE_ERROR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_ERROR),\n/* harmony export */   ACTIVE_SLIDE_LOADING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_LOADING),\n/* harmony export */   ACTIVE_SLIDE_PLAYING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_PLAYING),\n/* harmony export */   CLASS_FLEX_CENTER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER),\n/* harmony export */   CLASS_FULLSIZE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE),\n/* harmony export */   CLASS_NO_SCROLL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL),\n/* harmony export */   CLASS_NO_SCROLL_PADDING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING),\n/* harmony export */   CLASS_SLIDE_WRAPPER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER),\n/* harmony export */   Carousel: () => (/* binding */ Carousel),\n/* harmony export */   CarouselModule: () => (/* binding */ CarouselModule),\n/* harmony export */   CloseIcon: () => (/* binding */ CloseIcon),\n/* harmony export */   Controller: () => (/* binding */ Controller),\n/* harmony export */   ControllerContext: () => (/* binding */ ControllerContext),\n/* harmony export */   ControllerModule: () => (/* binding */ ControllerModule),\n/* harmony export */   ELEMENT_BUTTON: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_BUTTON),\n/* harmony export */   ELEMENT_ICON: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON),\n/* harmony export */   EVENT_ON_KEY_DOWN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN),\n/* harmony export */   EVENT_ON_KEY_UP: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_UP),\n/* harmony export */   EVENT_ON_POINTER_CANCEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL),\n/* harmony export */   EVENT_ON_POINTER_DOWN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN),\n/* harmony export */   EVENT_ON_POINTER_LEAVE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE),\n/* harmony export */   EVENT_ON_POINTER_MOVE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE),\n/* harmony export */   EVENT_ON_POINTER_UP: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP),\n/* harmony export */   EVENT_ON_WHEEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL),\n/* harmony export */   ErrorIcon: () => (/* binding */ ErrorIcon),\n/* harmony export */   EventsContext: () => (/* binding */ EventsContext),\n/* harmony export */   EventsProvider: () => (/* binding */ EventsProvider),\n/* harmony export */   IMAGE_FIT_CONTAIN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN),\n/* harmony export */   IMAGE_FIT_COVER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   ImageSlide: () => (/* binding */ ImageSlide),\n/* harmony export */   Lightbox: () => (/* binding */ Lightbox),\n/* harmony export */   LightboxDefaultProps: () => (/* binding */ LightboxDefaultProps),\n/* harmony export */   LightboxDispatchContext: () => (/* binding */ LightboxDispatchContext),\n/* harmony export */   LightboxPropsContext: () => (/* binding */ LightboxPropsContext),\n/* harmony export */   LightboxPropsProvider: () => (/* binding */ LightboxPropsProvider),\n/* harmony export */   LightboxStateContext: () => (/* binding */ LightboxStateContext),\n/* harmony export */   LightboxStateProvider: () => (/* binding */ LightboxStateProvider),\n/* harmony export */   LoadingIcon: () => (/* binding */ LoadingIcon),\n/* harmony export */   MODULE_CAROUSEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL),\n/* harmony export */   MODULE_CONTROLLER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER),\n/* harmony export */   MODULE_NAVIGATION: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NAVIGATION),\n/* harmony export */   MODULE_NO_SCROLL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NO_SCROLL),\n/* harmony export */   MODULE_PORTAL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL),\n/* harmony export */   MODULE_ROOT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_ROOT),\n/* harmony export */   MODULE_TOOLBAR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR),\n/* harmony export */   Navigation: () => (/* binding */ Navigation),\n/* harmony export */   NavigationButton: () => (/* binding */ NavigationButton),\n/* harmony export */   NavigationModule: () => (/* binding */ NavigationModule),\n/* harmony export */   NextIcon: () => (/* binding */ NextIcon),\n/* harmony export */   NoScroll: () => (/* binding */ NoScroll),\n/* harmony export */   NoScrollModule: () => (/* binding */ NoScrollModule),\n/* harmony export */   PLUGIN_CAPTIONS: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_CAPTIONS),\n/* harmony export */   PLUGIN_COUNTER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_COUNTER),\n/* harmony export */   PLUGIN_DOWNLOAD: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_DOWNLOAD),\n/* harmony export */   PLUGIN_FULLSCREEN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN),\n/* harmony export */   PLUGIN_INLINE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_INLINE),\n/* harmony export */   PLUGIN_SHARE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SHARE),\n/* harmony export */   PLUGIN_SLIDESHOW: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW),\n/* harmony export */   PLUGIN_THUMBNAILS: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS),\n/* harmony export */   PLUGIN_ZOOM: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM),\n/* harmony export */   Portal: () => (/* binding */ Portal),\n/* harmony export */   PortalModule: () => (/* binding */ PortalModule),\n/* harmony export */   PreviousIcon: () => (/* binding */ PreviousIcon),\n/* harmony export */   Root: () => (/* binding */ Root),\n/* harmony export */   RootModule: () => (/* binding */ RootModule),\n/* harmony export */   SLIDE_STATUS_COMPLETE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE),\n/* harmony export */   SLIDE_STATUS_ERROR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR),\n/* harmony export */   SLIDE_STATUS_LOADING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING),\n/* harmony export */   SLIDE_STATUS_PLACEHOLDER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLACEHOLDER),\n/* harmony export */   SLIDE_STATUS_PLAYING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING),\n/* harmony export */   SwipeState: () => (/* binding */ SwipeState),\n/* harmony export */   TimeoutsContext: () => (/* binding */ TimeoutsContext),\n/* harmony export */   TimeoutsProvider: () => (/* binding */ TimeoutsProvider),\n/* harmony export */   Toolbar: () => (/* binding */ Toolbar),\n/* harmony export */   ToolbarModule: () => (/* binding */ ToolbarModule),\n/* harmony export */   UNKNOWN_ACTION_TYPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE),\n/* harmony export */   VK_ARROW_LEFT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_LEFT),\n/* harmony export */   VK_ARROW_RIGHT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_RIGHT),\n/* harmony export */   VK_ESCAPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ESCAPE),\n/* harmony export */   activeSlideStatus: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.activeSlideStatus),\n/* harmony export */   addToolbarButton: () => (/* binding */ addToolbarButton),\n/* harmony export */   calculatePreload: () => (/* binding */ calculatePreload),\n/* harmony export */   cleanup: () => (/* binding */ cleanup),\n/* harmony export */   clsx: () => (/* binding */ clsx),\n/* harmony export */   composePrefix: () => (/* binding */ composePrefix),\n/* harmony export */   computeSlideRect: () => (/* binding */ computeSlideRect),\n/* harmony export */   createIcon: () => (/* binding */ createIcon),\n/* harmony export */   createIconDisabled: () => (/* binding */ createIconDisabled),\n/* harmony export */   createModule: () => (/* binding */ createModule),\n/* harmony export */   createNode: () => (/* binding */ createNode),\n/* harmony export */   cssClass: () => (/* binding */ cssClass),\n/* harmony export */   cssVar: () => (/* binding */ cssVar),\n/* harmony export */   \"default\": () => (/* binding */ Lightbox),\n/* harmony export */   devicePixelRatio: () => (/* binding */ devicePixelRatio),\n/* harmony export */   getSlide: () => (/* binding */ getSlide),\n/* harmony export */   getSlideIfPresent: () => (/* binding */ getSlideIfPresent),\n/* harmony export */   getSlideIndex: () => (/* binding */ getSlideIndex),\n/* harmony export */   hasSlides: () => (/* binding */ hasSlides),\n/* harmony export */   hasWindow: () => (/* binding */ hasWindow),\n/* harmony export */   isImageFitCover: () => (/* binding */ isImageFitCover),\n/* harmony export */   isImageSlide: () => (/* binding */ isImageSlide),\n/* harmony export */   label: () => (/* binding */ label),\n/* harmony export */   makeComposePrefix: () => (/* binding */ makeComposePrefix),\n/* harmony export */   makeUseContext: () => (/* binding */ makeUseContext),\n/* harmony export */   parseInt: () => (/* binding */ parseInt),\n/* harmony export */   parseLengthPercentage: () => (/* binding */ parseLengthPercentage),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   setRef: () => (/* binding */ setRef),\n/* harmony export */   stopNavigationEventsPropagation: () => (/* binding */ stopNavigationEventsPropagation),\n/* harmony export */   useAnimation: () => (/* binding */ useAnimation),\n/* harmony export */   useContainerRect: () => (/* binding */ useContainerRect),\n/* harmony export */   useController: () => (/* binding */ useController),\n/* harmony export */   useDelay: () => (/* binding */ useDelay),\n/* harmony export */   useEventCallback: () => (/* binding */ useEventCallback),\n/* harmony export */   useEvents: () => (/* binding */ useEvents),\n/* harmony export */   useForkRef: () => (/* binding */ useForkRef),\n/* harmony export */   useKeyboardNavigation: () => (/* binding */ useKeyboardNavigation),\n/* harmony export */   useLayoutEffect: () => (/* binding */ useLayoutEffect),\n/* harmony export */   useLightboxDispatch: () => (/* binding */ useLightboxDispatch),\n/* harmony export */   useLightboxProps: () => (/* binding */ useLightboxProps),\n/* harmony export */   useLightboxState: () => (/* binding */ useLightboxState),\n/* harmony export */   useLoseFocus: () => (/* binding */ useLoseFocus),\n/* harmony export */   useMotionPreference: () => (/* binding */ useMotionPreference),\n/* harmony export */   useNavigationState: () => (/* binding */ useNavigationState),\n/* harmony export */   usePointerEvents: () => (/* binding */ usePointerEvents),\n/* harmony export */   usePointerSwipe: () => (/* binding */ usePointerSwipe),\n/* harmony export */   usePreventWheelDefaults: () => (/* binding */ usePreventWheelDefaults),\n/* harmony export */   useRTL: () => (/* binding */ useRTL),\n/* harmony export */   useSensors: () => (/* binding */ useSensors),\n/* harmony export */   useThrottle: () => (/* binding */ useThrottle),\n/* harmony export */   useTimeouts: () => (/* binding */ useTimeouts),\n/* harmony export */   useWheelSwipe: () => (/* binding */ useWheelSwipe),\n/* harmony export */   withPlugins: () => (/* binding */ withPlugins)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* __next_internal_client_entry_do_not_use__ ACTIVE_SLIDE_COMPLETE,ACTIVE_SLIDE_ERROR,ACTIVE_SLIDE_LOADING,ACTIVE_SLIDE_PLAYING,CLASS_FULLSIZE,PLUGIN_CAPTIONS,PLUGIN_COUNTER,PLUGIN_DOWNLOAD,PLUGIN_FULLSCREEN,PLUGIN_INLINE,PLUGIN_SHARE,PLUGIN_SLIDESHOW,PLUGIN_THUMBNAILS,PLUGIN_ZOOM,SLIDE_STATUS_PLAYING,ACTION_CLOSE,ACTION_NEXT,ACTION_PREV,ACTION_SWIPE,CLASS_FLEX_CENTER,CLASS_NO_SCROLL,CLASS_NO_SCROLL_PADDING,CLASS_SLIDE_WRAPPER,Carousel,CarouselModule,CloseIcon,Controller,ControllerContext,ControllerModule,ELEMENT_BUTTON,ELEMENT_ICON,EVENT_ON_KEY_DOWN,EVENT_ON_KEY_UP,EVENT_ON_POINTER_CANCEL,EVENT_ON_POINTER_DOWN,EVENT_ON_POINTER_LEAVE,EVENT_ON_POINTER_MOVE,EVENT_ON_POINTER_UP,EVENT_ON_WHEEL,ErrorIcon,EventsContext,EventsProvider,IMAGE_FIT_CONTAIN,IMAGE_FIT_COVER,IconButton,ImageSlide,Lightbox,LightboxDefaultProps,LightboxDispatchContext,LightboxPropsContext,LightboxPropsProvider,LightboxStateContext,LightboxStateProvider,LoadingIcon,MODULE_CAROUSEL,MODULE_CONTROLLER,MODULE_NAVIGATION,MODULE_NO_SCROLL,MODULE_PORTAL,MODULE_ROOT,MODULE_TOOLBAR,Navigation,NavigationButton,NavigationModule,NextIcon,NoScroll,NoScrollModule,Portal,PortalModule,PreviousIcon,Root,RootModule,SLIDE_STATUS_COMPLETE,SLIDE_STATUS_ERROR,SLIDE_STATUS_LOADING,SLIDE_STATUS_PLACEHOLDER,SwipeState,TimeoutsContext,TimeoutsProvider,Toolbar,ToolbarModule,UNKNOWN_ACTION_TYPE,VK_ARROW_LEFT,VK_ARROW_RIGHT,VK_ESCAPE,activeSlideStatus,addToolbarButton,calculatePreload,cleanup,clsx,composePrefix,computeSlideRect,createIcon,createIconDisabled,createModule,createNode,cssClass,cssVar,default,devicePixelRatio,getSlide,getSlideIfPresent,getSlideIndex,hasSlides,hasWindow,isImageFitCover,isImageSlide,label,makeComposePrefix,makeUseContext,parseInt,parseLengthPercentage,round,setRef,stopNavigationEventsPropagation,useAnimation,useContainerRect,useController,useDelay,useEventCallback,useEvents,useForkRef,useKeyboardNavigation,useLayoutEffect,useLightboxDispatch,useLightboxProps,useLightboxState,useLoseFocus,useMotionPreference,useNavigationState,usePointerEvents,usePointerSwipe,usePreventWheelDefaults,useRTL,useSensors,useThrottle,useTimeouts,useWheelSwipe,withPlugins auto */ \n\n\n\nconst clsx = (...classes)=>[\n        ...classes\n    ].filter((cls)=>Boolean(cls)).join(\" \");\nconst cssPrefix$3 = \"yarl__\";\nconst cssClass = (name)=>`${cssPrefix$3}${name}`;\nconst cssVar = (name)=>`--${cssPrefix$3}${name}`;\nconst composePrefix = (base, prefix)=>`${base}${prefix ? `_${prefix}` : \"\"}`;\nconst makeComposePrefix = (base)=>(prefix)=>composePrefix(base, prefix);\nconst label = (labels, lbl)=>labels && labels[lbl] ? labels[lbl] : lbl;\nconst cleanup = (...cleaners)=>()=>{\n        cleaners.forEach((cleaner)=>{\n            cleaner();\n        });\n    };\nconst makeUseContext = (name, contextName, context)=>()=>{\n        const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(context);\n        if (!ctx) {\n            throw new Error(`${name} must be used within a ${contextName}.Provider`);\n        }\n        return ctx;\n    };\nconst hasWindow = ()=>\"undefined\" !== \"undefined\";\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nconst isImageSlide = (slide)=>slide.type === undefined || slide.type === \"image\";\nconst isImageFitCover = (image, imageFit)=>image.imageFit === _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER || image.imageFit !== _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN && imageFit === _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER;\nfunction parseInt(value) {\n    return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return {\n            pixel: input\n        };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input);\n        return input.endsWith(\"%\") ? {\n            percent: value\n        } : {\n            pixel: value\n        };\n    }\n    return {\n        pixel: 0\n    };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? containerRect.width / 100 * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0)\n    };\n}\nconst devicePixelRatio = ()=>(hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\nconst getSlideIndex = (index, slidesCount)=>slidesCount > 0 ? (index % slidesCount + slidesCount) % slidesCount : 0;\nconst hasSlides = (slides)=>slides.length > 0;\nconst getSlide = (slides, index)=>slides[getSlideIndex(index, slides.length)];\nconst getSlideIfPresent = (slides, index)=>hasSlides(slides) ? getSlide(slides, index) : undefined;\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button) return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item)=>item === key);\n    const buttonWithKey = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(button) ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(button, {\n        key\n    }, null) : button;\n    if (index >= 0) {\n        const result = [\n            ...buttons\n        ];\n        result.splice(index, 1, buttonWithKey);\n        return {\n            buttons: result,\n            ...restToolbar\n        };\n    }\n    return {\n        buttons: [\n            buttonWithKey,\n            ...buttons\n        ],\n        ...restToolbar\n    };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event)=>{\n        event.stopPropagation();\n    };\n    return {\n        onPointerDown: stopPropagation,\n        onKeyDown: stopPropagation,\n        onWheel: stopPropagation\n    };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\nconst LightboxDefaultProps = {\n    open: false,\n    close: ()=>{},\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: {\n        buttons: [\n            _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE\n        ]\n    },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\"\n        }\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN,\n        imageProps: {}\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullUp: false,\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n        preventDefaultWheelX: true,\n        preventDefaultWheelY: false\n    },\n    portal: {},\n    noScroll: {\n        disabled: false\n    },\n    on: {},\n    styles: {},\n    className: \"\"\n};\nfunction createModule(name, component) {\n    return {\n        name,\n        component\n    };\n}\nfunction createNode(module, children) {\n    return {\n        module,\n        children\n    };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n)=>{\n                var _a;\n                return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : [];\n            }))\n        ];\n    }\n    return [\n        node\n    ];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node)=>{\n        var _a;\n        return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : [];\n    });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target)=>{\n        const nodes = [\n            ...config\n        ];\n        while(nodes.length > 0){\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target) return true;\n            if (node === null || node === void 0 ? void 0 : node.children) nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module)=>{\n        if (target === \"\") {\n            config = [\n                createNode(module, config)\n            ];\n            return;\n        }\n        config = traverse(config, target, (node)=>[\n                createNode(module, [\n                    node\n                ])\n            ]);\n    };\n    const append = (target, module)=>{\n        config = traverse(config, target, (node)=>[\n                createNode(node.module, [\n                    createNode(module, node.children)\n                ])\n            ]);\n    };\n    const addChild = (target, module, precede)=>{\n        config = traverse(config, target, (node)=>{\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...precede ? [\n                        createNode(module)\n                    ] : [],\n                    ...(_a = node.children) !== null && _a !== void 0 ? _a : [],\n                    ...!precede ? [\n                        createNode(module)\n                    ] : []\n                ])\n            ];\n        });\n    };\n    const addSibling = (target, module, precede)=>{\n        config = traverse(config, target, (node)=>[\n                ...precede ? [\n                    createNode(module)\n                ] : [],\n                node,\n                ...!precede ? [\n                    createNode(module)\n                ] : []\n            ]);\n    };\n    const addModule = (module)=>{\n        append(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module)=>{\n        config = traverse(config, target, (node)=>[\n                createNode(module, node.children)\n            ]);\n    };\n    const remove = (target)=>{\n        config = traverse(config, target, (node)=>node.children);\n    };\n    const augment = (augmentation)=>{\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin)=>{\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment\n        });\n    });\n    return {\n        config,\n        augmentation: (props)=>augmentations.reduce((acc, augmentation)=>augmentation(acc), props)\n    };\n}\nconst EventsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>()=>{\n            Object.keys(subscriptions).forEach((topic)=>delete subscriptions[topic]);\n        }, [\n        subscriptions\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        const unsubscribe = (topic, callback)=>{\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter((cb)=>cb !== callback));\n        };\n        const subscribe = (topic, callback)=>{\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return ()=>unsubscribe(topic, callback);\n        };\n        const publish = (...[topic, event])=>{\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback)=>callback(event));\n        };\n        return {\n            publish,\n            subscribe,\n            unsubscribe\n        };\n    }, [\n        subscriptions\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EventsContext.Provider, {\n        value: context\n    }, children);\n}\nconst LightboxPropsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxPropsContext.Provider, {\n        value: props\n    }, children);\n}\nconst LightboxStateContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch(action.type){\n        case \"swipe\":\n            {\n                const { slides } = state;\n                const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n                const globalIndex = state.globalIndex + increment;\n                const currentIndex = getSlideIndex(globalIndex, slides.length);\n                const currentSlide = getSlideIfPresent(slides, currentIndex);\n                const animation = increment || action.duration ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing\n                } : undefined;\n                return {\n                    slides,\n                    currentIndex,\n                    globalIndex,\n                    currentSlide,\n                    animation\n                };\n            }\n        case \"update\":\n            if (action.slides !== state.slides || action.index !== state.currentIndex) {\n                return {\n                    slides: action.slides,\n                    currentIndex: action.index,\n                    globalIndex: action.index,\n                    currentSlide: getSlideIfPresent(action.slides, action.index)\n                };\n            }\n            return state;\n        default:\n            throw new Error(_types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index)\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        dispatch({\n            type: \"update\",\n            slides,\n            index\n        });\n    }, [\n        slides,\n        index\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>({\n            ...state,\n            state,\n            dispatch\n        }), [\n        state,\n        dispatch\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxDispatchContext.Provider, {\n        value: dispatch\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxStateContext.Provider, {\n        value: context\n    }, children));\n}\nconst TimeoutsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>()=>{\n            timeouts.forEach((tid)=>window.clearTimeout(tid));\n            timeouts.splice(0, timeouts.length);\n        }, [\n        timeouts\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        const removeTimeout = (id)=>{\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid)=>tid !== id));\n        };\n        const setTimeout = (fn, delay)=>{\n            const id = window.setTimeout(()=>{\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id)=>{\n            if (id !== undefined) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return {\n            setTimeout,\n            clearTimeout\n        };\n    }, [\n        timeouts\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TimeoutsContext.Provider, {\n        value: context\n    }, children);\n}\nconst IconButton = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        ref: ref,\n        type: \"button\",\n        \"aria-label\": label(labels, label$1),\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_BUTTON), className),\n        onClick: onClick,\n        style: {\n            ...style,\n            ...styles.button\n        },\n        ...rest\n    }, renderIcon ? renderIcon() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Icon, {\n        className: cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON),\n        style: styles.icon\n    }));\n});\nfunction svgIcon(name, children) {\n    const icon = (props)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            width: \"24\",\n            height: \"24\",\n            \"aria-hidden\": \"true\",\n            focusable: \"false\",\n            ...props\n        }, children);\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n        fill: \"currentColor\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n    }), glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"defs\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"mask\", {\n        id: \"strike\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"white\"\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0L24 24\",\n        stroke: \"black\",\n        strokeWidth: 4\n    }))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0.70707 2.121320L21.878680 23.292883\",\n        stroke: \"currentColor\",\n        strokeWidth: 2\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n        fill: \"currentColor\",\n        mask: \"url(#strike)\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n    }), glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}));\nconst PreviousIcon = createIcon(\"Previous\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}));\nconst NextIcon = createIcon(\"Next\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}));\nconst LoadingIcon = createIcon(\"Loading\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, Array.from({\n    length: 8\n}).map((_, index, array)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"line\", {\n        key: index,\n        x1: \"12\",\n        y1: \"6.5\",\n        x2: \"12\",\n        y2: \"1.8\",\n        strokeLinecap: \"round\",\n        strokeWidth: \"2.6\",\n        stroke: \"currentColor\",\n        strokeOpacity: 1 / array.length * (index + 1),\n        transform: `rotate(${360 / array.length * index}, 12, 12)`\n    }))));\nconst ErrorIcon = createIcon(\"Error\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\"\n}));\nconst useLayoutEffect = hasWindow() ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event)=>setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return ()=>{\n            var _a;\n            return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener);\n        };\n    }, []);\n    return reduceMotion;\n}\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map(parseInt);\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        } else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return {\n        x,\n        y,\n        z\n    };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const animation = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect(()=>{\n        var _a, _b, _c;\n        if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n            const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n            if (keyframes && duration) {\n                (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                animation.current = undefined;\n                try {\n                    animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, {\n                        duration,\n                        easing\n                    });\n                } catch (err) {\n                    console.error(err);\n                }\n                if (animation.current) {\n                    animation.current.onfinish = ()=>{\n                        animation.current = undefined;\n                        onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                    };\n                }\n            }\n        }\n        snapshot.current = undefined;\n    });\n    return {\n        prepareAnimation: (currentSnapshot)=>{\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: ()=>{\n            var _a;\n            return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\";\n        }\n    };\n}\nfunction useContainerRect() {\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const observerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const [containerRect, setContainerRect] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const setContainerRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node)=>{\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = ()=>{\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value)=>parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom))\n                });\n            } else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return {\n        setContainerRef,\n        containerRef,\n        containerRect\n    };\n}\nfunction useDelay() {\n    const timeoutId = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((callback, delay)=>{\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n    }, [\n        setTimeout,\n        clearTimeout\n    ]);\n}\nfunction useEventCallback(fn) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(fn);\n    useLayoutEffect(()=>{\n        ref.current = fn;\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((...args)=>{\n        var _a;\n        return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args);\n    }, []);\n}\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    } else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>refA == null && refB == null ? null : (refValue)=>{\n            setRef(refA, refValue);\n            setRef(refB, refValue);\n        }, [\n        refA,\n        refB\n    ]);\n}\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    useLayoutEffect(()=>{\n        if (disabled && focused.current) {\n            focused.current = false;\n            focus();\n        }\n    }, [\n        disabled,\n        focus\n    ]);\n    const onFocus = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        focused.current = true;\n    }, []);\n    const onBlur = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        focused.current = false;\n    }, []);\n    return {\n        onFocus,\n        onBlur\n    };\n}\nfunction useRTL() {\n    const [isRTL, setIsRTL] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    useLayoutEffect(()=>{\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n}\nfunction useSensors() {\n    const [subscribers] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const notifySubscribers = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((type, event)=>{\n        var _a;\n        (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener)=>{\n            if (!event.isPropagationStopped()) listener(event);\n        });\n    }, [\n        subscribers\n    ]);\n    const registerSensors = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>({\n            onPointerDown: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN, event),\n            onPointerMove: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE, event),\n            onPointerUp: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP, event),\n            onPointerLeave: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE, event),\n            onPointerCancel: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL, event),\n            onKeyDown: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, event),\n            onKeyUp: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_UP, event),\n            onWheel: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, event)\n        }), [\n        notifySubscribers\n    ]);\n    const subscribeSensors = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((type, callback)=>{\n        if (!subscribers[type]) {\n            subscribers[type] = [];\n        }\n        subscribers[type].unshift(callback);\n        return ()=>{\n            const listeners = subscribers[type];\n            if (listeners) {\n                listeners.splice(0, listeners.length, ...listeners.filter((el)=>el !== callback));\n            }\n        };\n    }, [\n        subscribers\n    ]);\n    return {\n        registerSensors,\n        subscribeSensors\n    };\n}\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback((...args)=>{\n        lastCallbackTime.current = Date.now();\n        callback(args);\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((...args)=>{\n        delayCallback(()=>{\n            executeCallback(args);\n        }, delay - (Date.now() - lastCallbackTime.current));\n    }, [\n        delay,\n        executeCallback,\n        delayCallback\n    ]);\n}\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, style }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = react__WEBPACK_IMPORTED_MODULE_0__.useState(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (offset === 0) {\n            publish((0,_types_js__WEBPACK_IMPORTED_MODULE_2__.activeSlideStatus)(status));\n        }\n    }, [\n        offset,\n        status,\n        publish\n    ]);\n    const handleLoading = useEventCallback((img)=>{\n        (\"decode\" in img ? img.decode() : Promise.resolve()).catch(()=>{}).then(()=>{\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE);\n            setTimeout(()=>{\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n            }, 0);\n        });\n    });\n    const setImageRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((img)=>{\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [\n        handleLoading\n    ]);\n    const handleOnLoad = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>{\n        handleLoading(event.currentTarget);\n    }, [\n        handleLoading\n    ]);\n    const onError = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        setStatus(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR);\n    }, []);\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback)=>Number.isFinite(value) ? value : fallback;\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x)=>x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [\n        image.width\n    ] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x)=>x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [\n        image.height\n    ] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight ? {\n        maxWidth: `min(${maxWidth}px, 100%)`,\n        maxHeight: `min(${maxHeight}px, 100%)`\n    } : {\n        maxWidth: \"100%\",\n        maxHeight: \"100%\"\n    };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b)=>a.width - b.width).map((item)=>`${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = ()=>rect && !cover && image.width && image.height ? rect.height / image.height * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        ref: setImageRef,\n        onLoad: handleOnLoad,\n        onError: onError,\n        onClick: onClick,\n        draggable: false,\n        className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName),\n        style: {\n            ...defaultStyle,\n            ...style,\n            ...imagePropsStyle\n        },\n        ...restImageProps,\n        alt: image.alt,\n        sizes: sizes,\n        srcSet: srcSet,\n        src: image.src\n    }), status !== _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLACEHOLDER))\n    }, status === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING && ((render === null || render === void 0 ? void 0 : render.iconLoading) ? render.iconLoading() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingIcon, {\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON), cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING)))\n    })), status === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR && ((render === null || render === void 0 ? void 0 : render.iconError) ? render.iconError() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ErrorIcon, {\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON), cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR)))\n    }))));\n}\nvar SwipeState;\n(function(SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL\"] = 2] = \"PULL\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>!disabled ? cleanup(subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL, onPointerUp)) : ()=>{}, [\n        subscribeSensors,\n        onPointerDown,\n        onPointerMove,\n        onPointerUp,\n        disabled\n    ]);\n}\nvar Gesture;\n(function(Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL\"] = 2] = \"PULL\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullUpEnabled, pullDownEnabled, onPullStart, onPullProgress, onPullFinish, onPullCancel) {\n    const offset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pointers = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const activePointer = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const startTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const gesture = react__WEBPACK_IMPORTED_MODULE_0__.useRef(Gesture.NONE);\n    const clearPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>{\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n            gesture.current = Gesture.NONE;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p)=>p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>{\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [\n        clearPointer\n    ]);\n    const onPointerDown = useEventCallback((event)=>{\n        addPointer(event);\n    });\n    const exceedsPullThreshold = (value, threshold)=>pullDownEnabled && value > threshold || pullUpEnabled && value < -threshold;\n    const onPointerUp = useEventCallback((event)=>{\n        if (pointers.current.find((x)=>x.pointerId === event.pointerId) && activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (gesture.current === Gesture.SWIPE) {\n                if (Math.abs(currentOffset) > 0.3 * containerWidth || Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration) {\n                    onSwipeFinish(currentOffset, duration);\n                } else {\n                    onSwipeCancel(currentOffset);\n                }\n            } else if (gesture.current === Gesture.PULL) {\n                if (exceedsPullThreshold(currentOffset, 2 * SWIPE_THRESHOLD)) {\n                    onPullFinish(currentOffset, duration);\n                } else {\n                    onPullCancel(currentOffset);\n                }\n            }\n            offset.current = 0;\n            gesture.current = Gesture.NONE;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event)=>{\n        const pointer = pointers.current.find((p)=>p.pointerId === event.pointerId);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                } else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined) {\n                const startGesture = (newGesture)=>{\n                    addPointer(event);\n                    activePointer.current = event.pointerId;\n                    startTime.current = Date.now();\n                    gesture.current = newGesture;\n                };\n                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                    startGesture(Gesture.SWIPE);\n                    onSwipeStart();\n                } else if (Math.abs(deltaY) > Math.abs(deltaX) && exceedsPullThreshold(deltaY, SWIPE_THRESHOLD)) {\n                    startGesture(Gesture.PULL);\n                    onPullStart();\n                }\n            } else if (isCurrentPointer) {\n                if (gesture.current === Gesture.SWIPE) {\n                    offset.current = deltaX;\n                    onSwipeProgress(deltaX);\n                } else if (gesture.current === Gesture.PULL) {\n                    offset.current = deltaY;\n                    onPullProgress(deltaY);\n                }\n            }\n        }\n    });\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\nfunction usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY }) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const listener = useEventCallback((event)=>{\n        const horizontal = Math.abs(event.deltaX) > Math.abs(event.deltaY);\n        if (horizontal && preventDefaultWheelX || !horizontal && preventDefaultWheelY || event.ctrlKey) {\n            event.preventDefault();\n        }\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node)=>{\n        var _a;\n        if (node) {\n            node.addEventListener(\"wheel\", listener, {\n                passive: false\n            });\n        } else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"wheel\", listener);\n        }\n        ref.current = node;\n    }, [\n        listener\n    ]);\n}\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const intent = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const intentCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const resetCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const wheelResidualMomentum = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const startTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [\n        clearTimeout\n    ]);\n    const cancelSwipeResetCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [\n        clearTimeout\n    ]);\n    const handleCleanup = useEventCallback(()=>{\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(handleCleanup, [\n        swipeState,\n        handleCleanup\n    ]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset)=>{\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event)=>{\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        if (swipeState === SwipeState.NONE) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n                wheelResidualMomentum.current = event.deltaX;\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                wheelResidualMomentum.current = 0;\n                startTime.current = Date.now();\n                onSwipeStart();\n            } else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(()=>{\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        } else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                wheelResidualMomentum.current = event.deltaX;\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(()=>handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        } else {\n            wheelResidualMomentum.current = event.deltaX;\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, onWheel), [\n        subscribeSensors,\n        onWheel\n    ]);\n}\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const { closeOnPullUp, closeOnPullDown, preventDefaultWheelX, preventDefaultWheelY } = controller;\n    const [toolbarWidth, setToolbarWidth] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(SwipeState.NONE);\n    const swipeOffset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pullOffset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pullOpacity = react__WEBPACK_IMPORTED_MODULE_0__.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventWheelDefaults({\n        preventDefaultWheelX,\n        preventDefaultWheelY\n    }), setContainerRef);\n    const carouselRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const isRTL = useRTL();\n    const rtl = (value)=>(isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback(()=>{\n        var _a;\n        return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n    const getLightboxProps = useEventCallback(()=>props);\n    const getLightboxState = useEventCallback(()=>state);\n    const prev = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((params)=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, params), [\n        publish\n    ]);\n    const next = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((params)=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, params), [\n        publish\n    ]);\n    const close = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE), [\n        publish\n    ]);\n    const isSwipeValid = (offset)=>!(carousel.finite && (rtl(offset) > 0 && state.currentIndex === 0 || rtl(offset) < 0 && state.currentIndex === state.slides.length - 1));\n    const setSwipeOffset = (offset)=>{\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const setPullOffset = (offset)=>{\n        var _a, _b;\n        pullOffset.current = offset;\n        pullOpacity.current = (()=>{\n            const threshold = 60;\n            const minOpacity = 0.5;\n            const offsetValue = (()=>{\n                if (closeOnPullDown && offset > 0) return offset;\n                if (closeOnPullUp && offset < 0) return -offset;\n                return 0;\n            })();\n            return Math.min(Math.max(round(1 - offsetValue / threshold * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_opacity\"), `${pullOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullAnimation } = useAnimation(carouselRef, (snapshot, rect, translate)=>{\n        if (carouselRef.current && containerRect) {\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                        opacity: snapshot.opacity\n                    },\n                    {\n                        transform: \"translate(0, 0)\",\n                        opacity: 1\n                    }\n                ],\n                duration: snapshot.duration,\n                easing: animation.easing.fade\n            };\n        }\n        return undefined;\n    });\n    const pull = (offset, cancel)=>{\n        if (closeOnPullUp || closeOnPullDown) {\n            setPullOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullOpacity.current,\n                    duration\n                });\n            }\n            cleanupPullOffset(()=>{\n                setPullOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, (snapshot, rect, translate)=>{\n        var _a;\n        if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? parsedSpacing.percent * containerRect.width / 100 : parsedSpacing.pixel) || 0;\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) + snapshot.rect.x - rect.x + translate.x}px, 0)`\n                    },\n                    {\n                        transform: \"translate(0, 0)\"\n                    }\n                ],\n                duration: state.animation.duration,\n                easing: state.animation.easing\n            };\n        }\n        return undefined;\n    });\n    const swipe = useEventCallback((action)=>{\n        var _a, _b;\n        const currentSwipeOffset = action.offset || 0;\n        const swipeDuration = !currentSwipeOffset ? (_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe : animation.swipe;\n        const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n        let { direction } = action;\n        const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth ? swipeDuration / containerWidth * Math.abs(currentSwipeOffset) : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration = newSwipeAnimationDuration / expectedTime * Math.max(elapsedTime, expectedTime / 5);\n                } else if (containerWidth) {\n                    newSwipeAnimationDuration = swipeDuration / containerWidth * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n                direction = rtl(currentSwipeOffset) > 0 ? _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV : _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT;\n            } else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n        }\n        let increment = 0;\n        if (direction === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            } else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        } else if (direction === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            } else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        cleanupSwipeOffset(()=>{\n            setSwipeOffset(0);\n            setSwipeState(SwipeState.NONE);\n        }, newSwipeAnimationDuration);\n        if (carouselRef.current) {\n            prepareAnimation({\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex\n            });\n        }\n        setSwipeState(newSwipeState);\n        publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, {\n            type: \"swipe\",\n            increment,\n            duration: newSwipeAnimationDuration,\n            easing: swipeEasing\n        });\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var _a, _b;\n        if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n            cleanupAnimationIncrement(()=>dispatch({\n                    type: \"swipe\",\n                    increment: 0\n                }), state.animation.duration);\n        }\n    }, [\n        state.animation,\n        dispatch,\n        cleanupAnimationIncrement\n    ]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        ()=>setSwipeState(SwipeState.SWIPE),\n        (offset)=>setSwipeOffset(offset),\n        (offset, duration)=>swipe({\n                offset,\n                duration,\n                count: 1\n            }),\n        (offset)=>swipe({\n                offset,\n                count: 0\n            })\n    ];\n    const pullParams = [\n        ()=>{\n            if (closeOnPullDown) {\n                setSwipeState(SwipeState.PULL);\n            }\n        },\n        (offset)=>setPullOffset(offset),\n        (offset)=>pull(offset),\n        (offset)=>pull(offset, true)\n    ];\n    usePointerSwipe(...swipeParams, closeOnPullUp, closeOnPullDown, ...pullParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(()=>{\n        if (controller.focus) {\n            if (document.querySelector(`.${cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL)} .${cssClass(cssContainerPrefix())}`)) {\n                focus();\n            }\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(focusOnMount, [\n        focusOnMount\n    ]);\n    const onViewCallback = useEventCallback(()=>{\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, {\n            index: state.currentIndex\n        });\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(onViewCallback, [\n        state.globalIndex,\n        onViewCallback\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>cleanup(subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, (action)=>swipe({\n                direction: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV,\n                ...action\n            })), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, (action)=>swipe({\n                direction: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT,\n                ...action\n            })), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, (action)=>dispatch(action))), [\n        subscribe,\n        swipe,\n        dispatch\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>({\n            prev,\n            next,\n            close,\n            focus,\n            slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : {\n                width: 0,\n                height: 0\n            },\n            containerRect: containerRect || {\n                width: 0,\n                height: 0\n            },\n            subscribeSensors,\n            containerRef,\n            setCarouselRef,\n            toolbarWidth,\n            setToolbarWidth\n        }), [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(controller.ref, ()=>({\n            prev,\n            next,\n            close,\n            focus,\n            getLightboxProps,\n            getLightboxState\n        }), [\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: handleContainerRef,\n        className: clsx(cssClass(cssContainerPrefix()), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)),\n        style: {\n            ...swipeState === SwipeState.SWIPE ? {\n                [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px`\n            } : null,\n            ...swipeState === SwipeState.PULL ? {\n                [cssVar(\"pull_offset\")]: `${Math.round(pullOffset.current)}px`,\n                [cssVar(\"pull_opacity\")]: `${pullOpacity.current}`\n            } : null,\n            ...controller.touchAction !== \"none\" ? {\n                [cssVar(\"controller_touch_action\")]: controller.touchAction\n            } : null,\n            ...styles.container\n        },\n        ...controller.aria ? {\n            role: \"presentation\",\n            \"aria-live\": \"polite\"\n        } : null,\n        tabIndex: -1,\n        ...registerSensors\n    }, containerRect && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ControllerContext.Provider, {\n        value: context\n    }, children, (_a = render.controls) === null || _a === void 0 ? void 0 : _a.call(render)));\n}\nconst ControllerModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, Controller);\nfunction cssPrefix$2(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, close } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, controller: { closeOnBackdropClick }, styles: { slide: style } } = useLightboxProps();\n    const renderSlide = ()=>{\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, {\n            slide,\n            offset,\n            rect: slideRect\n        });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ImageSlide, {\n                slide: slide,\n                offset: offset,\n                render: render,\n                rect: slideRect,\n                imageFit: imageFit,\n                imageProps: imageProps,\n                onClick: offset === 0 ? ()=>onClick === null || onClick === void 0 ? void 0 : onClick({\n                        index: currentIndex\n                    }) : undefined\n            });\n        }\n        return rendered ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 : _b.call(render, {\n            slide\n        }), ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : ({ children })=>children)({\n            slide,\n            children: rendered\n        }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 : _d.call(render, {\n            slide\n        })) : null;\n    };\n    const handleBackdropClick = (event)=>{\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (closeOnBackdropClick && target && container && (target === container || Array.from(container.children).find((x)=>x === target) && target.classList.contains(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER)))) {\n            close();\n        }\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: containerRef,\n        className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)),\n        onClick: handleBackdropClick,\n        style: style\n    }, renderSlide());\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cssClass(\"slide\"),\n        style: style\n    });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const items = [];\n    const preload = calculatePreload(carousel, slides, 1);\n    if (hasSlides(slides)) {\n        for(let i = currentIndex - preload; i < currentIndex; i += 1){\n            const key = globalIndex + i - currentIndex;\n            items.push(!carousel.finite || i >= 0 ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselSlide, {\n                key: key,\n                slide: slides[(i + preload * slides.length) % slides.length],\n                offset: i - currentIndex\n            }) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Placeholder, {\n                key: key\n            }));\n        }\n        items.push(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselSlide, {\n            key: globalIndex,\n            slide: slides[currentIndex],\n            offset: 0\n        }));\n        for(let i = currentIndex + 1; i <= currentIndex + preload; i += 1){\n            const key = globalIndex + i - currentIndex;\n            items.push(!carousel.finite || i <= slides.length - 1 ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselSlide, {\n                key: key,\n                slide: slides[i % slides.length],\n                offset: i - currentIndex\n            }) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Placeholder, {\n                key: key\n            }));\n        }\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setCarouselRef,\n        className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))),\n        style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0\n        }\n    }, items);\n}\nconst CarouselModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL, Carousel);\nfunction useNavigationState() {\n    const { carousel } = useLightboxProps();\n    const { slides, currentIndex } = useLightboxState();\n    const prevDisabled = slides.length === 0 || carousel.finite && currentIndex === 0;\n    const nextDisabled = slides.length === 0 || carousel.finite && currentIndex === slides.length - 1;\n    return {\n        prevDisabled,\n        nextDisabled\n    };\n}\nfunction useKeyboardNavigation(subscribeSensors) {\n    var _a;\n    const isRTL = useRTL();\n    const { publish } = useEvents();\n    const { animation } = useLightboxProps();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prev = useThrottle(()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV), throttle);\n    const next = useThrottle(()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT), throttle);\n    const handleKeyDown = useEventCallback((event)=>{\n        switch(event.key){\n            case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ESCAPE:\n                publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE);\n                break;\n            case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_LEFT:\n                if (!(isRTL ? nextDisabled : prevDisabled)) (isRTL ? next : prev)();\n                break;\n            case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_RIGHT:\n                if (!(isRTL ? prevDisabled : nextDisabled)) (isRTL ? prev : next)();\n                break;\n            default:\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, handleKeyDown), [\n        subscribeSensors,\n        handleKeyDown\n    ]);\n}\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton, {\n        label: label,\n        icon: icon,\n        renderIcon: renderIcon,\n        className: cssClass(`navigation_${action}`),\n        disabled: disabled,\n        onClick: onClick,\n        style: style,\n        ...useLoseFocus(useController().focus, disabled)\n    });\n}\nfunction Navigation({ render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles }) {\n    const { prev, next, subscribeSensors } = useController();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    useKeyboardNavigation(subscribeSensors);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, buttonPrev ? buttonPrev() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NavigationButton, {\n        label: \"Previous\",\n        action: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV,\n        icon: PreviousIcon,\n        renderIcon: iconPrev,\n        style: styles.navigationPrev,\n        disabled: prevDisabled,\n        onClick: prev\n    }), buttonNext ? buttonNext() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NavigationButton, {\n        label: \"Next\",\n        action: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT,\n        icon: NextIcon,\n        renderIcon: iconNext,\n        style: styles.navigationNext,\n        disabled: nextDisabled,\n        onClick: next\n    }));\n}\nconst NavigationModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NAVIGATION, Navigation);\nconst noScroll = cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue) || 0) + padding}px`);\n    return ()=>{\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        } else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ noScroll: { disabled }, children }) {\n    const rtl = useRTL();\n    useLayoutEffect(()=>{\n        if (disabled) return ()=>{};\n        const cleanup = [];\n        const { body, documentElement } = document;\n        const scrollbar = Math.round(window.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for(let i = 0; i < elements.length; i += 1){\n                const element = elements[i];\n                if (isHTMLElement(element) && window.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" && !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return ()=>{\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean)=>clean());\n        };\n    }, [\n        rtl,\n        disabled\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nconst NoScrollModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NO_SCROLL, NoScroll);\nfunction cssPrefix$1(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return ()=>{\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        } else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const [visible, setVisible] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const cleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const restoreFocus = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        setMounted(true);\n        return ()=>{\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleCleanup = useEventCallback(()=>{\n        cleanup.current.forEach((clean)=>clean());\n        cleanup.current = [];\n    });\n    const handleClose = useEventCallback(()=>{\n        var _a;\n        setVisible(false);\n        handleCleanup();\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(()=>{\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, animationDuration);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE, handleClose), [\n        subscribe,\n        handleClose\n    ]);\n    const handleEnter = useEventCallback((node)=>{\n        var _a, _b, _c;\n        node.scrollTop;\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for(let i = 0; i < elements.length; i += 1){\n            const element = elements[i];\n            if ([\n                \"TEMPLATE\",\n                \"SCRIPT\",\n                \"STYLE\"\n            ].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        cleanup.current.push(()=>{\n            var _a, _b;\n            (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n        setTimeout(()=>{\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, animationDuration);\n    });\n    const handleRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node)=>{\n        if (node) {\n            handleEnter(node);\n        } else {\n            handleCleanup();\n        }\n    }, [\n        handleEnter,\n        handleCleanup\n    ]);\n    return mounted ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: handleRef,\n        className: clsx(className, cssClass(\"root\"), cssClass(cssPrefix$1()), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))),\n        role: \"presentation\",\n        \"aria-live\": \"polite\",\n        style: {\n            ...animation.fade !== LightboxDefaultProps.animation.fade ? {\n                [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms`\n            } : null,\n            ...animation.easing.fade !== LightboxDefaultProps.animation.easing.fade ? {\n                [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade\n            } : null,\n            ...styles.root\n        },\n        onFocus: (event)=>{\n            if (!restoreFocus.current) {\n                restoreFocus.current = event.relatedTarget;\n            }\n        }\n    }, children), portal.root || document.body) : null;\n}\nconst PortalModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL, Portal);\nfunction Root({ children }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nconst RootModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_ROOT, Root);\nfunction cssPrefix(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect(()=>{\n        setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n    }, [\n        setToolbarWidth,\n        containerRect === null || containerRect === void 0 ? void 0 : containerRect.width\n    ]);\n    const renderCloseButton = ()=>{\n        if (buttonClose) return buttonClose();\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton, {\n            key: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE,\n            label: \"Close\",\n            icon: CloseIcon,\n            renderIcon: iconClose,\n            onClick: close\n        });\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setContainerRef,\n        style: styles.toolbar,\n        className: cssClass(cssPrefix())\n    }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button)=>button === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE ? renderCloseButton() : button));\n}\nconst ToolbarModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR, Toolbar);\nfunction renderNode(node, props) {\n    var _a;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(node.module.component, {\n        key: node.module.name,\n        ...props\n    }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child)=>renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: {\n            ...defaultAnimationEasing,\n            ...easing\n        },\n        ...restDefaultAnimation,\n        ...restAnimation\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, noScroll, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, noScroll: defaultNoScroll, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule)\n                ])\n            ])\n        ])\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: {\n            ...defaultCarousel,\n            ...carousel\n        },\n        render: {\n            ...defaultRender,\n            ...render\n        },\n        toolbar: {\n            ...defaultToolbar,\n            ...toolbar\n        },\n        controller: {\n            ...defaultController,\n            ...controller\n        },\n        noScroll: {\n            ...defaultNoScroll,\n            ...noScroll\n        },\n        on: {\n            ...defaultOn,\n            ...on\n        },\n        ...restDefaultProps,\n        ...restProps\n    });\n    if (!props.open) return null;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxPropsProvider, {\n        ...props\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxStateProvider, {\n        slides: slides || defaultSlides,\n        index: parseInt(index || defaultIndex)\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TimeoutsProvider, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props)))));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyttRUFDK0I7QUFDaXBCO0FBQ3ZvQjtBQUNvUTtBQUU3UyxNQUFNcUQsT0FBTyxDQUFDLEdBQUdDLFVBQVk7V0FBSUE7S0FBUSxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsTUFBUUMsUUFBUUQsTUFBTUUsSUFBSSxDQUFDO0FBQzdFLE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsV0FBVyxDQUFDQyxPQUFTLENBQUMsRUFBRUYsWUFBWSxFQUFFRSxLQUFLLENBQUM7QUFDbEQsTUFBTUMsU0FBUyxDQUFDRCxPQUFTLENBQUMsRUFBRSxFQUFFRixZQUFZLEVBQUVFLEtBQUssQ0FBQztBQUNsRCxNQUFNRSxnQkFBZ0IsQ0FBQ0MsTUFBTUMsU0FBVyxDQUFDLEVBQUVELEtBQUssRUFBRUMsU0FBUyxDQUFDLENBQUMsRUFBRUEsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQzlFLE1BQU1DLG9CQUFvQixDQUFDRixPQUFTLENBQUNDLFNBQVdGLGNBQWNDLE1BQU1DO0FBQ3BFLE1BQU1FLFFBQVEsQ0FBQ0MsUUFBUUMsTUFBU0QsVUFBVUEsTUFBTSxDQUFDQyxJQUFJLEdBQUdELE1BQU0sQ0FBQ0MsSUFBSSxHQUFHQTtBQUN0RSxNQUFNQyxVQUFVLENBQUMsR0FBR0MsV0FBYTtRQUM3QkEsU0FBU0MsT0FBTyxDQUFDLENBQUNDO1lBQ2RBO1FBQ0o7SUFDSjtBQUNBLE1BQU1DLGlCQUFpQixDQUFDYixNQUFNYyxhQUFhQyxVQUFZO1FBQ25ELE1BQU1DLE1BQU03RSw2Q0FBZ0IsQ0FBQzRF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YnBhY2s6Ly93YXRlcm1hcmstZXhwZXJpZW5jZS8uL25vZGVfbW9kdWxlcy95ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveC9kaXN0L2luZGV4LmpzPzUyZTIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSU1BR0VfRklUX0NPVkVSLCBJTUFHRV9GSVRfQ09OVEFJTiwgQUNUSU9OX0NMT1NFLCBNT0RVTEVfQ09OVFJPTExFUiwgVU5LTk9XTl9BQ1RJT05fVFlQRSwgRUxFTUVOVF9CVVRUT04sIEVMRU1FTlRfSUNPTiwgRVZFTlRfT05fUE9JTlRFUl9ET1dOLCBFVkVOVF9PTl9QT0lOVEVSX01PVkUsIEVWRU5UX09OX1BPSU5URVJfVVAsIEVWRU5UX09OX1BPSU5URVJfTEVBVkUsIEVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMLCBFVkVOVF9PTl9LRVlfRE9XTiwgRVZFTlRfT05fS0VZX1VQLCBFVkVOVF9PTl9XSEVFTCwgU0xJREVfU1RBVFVTX0xPQURJTkcsIGFjdGl2ZVNsaWRlU3RhdHVzLCBTTElERV9TVEFUVVNfQ09NUExFVEUsIFNMSURFX1NUQVRVU19FUlJPUiwgU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSLCBBQ1RJT05fUFJFViwgQUNUSU9OX05FWFQsIEFDVElPTl9TV0lQRSwgTU9EVUxFX1BPUlRBTCwgQ0xBU1NfRkxFWF9DRU5URVIsIE1PRFVMRV9DQVJPVVNFTCwgQ0xBU1NfU0xJREVfV1JBUFBFUiwgVktfQVJST1dfUklHSFQsIFZLX0FSUk9XX0xFRlQsIFZLX0VTQ0FQRSwgTU9EVUxFX05BVklHQVRJT04sIENMQVNTX05PX1NDUk9MTCwgQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcsIE1PRFVMRV9OT19TQ1JPTEwsIE1PRFVMRV9ST09ULCBNT0RVTEVfVE9PTEJBUiB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcbmV4cG9ydCB7IEFDVElWRV9TTElERV9DT01QTEVURSwgQUNUSVZFX1NMSURFX0VSUk9SLCBBQ1RJVkVfU0xJREVfTE9BRElORywgQUNUSVZFX1NMSURFX1BMQVlJTkcsIENMQVNTX0ZVTExTSVpFLCBQTFVHSU5fQ0FQVElPTlMsIFBMVUdJTl9DT1VOVEVSLCBQTFVHSU5fRE9XTkxPQUQsIFBMVUdJTl9GVUxMU0NSRUVOLCBQTFVHSU5fSU5MSU5FLCBQTFVHSU5fU0hBUkUsIFBMVUdJTl9TTElERVNIT1csIFBMVUdJTl9USFVNQk5BSUxTLCBQTFVHSU5fWk9PTSwgU0xJREVfU1RBVFVTX1BMQVlJTkcgfSBmcm9tICcuL3R5cGVzLmpzJztcblxuY29uc3QgY2xzeCA9ICguLi5jbGFzc2VzKSA9PiBbLi4uY2xhc3Nlc10uZmlsdGVyKChjbHMpID0+IEJvb2xlYW4oY2xzKSkuam9pbihcIiBcIik7XG5jb25zdCBjc3NQcmVmaXgkMyA9IFwieWFybF9fXCI7XG5jb25zdCBjc3NDbGFzcyA9IChuYW1lKSA9PiBgJHtjc3NQcmVmaXgkM30ke25hbWV9YDtcbmNvbnN0IGNzc1ZhciA9IChuYW1lKSA9PiBgLS0ke2Nzc1ByZWZpeCQzfSR7bmFtZX1gO1xuY29uc3QgY29tcG9zZVByZWZpeCA9IChiYXNlLCBwcmVmaXgpID0+IGAke2Jhc2V9JHtwcmVmaXggPyBgXyR7cHJlZml4fWAgOiBcIlwifWA7XG5jb25zdCBtYWtlQ29tcG9zZVByZWZpeCA9IChiYXNlKSA9PiAocHJlZml4KSA9PiBjb21wb3NlUHJlZml4KGJhc2UsIHByZWZpeCk7XG5jb25zdCBsYWJlbCA9IChsYWJlbHMsIGxibCkgPT4gKGxhYmVscyAmJiBsYWJlbHNbbGJsXSA/IGxhYmVsc1tsYmxdIDogbGJsKTtcbmNvbnN0IGNsZWFudXAgPSAoLi4uY2xlYW5lcnMpID0+ICgpID0+IHtcbiAgICBjbGVhbmVycy5mb3JFYWNoKChjbGVhbmVyKSA9PiB7XG4gICAgICAgIGNsZWFuZXIoKTtcbiAgICB9KTtcbn07XG5jb25zdCBtYWtlVXNlQ29udGV4dCA9IChuYW1lLCBjb250ZXh0TmFtZSwgY29udGV4dCkgPT4gKCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IFJlYWN0LnVzZUNvbnRleHQoY29udGV4dCk7XG4gICAgaWYgKCFjdHgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke25hbWV9IG11c3QgYmUgdXNlZCB3aXRoaW4gYSAke2NvbnRleHROYW1lfS5Qcm92aWRlcmApO1xuICAgIH1cbiAgICByZXR1cm4gY3R4O1xufTtcbmNvbnN0IGhhc1dpbmRvdyA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG5mdW5jdGlvbiByb3VuZCh2YWx1ZSwgZGVjaW1hbHMgPSAwKSB7XG4gICAgY29uc3QgZmFjdG9yID0gMTAgKiogZGVjaW1hbHM7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKHZhbHVlICsgTnVtYmVyLkVQU0lMT04pICogZmFjdG9yKSAvIGZhY3Rvcjtcbn1cbmNvbnN0IGlzSW1hZ2VTbGlkZSA9IChzbGlkZSkgPT4gc2xpZGUudHlwZSA9PT0gdW5kZWZpbmVkIHx8IHNsaWRlLnR5cGUgPT09IFwiaW1hZ2VcIjtcbmNvbnN0IGlzSW1hZ2VGaXRDb3ZlciA9IChpbWFnZSwgaW1hZ2VGaXQpID0+IGltYWdlLmltYWdlRml0ID09PSBJTUFHRV9GSVRfQ09WRVIgfHwgKGltYWdlLmltYWdlRml0ICE9PSBJTUFHRV9GSVRfQ09OVEFJTiAmJiBpbWFnZUZpdCA9PT0gSU1BR0VfRklUX0NPVkVSKTtcbmZ1bmN0aW9uIHBhcnNlSW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IE51bWJlci5wYXJzZUludCh2YWx1ZSwgMTApIDogdmFsdWU7XG59XG5mdW5jdGlvbiBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB7IHBpeGVsOiBpbnB1dCB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoaW5wdXQpO1xuICAgICAgICByZXR1cm4gaW5wdXQuZW5kc1dpdGgoXCIlXCIpID8geyBwZXJjZW50OiB2YWx1ZSB9IDogeyBwaXhlbDogdmFsdWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcGl4ZWw6IDAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVTbGlkZVJlY3QoY29udGFpbmVyUmVjdCwgcGFkZGluZykge1xuICAgIGNvbnN0IHBhZGRpbmdWYWx1ZSA9IHBhcnNlTGVuZ3RoUGVyY2VudGFnZShwYWRkaW5nKTtcbiAgICBjb25zdCBwYWRkaW5nUGl4ZWxzID0gcGFkZGluZ1ZhbHVlLnBlcmNlbnQgIT09IHVuZGVmaW5lZCA/IChjb250YWluZXJSZWN0LndpZHRoIC8gMTAwKSAqIHBhZGRpbmdWYWx1ZS5wZXJjZW50IDogcGFkZGluZ1ZhbHVlLnBpeGVsO1xuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBNYXRoLm1heChjb250YWluZXJSZWN0LndpZHRoIC0gMiAqIHBhZGRpbmdQaXhlbHMsIDApLFxuICAgICAgICBoZWlnaHQ6IE1hdGgubWF4KGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gMiAqIHBhZGRpbmdQaXhlbHMsIDApLFxuICAgIH07XG59XG5jb25zdCBkZXZpY2VQaXhlbFJhdGlvID0gKCkgPT4gKGhhc1dpbmRvdygpID8gd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmRldmljZVBpeGVsUmF0aW8gOiB1bmRlZmluZWQpIHx8IDE7XG5jb25zdCBnZXRTbGlkZUluZGV4ID0gKGluZGV4LCBzbGlkZXNDb3VudCkgPT4gc2xpZGVzQ291bnQgPiAwID8gKChpbmRleCAlIHNsaWRlc0NvdW50KSArIHNsaWRlc0NvdW50KSAlIHNsaWRlc0NvdW50IDogMDtcbmNvbnN0IGhhc1NsaWRlcyA9IChzbGlkZXMpID0+IHNsaWRlcy5sZW5ndGggPiAwO1xuY29uc3QgZ2V0U2xpZGUgPSAoc2xpZGVzLCBpbmRleCkgPT4gc2xpZGVzW2dldFNsaWRlSW5kZXgoaW5kZXgsIHNsaWRlcy5sZW5ndGgpXTtcbmNvbnN0IGdldFNsaWRlSWZQcmVzZW50ID0gKHNsaWRlcywgaW5kZXgpID0+IGhhc1NsaWRlcyhzbGlkZXMpID8gZ2V0U2xpZGUoc2xpZGVzLCBpbmRleCkgOiB1bmRlZmluZWQ7XG5mdW5jdGlvbiBhZGRUb29sYmFyQnV0dG9uKHRvb2xiYXIsIGtleSwgYnV0dG9uKSB7XG4gICAgaWYgKCFidXR0b24pXG4gICAgICAgIHJldHVybiB0b29sYmFyO1xuICAgIGNvbnN0IHsgYnV0dG9ucywgLi4ucmVzdFRvb2xiYXIgfSA9IHRvb2xiYXI7XG4gICAgY29uc3QgaW5kZXggPSBidXR0b25zLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbSA9PT0ga2V5KTtcbiAgICBjb25zdCBidXR0b25XaXRoS2V5ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoYnV0dG9uKSA/IFJlYWN0LmNsb25lRWxlbWVudChidXR0b24sIHsga2V5IH0sIG51bGwpIDogYnV0dG9uO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5idXR0b25zXTtcbiAgICAgICAgcmVzdWx0LnNwbGljZShpbmRleCwgMSwgYnV0dG9uV2l0aEtleSk7XG4gICAgICAgIHJldHVybiB7IGJ1dHRvbnM6IHJlc3VsdCwgLi4ucmVzdFRvb2xiYXIgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgYnV0dG9uczogW2J1dHRvbldpdGhLZXksIC4uLmJ1dHRvbnNdLCAuLi5yZXN0VG9vbGJhciB9O1xufVxuZnVuY3Rpb24gc3RvcE5hdmlnYXRpb25FdmVudHNQcm9wYWdhdGlvbigpIHtcbiAgICBjb25zdCBzdG9wUHJvcGFnYXRpb24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfTtcbiAgICByZXR1cm4geyBvblBvaW50ZXJEb3duOiBzdG9wUHJvcGFnYXRpb24sIG9uS2V5RG93bjogc3RvcFByb3BhZ2F0aW9uLCBvbldoZWVsOiBzdG9wUHJvcGFnYXRpb24gfTtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVByZWxvYWQoY2Fyb3VzZWwsIHNsaWRlcywgbWluaW11bSA9IDApIHtcbiAgICByZXR1cm4gTWF0aC5taW4oY2Fyb3VzZWwucHJlbG9hZCwgTWF0aC5tYXgoY2Fyb3VzZWwuZmluaXRlID8gc2xpZGVzLmxlbmd0aCAtIDEgOiBNYXRoLmZsb29yKHNsaWRlcy5sZW5ndGggLyAyKSwgbWluaW11bSkpO1xufVxuXG5jb25zdCBMaWdodGJveERlZmF1bHRQcm9wcyA9IHtcbiAgICBvcGVuOiBmYWxzZSxcbiAgICBjbG9zZTogKCkgPT4geyB9LFxuICAgIGluZGV4OiAwLFxuICAgIHNsaWRlczogW10sXG4gICAgcmVuZGVyOiB7fSxcbiAgICBwbHVnaW5zOiBbXSxcbiAgICB0b29sYmFyOiB7IGJ1dHRvbnM6IFtBQ1RJT05fQ0xPU0VdIH0sXG4gICAgbGFiZWxzOiB7fSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgZmFkZTogMjUwLFxuICAgICAgICBzd2lwZTogNTAwLFxuICAgICAgICBlYXNpbmc6IHtcbiAgICAgICAgICAgIGZhZGU6IFwiZWFzZVwiLFxuICAgICAgICAgICAgc3dpcGU6IFwiZWFzZS1vdXRcIixcbiAgICAgICAgICAgIG5hdmlnYXRpb246IFwiZWFzZS1pbi1vdXRcIixcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGNhcm91c2VsOiB7XG4gICAgICAgIGZpbml0ZTogZmFsc2UsXG4gICAgICAgIHByZWxvYWQ6IDIsXG4gICAgICAgIHBhZGRpbmc6IFwiMTZweFwiLFxuICAgICAgICBzcGFjaW5nOiBcIjMwJVwiLFxuICAgICAgICBpbWFnZUZpdDogSU1BR0VfRklUX0NPTlRBSU4sXG4gICAgICAgIGltYWdlUHJvcHM6IHt9LFxuICAgIH0sXG4gICAgY29udHJvbGxlcjoge1xuICAgICAgICByZWY6IG51bGwsXG4gICAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgICBhcmlhOiBmYWxzZSxcbiAgICAgICAgdG91Y2hBY3Rpb246IFwibm9uZVwiLFxuICAgICAgICBjbG9zZU9uUHVsbFVwOiBmYWxzZSxcbiAgICAgICAgY2xvc2VPblB1bGxEb3duOiBmYWxzZSxcbiAgICAgICAgY2xvc2VPbkJhY2tkcm9wQ2xpY2s6IGZhbHNlLFxuICAgICAgICBwcmV2ZW50RGVmYXVsdFdoZWVsWDogdHJ1ZSxcbiAgICAgICAgcHJldmVudERlZmF1bHRXaGVlbFk6IGZhbHNlLFxuICAgIH0sXG4gICAgcG9ydGFsOiB7fSxcbiAgICBub1Njcm9sbDoge1xuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgfSxcbiAgICBvbjoge30sXG4gICAgc3R5bGVzOiB7fSxcbiAgICBjbGFzc05hbWU6IFwiXCIsXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVNb2R1bGUobmFtZSwgY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHsgbmFtZSwgY29tcG9uZW50IH07XG59XG5mdW5jdGlvbiBjcmVhdGVOb2RlKG1vZHVsZSwgY2hpbGRyZW4pIHtcbiAgICByZXR1cm4geyBtb2R1bGUsIGNoaWxkcmVuIH07XG59XG5mdW5jdGlvbiB0cmF2ZXJzZU5vZGUobm9kZSwgdGFyZ2V0LCBhcHBseSkge1xuICAgIGlmIChub2RlLm1vZHVsZS5uYW1lID09PSB0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KG5vZGUpO1xuICAgIH1cbiAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgY3JlYXRlTm9kZShub2RlLm1vZHVsZSwgbm9kZS5jaGlsZHJlbi5mbGF0TWFwKChuKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHRyYXZlcnNlTm9kZShuLCB0YXJnZXQsIGFwcGx5KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107IH0pKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIFtub2RlXTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlKG5vZGVzLCB0YXJnZXQsIGFwcGx5KSB7XG4gICAgcmV0dXJuIG5vZGVzLmZsYXRNYXAoKG5vZGUpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdHJhdmVyc2VOb2RlKG5vZGUsIHRhcmdldCwgYXBwbHkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTsgfSk7XG59XG5mdW5jdGlvbiB3aXRoUGx1Z2lucyhyb290LCBwbHVnaW5zID0gW10sIGF1Z21lbnRhdGlvbnMgPSBbXSkge1xuICAgIGxldCBjb25maWcgPSByb290O1xuICAgIGNvbnN0IGNvbnRhaW5zID0gKHRhcmdldCkgPT4ge1xuICAgICAgICBjb25zdCBub2RlcyA9IFsuLi5jb25maWddO1xuICAgICAgICB3aGlsZSAobm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUubW9kdWxlLm5hbWUpID09PSB0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goLi4ubm9kZS5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgY29uc3QgYWRkUGFyZW50ID0gKHRhcmdldCwgbW9kdWxlKSA9PiB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGNvbmZpZyA9IFtjcmVhdGVOb2RlKG1vZHVsZSwgY29uZmlnKV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiBbY3JlYXRlTm9kZShtb2R1bGUsIFtub2RlXSldKTtcbiAgICB9O1xuICAgIGNvbnN0IGFwcGVuZCA9ICh0YXJnZXQsIG1vZHVsZSkgPT4ge1xuICAgICAgICBjb25maWcgPSB0cmF2ZXJzZShjb25maWcsIHRhcmdldCwgKG5vZGUpID0+IFtjcmVhdGVOb2RlKG5vZGUubW9kdWxlLCBbY3JlYXRlTm9kZShtb2R1bGUsIG5vZGUuY2hpbGRyZW4pXSldKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoaWxkID0gKHRhcmdldCwgbW9kdWxlLCBwcmVjZWRlKSA9PiB7XG4gICAgICAgIGNvbmZpZyA9IHRyYXZlcnNlKGNvbmZpZywgdGFyZ2V0LCAobm9kZSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlKG5vZGUubW9kdWxlLCBbXG4gICAgICAgICAgICAgICAgICAgIC4uLihwcmVjZWRlID8gW2NyZWF0ZU5vZGUobW9kdWxlKV0gOiBbXSksXG4gICAgICAgICAgICAgICAgICAgIC4uLigoX2EgPSBub2RlLmNoaWxkcmVuKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSksXG4gICAgICAgICAgICAgICAgICAgIC4uLighcHJlY2VkZSA/IFtjcmVhdGVOb2RlKG1vZHVsZSldIDogW10pLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRTaWJsaW5nID0gKHRhcmdldCwgbW9kdWxlLCBwcmVjZWRlKSA9PiB7XG4gICAgICAgIGNvbmZpZyA9IHRyYXZlcnNlKGNvbmZpZywgdGFyZ2V0LCAobm9kZSkgPT4gW1xuICAgICAgICAgICAgLi4uKHByZWNlZGUgPyBbY3JlYXRlTm9kZShtb2R1bGUpXSA6IFtdKSxcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAuLi4oIXByZWNlZGUgPyBbY3JlYXRlTm9kZShtb2R1bGUpXSA6IFtdKSxcbiAgICAgICAgXSk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRNb2R1bGUgPSAobW9kdWxlKSA9PiB7XG4gICAgICAgIGFwcGVuZChNT0RVTEVfQ09OVFJPTExFUiwgbW9kdWxlKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlcGxhY2UgPSAodGFyZ2V0LCBtb2R1bGUpID0+IHtcbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiBbY3JlYXRlTm9kZShtb2R1bGUsIG5vZGUuY2hpbGRyZW4pXSk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmUgPSAodGFyZ2V0KSA9PiB7XG4gICAgICAgIGNvbmZpZyA9IHRyYXZlcnNlKGNvbmZpZywgdGFyZ2V0LCAobm9kZSkgPT4gbm9kZS5jaGlsZHJlbik7XG4gICAgfTtcbiAgICBjb25zdCBhdWdtZW50ID0gKGF1Z21lbnRhdGlvbikgPT4ge1xuICAgICAgICBhdWdtZW50YXRpb25zLnB1c2goYXVnbWVudGF0aW9uKTtcbiAgICB9O1xuICAgIHBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PiB7XG4gICAgICAgIHBsdWdpbih7XG4gICAgICAgICAgICBjb250YWlucyxcbiAgICAgICAgICAgIGFkZFBhcmVudCxcbiAgICAgICAgICAgIGFwcGVuZCxcbiAgICAgICAgICAgIGFkZENoaWxkLFxuICAgICAgICAgICAgYWRkU2libGluZyxcbiAgICAgICAgICAgIGFkZE1vZHVsZSxcbiAgICAgICAgICAgIHJlcGxhY2UsXG4gICAgICAgICAgICByZW1vdmUsXG4gICAgICAgICAgICBhdWdtZW50LFxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25maWcsXG4gICAgICAgIGF1Z21lbnRhdGlvbjogKHByb3BzKSA9PiBhdWdtZW50YXRpb25zLnJlZHVjZSgoYWNjLCBhdWdtZW50YXRpb24pID0+IGF1Z21lbnRhdGlvbihhY2MpLCBwcm9wcyksXG4gICAgfTtcbn1cblxuY29uc3QgRXZlbnRzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VFdmVudHMgPSBtYWtlVXNlQ29udGV4dChcInVzZUV2ZW50c1wiLCBcIkV2ZW50c0NvbnRleHRcIiwgRXZlbnRzQ29udGV4dCk7XG5mdW5jdGlvbiBFdmVudHNQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCBbc3Vic2NyaXB0aW9uc10gPSBSZWFjdC51c2VTdGF0ZSh7fSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LmtleXMoc3Vic2NyaXB0aW9ucykuZm9yRWFjaCgodG9waWMpID0+IGRlbGV0ZSBzdWJzY3JpcHRpb25zW3RvcGljXSk7XG4gICAgfSwgW3N1YnNjcmlwdGlvbnNdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKHRvcGljLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gc3Vic2NyaXB0aW9uc1t0b3BpY10pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpY2UoMCwgc3Vic2NyaXB0aW9uc1t0b3BpY10ubGVuZ3RoLCAuLi5zdWJzY3JpcHRpb25zW3RvcGljXS5maWx0ZXIoKGNiKSA9PiBjYiAhPT0gY2FsbGJhY2spKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlID0gKHRvcGljLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb25zW3RvcGljXSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnNbdG9waWNdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zW3RvcGljXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSh0b3BpYywgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwdWJsaXNoID0gKC4uLlt0b3BpYywgZXZlbnRdKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBzdWJzY3JpcHRpb25zW3RvcGljXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjayhldmVudCkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyBwdWJsaXNoLCBzdWJzY3JpYmUsIHVuc3Vic2NyaWJlIH07XG4gICAgfSwgW3N1YnNjcmlwdGlvbnNdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChFdmVudHNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgTGlnaHRib3hQcm9wc0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlTGlnaHRib3hQcm9wcyA9IG1ha2VVc2VDb250ZXh0KFwidXNlTGlnaHRib3hQcm9wc1wiLCBcIkxpZ2h0Ym94UHJvcHNDb250ZXh0XCIsIExpZ2h0Ym94UHJvcHNDb250ZXh0KTtcbmZ1bmN0aW9uIExpZ2h0Ym94UHJvcHNQcm92aWRlcih7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlnaHRib3hQcm9wc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHByb3BzIH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgTGlnaHRib3hTdGF0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlTGlnaHRib3hTdGF0ZSA9IG1ha2VVc2VDb250ZXh0KFwidXNlTGlnaHRib3hTdGF0ZVwiLCBcIkxpZ2h0Ym94U3RhdGVDb250ZXh0XCIsIExpZ2h0Ym94U3RhdGVDb250ZXh0KTtcbmNvbnN0IExpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZUxpZ2h0Ym94RGlzcGF0Y2ggPSBtYWtlVXNlQ29udGV4dChcInVzZUxpZ2h0Ym94RGlzcGF0Y2hcIiwgXCJMaWdodGJveERpc3BhdGNoQ29udGV4dFwiLCBMaWdodGJveERpc3BhdGNoQ29udGV4dCk7XG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzd2lwZVwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IHNsaWRlcyB9ID0gc3RhdGU7XG4gICAgICAgICAgICBjb25zdCBpbmNyZW1lbnQgPSAoYWN0aW9uID09PSBudWxsIHx8IGFjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWN0aW9uLmluY3JlbWVudCkgfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IGdsb2JhbEluZGV4ID0gc3RhdGUuZ2xvYmFsSW5kZXggKyBpbmNyZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBnZXRTbGlkZUluZGV4KGdsb2JhbEluZGV4LCBzbGlkZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZSA9IGdldFNsaWRlSWZQcmVzZW50KHNsaWRlcywgY3VycmVudEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IGluY3JlbWVudCB8fCBhY3Rpb24uZHVyYXRpb25cbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50LFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogYWN0aW9uLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGFjdGlvbi5lYXNpbmcsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHsgc2xpZGVzLCBjdXJyZW50SW5kZXgsIGdsb2JhbEluZGV4LCBjdXJyZW50U2xpZGUsIGFuaW1hdGlvbiB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ1cGRhdGVcIjpcbiAgICAgICAgICAgIGlmIChhY3Rpb24uc2xpZGVzICE9PSBzdGF0ZS5zbGlkZXMgfHwgYWN0aW9uLmluZGV4ICE9PSBzdGF0ZS5jdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXM6IGFjdGlvbi5zbGlkZXMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleDogYWN0aW9uLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxJbmRleDogYWN0aW9uLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGU6IGdldFNsaWRlSWZQcmVzZW50KGFjdGlvbi5zbGlkZXMsIGFjdGlvbi5pbmRleCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihVTktOT1dOX0FDVElPTl9UWVBFKTtcbiAgICB9XG59XG5mdW5jdGlvbiBMaWdodGJveFN0YXRlUHJvdmlkZXIoeyBzbGlkZXMsIGluZGV4LCBjaGlsZHJlbiB9KSB7XG4gICAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSBSZWFjdC51c2VSZWR1Y2VyKHJlZHVjZXIsIHtcbiAgICAgICAgc2xpZGVzLFxuICAgICAgICBjdXJyZW50SW5kZXg6IGluZGV4LFxuICAgICAgICBnbG9iYWxJbmRleDogaW5kZXgsXG4gICAgICAgIGN1cnJlbnRTbGlkZTogZ2V0U2xpZGVJZlByZXNlbnQoc2xpZGVzLCBpbmRleCksXG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcInVwZGF0ZVwiLCBzbGlkZXMsIGluZGV4IH0pO1xuICAgIH0sIFtzbGlkZXMsIGluZGV4XSk7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgLi4uc3RhdGUsIHN0YXRlLCBkaXNwYXRjaCB9KSwgW3N0YXRlLCBkaXNwYXRjaF0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveERpc3BhdGNoQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZGlzcGF0Y2ggfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveFN0YXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBjaGlsZHJlbikpKTtcbn1cblxuY29uc3QgVGltZW91dHNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZVRpbWVvdXRzID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VUaW1lb3V0c1wiLCBcIlRpbWVvdXRzQ29udGV4dFwiLCBUaW1lb3V0c0NvbnRleHQpO1xuZnVuY3Rpb24gVGltZW91dHNQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCBbdGltZW91dHNdID0gUmVhY3QudXNlU3RhdGUoW10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiAoKSA9PiB7XG4gICAgICAgIHRpbWVvdXRzLmZvckVhY2goKHRpZCkgPT4gd2luZG93LmNsZWFyVGltZW91dCh0aWQpKTtcbiAgICAgICAgdGltZW91dHMuc3BsaWNlKDAsIHRpbWVvdXRzLmxlbmd0aCk7XG4gICAgfSwgW3RpbWVvdXRzXSk7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCByZW1vdmVUaW1lb3V0ID0gKGlkKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0cy5zcGxpY2UoMCwgdGltZW91dHMubGVuZ3RoLCAuLi50aW1lb3V0cy5maWx0ZXIoKHRpZCkgPT4gdGlkICE9PSBpZCkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZXRUaW1lb3V0ID0gKGZuLCBkZWxheSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVGltZW91dChpZCk7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgIHRpbWVvdXRzLnB1c2goaWQpO1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjbGVhclRpbWVvdXQgPSAoaWQpID0+IHtcbiAgICAgICAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVGltZW91dChpZCk7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7IHNldFRpbWVvdXQsIGNsZWFyVGltZW91dCB9O1xuICAgIH0sIFt0aW1lb3V0c10pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVvdXRzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBjaGlsZHJlbik7XG59XG5cbmNvbnN0IEljb25CdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIEljb25CdXR0b24oeyBsYWJlbDogbGFiZWwkMSwgY2xhc3NOYW1lLCBpY29uOiBJY29uLCByZW5kZXJJY29uLCBvbkNsaWNrLCBzdHlsZSwgLi4ucmVzdCB9LCByZWYpIHtcbiAgICBjb25zdCB7IHN0eWxlcywgbGFiZWxzIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiByZWYsIHR5cGU6IFwiYnV0dG9uXCIsIFwiYXJpYS1sYWJlbFwiOiBsYWJlbChsYWJlbHMsIGxhYmVsJDEpLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoRUxFTUVOVF9CVVRUT04pLCBjbGFzc05hbWUpLCBvbkNsaWNrOiBvbkNsaWNrLCBzdHlsZTogeyAuLi5zdHlsZSwgLi4uc3R5bGVzLmJ1dHRvbiB9LCAuLi5yZXN0IH0sIHJlbmRlckljb24gPyByZW5kZXJJY29uKCkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIHsgY2xhc3NOYW1lOiBjc3NDbGFzcyhFTEVNRU5UX0lDT04pLCBzdHlsZTogc3R5bGVzLmljb24gfSkpKTtcbn0pO1xuXG5mdW5jdGlvbiBzdmdJY29uKG5hbWUsIGNoaWxkcmVuKSB7XG4gICAgY29uc3QgaWNvbiA9IChwcm9wcykgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCB3aWR0aDogXCIyNFwiLCBoZWlnaHQ6IFwiMjRcIiwgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiwgZm9jdXNhYmxlOiBcImZhbHNlXCIsIC4uLnByb3BzIH0sIGNoaWxkcmVuKSk7XG4gICAgaWNvbi5kaXNwbGF5TmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIGljb247XG59XG5mdW5jdGlvbiBjcmVhdGVJY29uKG5hbWUsIGdseXBoKSB7XG4gICAgcmV0dXJuIHN2Z0ljb24obmFtZSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwgeyBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAwaDI0djI0SDB6XCIsIGZpbGw6IFwibm9uZVwiIH0pLFxuICAgICAgICBnbHlwaCkpO1xufVxuZnVuY3Rpb24gY3JlYXRlSWNvbkRpc2FibGVkKG5hbWUsIGdseXBoKSB7XG4gICAgcmV0dXJuIHN2Z0ljb24obmFtZSwgUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRlZnNcIiwgbnVsbCxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJtYXNrXCIsIHsgaWQ6IFwic3RyaWtlXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMGgyNHYyNEgwelwiLCBmaWxsOiBcIndoaXRlXCIgfSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDBMMjQgMjRcIiwgc3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiA0IH0pKSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMC43MDcwNyAyLjEyMTMyMEwyMS44Nzg2ODAgMjMuMjkyODgzXCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlV2lkdGg6IDIgfSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgbWFzazogXCJ1cmwoI3N0cmlrZSlcIiB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDBoMjR2MjRIMHpcIiwgZmlsbDogXCJub25lXCIgfSksXG4gICAgICAgICAgICBnbHlwaCkpKTtcbn1cbmNvbnN0IENsb3NlSWNvbiA9IGNyZWF0ZUljb24oXCJDbG9zZVwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnpcIiB9KSk7XG5jb25zdCBQcmV2aW91c0ljb24gPSBjcmVhdGVJY29uKFwiUHJldmlvdXNcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNS40MSA3LjQxTDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxTDEwLjgzIDEyelwiIH0pKTtcbmNvbnN0IE5leHRJY29uID0gY3JlYXRlSWNvbihcIk5leHRcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMCA2TDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNnpcIiB9KSk7XG5jb25zdCBMb2FkaW5nSWNvbiA9IGNyZWF0ZUljb24oXCJMb2FkaW5nXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIEFycmF5LmZyb20oeyBsZW5ndGg6IDggfSkubWFwKChfLCBpbmRleCwgYXJyYXkpID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFwibGluZVwiLCB7IGtleTogaW5kZXgsIHgxOiBcIjEyXCIsIHkxOiBcIjYuNVwiLCB4MjogXCIxMlwiLCB5MjogXCIxLjhcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VXaWR0aDogXCIyLjZcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VPcGFjaXR5OiAoMSAvIGFycmF5Lmxlbmd0aCkgKiAoaW5kZXggKyAxKSwgdHJhbnNmb3JtOiBgcm90YXRlKCR7KDM2MCAvIGFycmF5Lmxlbmd0aCkgKiBpbmRleH0sIDEyLCAxMilgIH0pKSkpKTtcbmNvbnN0IEVycm9ySWNvbiA9IGNyZWF0ZUljb24oXCJFcnJvclwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTIxLjksMjEuOWwtOC40OS04LjQ5bDAsMEwzLjU5LDMuNTlsMCwwTDIuMSwyLjFMMC42OSwzLjUxTDMsNS44M1YxOWMwLDEuMSwwLjksMiwyLDJoMTMuMTdsMi4zMSwyLjMxTDIxLjksMjEuOXogTTUsMTggbDMuNS00LjVsMi41LDMuMDFMMTIuMTcsMTVsMywzSDV6IE0yMSwxOC4xN0w1LjgzLDNIMTljMS4xLDAsMiwwLjksMiwyVjE4LjE3elwiIH0pKTtcblxuY29uc3QgdXNlTGF5b3V0RWZmZWN0ID0gaGFzV2luZG93KCkgPyBSZWFjdC51c2VMYXlvdXRFZmZlY3QgOiBSZWFjdC51c2VFZmZlY3Q7XG5cbmZ1bmN0aW9uIHVzZU1vdGlvblByZWZlcmVuY2UoKSB7XG4gICAgY29uc3QgW3JlZHVjZU1vdGlvbiwgc2V0UmVkdWNlTW90aW9uXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBtZWRpYVF1ZXJ5ID0gKF9hID0gd2luZG93Lm1hdGNoTWVkaWEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHdpbmRvdywgXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKVwiKTtcbiAgICAgICAgc2V0UmVkdWNlTW90aW9uKG1lZGlhUXVlcnkgPT09IG51bGwgfHwgbWVkaWFRdWVyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVkaWFRdWVyeS5tYXRjaGVzKTtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoZXZlbnQpID0+IHNldFJlZHVjZU1vdGlvbihldmVudC5tYXRjaGVzKTtcbiAgICAgICAgKF9iID0gbWVkaWFRdWVyeSA9PT0gbnVsbCB8fCBtZWRpYVF1ZXJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKG1lZGlhUXVlcnksIFwiY2hhbmdlXCIsIGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gbWVkaWFRdWVyeSA9PT0gbnVsbCB8fCBtZWRpYVF1ZXJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYVF1ZXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG1lZGlhUXVlcnksIFwiY2hhbmdlXCIsIGxpc3RlbmVyKTsgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHJlZHVjZU1vdGlvbjtcbn1cblxuZnVuY3Rpb24gY3VycmVudFRyYW5zZm9ybWF0aW9uKG5vZGUpIHtcbiAgICBsZXQgeCA9IDA7XG4gICAgbGV0IHkgPSAwO1xuICAgIGxldCB6ID0gMDtcbiAgICBjb25zdCBtYXRyaXggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS50cmFuc2Zvcm07XG4gICAgY29uc3QgbWF0Y2hlciA9IG1hdHJpeC5tYXRjaCgvbWF0cml4LipcXCgoLispXFwpLyk7XG4gICAgaWYgKG1hdGNoZXIpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gbWF0Y2hlclsxXS5zcGxpdChcIixcIikubWFwKHBhcnNlSW50KTtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDYpIHtcbiAgICAgICAgICAgIHggPSB2YWx1ZXNbNF07XG4gICAgICAgICAgICB5ID0gdmFsdWVzWzVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPT09IDE2KSB7XG4gICAgICAgICAgICB4ID0gdmFsdWVzWzEyXTtcbiAgICAgICAgICAgIHkgPSB2YWx1ZXNbMTNdO1xuICAgICAgICAgICAgeiA9IHZhbHVlc1sxNF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgeCwgeSwgeiB9O1xufVxuZnVuY3Rpb24gdXNlQW5pbWF0aW9uKG5vZGVSZWYsIGNvbXB1dGVBbmltYXRpb24pIHtcbiAgICBjb25zdCBzbmFwc2hvdCA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHJlZHVjZU1vdGlvbiA9IHVzZU1vdGlvblByZWZlcmVuY2UoKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKG5vZGVSZWYuY3VycmVudCAmJiBzbmFwc2hvdC5jdXJyZW50ICE9PSB1bmRlZmluZWQgJiYgIXJlZHVjZU1vdGlvbikge1xuICAgICAgICAgICAgY29uc3QgeyBrZXlmcmFtZXMsIGR1cmF0aW9uLCBlYXNpbmcsIG9uZmluaXNoIH0gPSBjb21wdXRlQW5pbWF0aW9uKHNuYXBzaG90LmN1cnJlbnQsIG5vZGVSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgY3VycmVudFRyYW5zZm9ybWF0aW9uKG5vZGVSZWYuY3VycmVudCkpIHx8IHt9O1xuICAgICAgICAgICAgaWYgKGtleWZyYW1lcyAmJiBkdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIChfYSA9IGFuaW1hdGlvbi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSAoX2MgPSAoX2IgPSBub2RlUmVmLmN1cnJlbnQpLmFuaW1hdGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iLCBrZXlmcmFtZXMsIHsgZHVyYXRpb24sIGVhc2luZyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb24uY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY3VycmVudC5vbmZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25maW5pc2ggPT09IG51bGwgfHwgb25maW5pc2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNuYXBzaG90LmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJlcGFyZUFuaW1hdGlvbjogKGN1cnJlbnRTbmFwc2hvdCkgPT4ge1xuICAgICAgICAgICAgc25hcHNob3QuY3VycmVudCA9IGN1cnJlbnRTbmFwc2hvdDtcbiAgICAgICAgfSxcbiAgICAgICAgaXNBbmltYXRpb25QbGF5aW5nOiAoKSA9PiB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSBhbmltYXRpb24uY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBsYXlTdGF0ZSkgPT09IFwicnVubmluZ1wiOyB9LFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHVzZUNvbnRhaW5lclJlY3QoKSB7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IG9ic2VydmVyUmVmID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgW2NvbnRhaW5lclJlY3QsIHNldENvbnRhaW5lclJlY3RdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCBzZXRDb250YWluZXJSZWYgPSBSZWFjdC51c2VDYWxsYmFjaygobm9kZSkgPT4ge1xuICAgICAgICBjb250YWluZXJSZWYuY3VycmVudCA9IG5vZGU7XG4gICAgICAgIGlmIChvYnNlcnZlclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlQ29udGFpbmVyUmVjdCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2UgPSAodmFsdWUpID0+IHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XG4gICAgICAgICAgICAgICAgc2V0Q29udGFpbmVyUmVjdCh7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKG5vZGUuY2xpZW50V2lkdGggLSBwYXJzZShzdHlsZXMucGFkZGluZ0xlZnQpIC0gcGFyc2Uoc3R5bGVzLnBhZGRpbmdSaWdodCkpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQobm9kZS5jbGllbnRIZWlnaHQgLSBwYXJzZShzdHlsZXMucGFkZGluZ1RvcCkgLSBwYXJzZShzdHlsZXMucGFkZGluZ0JvdHRvbSkpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0Q29udGFpbmVyUmVjdCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB1cGRhdGVDb250YWluZXJSZWN0KCk7XG4gICAgICAgIGlmIChub2RlICYmIHR5cGVvZiBSZXNpemVPYnNlcnZlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IG5ldyBSZXNpemVPYnNlcnZlcih1cGRhdGVDb250YWluZXJSZWN0KTtcbiAgICAgICAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQub2JzZXJ2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICByZXR1cm4geyBzZXRDb250YWluZXJSZWYsIGNvbnRhaW5lclJlZiwgY29udGFpbmVyUmVjdCB9O1xufVxuXG5mdW5jdGlvbiB1c2VEZWxheSgpIHtcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCB7IHNldFRpbWVvdXQsIGNsZWFyVGltZW91dCB9ID0gdXNlVGltZW91dHMoKTtcbiAgICByZXR1cm4gUmVhY3QudXNlQ2FsbGJhY2soKGNhbGxiYWNrLCBkZWxheSkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkLmN1cnJlbnQpO1xuICAgICAgICB0aW1lb3V0SWQuY3VycmVudCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5ID4gMCA/IGRlbGF5IDogMCk7XG4gICAgfSwgW3NldFRpbWVvdXQsIGNsZWFyVGltZW91dF0pO1xufVxuXG5mdW5jdGlvbiB1c2VFdmVudENhbGxiYWNrKGZuKSB7XG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKGZuKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZWYuY3VycmVudCA9IGZuO1xuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdC51c2VDYWxsYmFjaygoLi4uYXJncykgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSByZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVmLCAuLi5hcmdzKTsgfSwgW10pO1xufVxuXG5mdW5jdGlvbiBzZXRSZWYocmVmLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcmVmID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmVmKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVmKSB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gdXNlRm9ya1JlZihyZWZBLCByZWZCKSB7XG4gICAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oKCkgPT4gcmVmQSA9PSBudWxsICYmIHJlZkIgPT0gbnVsbFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiAocmVmVmFsdWUpID0+IHtcbiAgICAgICAgICAgIHNldFJlZihyZWZBLCByZWZWYWx1ZSk7XG4gICAgICAgICAgICBzZXRSZWYocmVmQiwgcmVmVmFsdWUpO1xuICAgICAgICB9LCBbcmVmQSwgcmVmQl0pO1xufVxuXG5mdW5jdGlvbiB1c2VMb3NlRm9jdXMoZm9jdXMsIGRpc2FibGVkID0gZmFsc2UpIHtcbiAgICBjb25zdCBmb2N1c2VkID0gUmVhY3QudXNlUmVmKCk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGRpc2FibGVkICYmIGZvY3VzZWQuY3VycmVudCkge1xuICAgICAgICAgICAgZm9jdXNlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICBmb2N1cygpO1xuICAgICAgICB9XG4gICAgfSwgW2Rpc2FibGVkLCBmb2N1c10pO1xuICAgIGNvbnN0IG9uRm9jdXMgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGZvY3VzZWQuY3VycmVudCA9IHRydWU7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IG9uQmx1ciA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgZm9jdXNlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB7IG9uRm9jdXMsIG9uQmx1ciB9O1xufVxuXG5mdW5jdGlvbiB1c2VSVEwoKSB7XG4gICAgY29uc3QgW2lzUlRMLCBzZXRJc1JUTF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0SXNSVEwod2luZG93LmdldENvbXB1dGVkU3R5bGUod2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZGlyZWN0aW9uID09PSBcInJ0bFwiKTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGlzUlRMO1xufVxuXG5mdW5jdGlvbiB1c2VTZW5zb3JzKCkge1xuICAgIGNvbnN0IFtzdWJzY3JpYmVyc10gPSBSZWFjdC51c2VTdGF0ZSh7fSk7XG4gICAgY29uc3Qgbm90aWZ5U3Vic2NyaWJlcnMgPSBSZWFjdC51c2VDYWxsYmFjaygodHlwZSwgZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBzdWJzY3JpYmVyc1t0eXBlXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9LCBbc3Vic2NyaWJlcnNdKTtcbiAgICBjb25zdCByZWdpc3RlclNlbnNvcnMgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIG9uUG9pbnRlckRvd246IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fUE9JTlRFUl9ET1dOLCBldmVudCksXG4gICAgICAgIG9uUG9pbnRlck1vdmU6IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fUE9JTlRFUl9NT1ZFLCBldmVudCksXG4gICAgICAgIG9uUG9pbnRlclVwOiAoZXZlbnQpID0+IG5vdGlmeVN1YnNjcmliZXJzKEVWRU5UX09OX1BPSU5URVJfVVAsIGV2ZW50KSxcbiAgICAgICAgb25Qb2ludGVyTGVhdmU6IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fUE9JTlRFUl9MRUFWRSwgZXZlbnQpLFxuICAgICAgICBvblBvaW50ZXJDYW5jZWw6IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fUE9JTlRFUl9DQU5DRUwsIGV2ZW50KSxcbiAgICAgICAgb25LZXlEb3duOiAoZXZlbnQpID0+IG5vdGlmeVN1YnNjcmliZXJzKEVWRU5UX09OX0tFWV9ET1dOLCBldmVudCksXG4gICAgICAgIG9uS2V5VXA6IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fS0VZX1VQLCBldmVudCksXG4gICAgICAgIG9uV2hlZWw6IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fV0hFRUwsIGV2ZW50KSxcbiAgICB9KSwgW25vdGlmeVN1YnNjcmliZXJzXSk7XG4gICAgY29uc3Qgc3Vic2NyaWJlU2Vuc29ycyA9IFJlYWN0LnVzZUNhbGxiYWNrKCh0eXBlLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICBpZiAoIXN1YnNjcmliZXJzW3R5cGVdKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyc1t0eXBlXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXJzW3R5cGVdLnVuc2hpZnQoY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gc3Vic2NyaWJlcnNbdHlwZV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZSgwLCBsaXN0ZW5lcnMubGVuZ3RoLCAuLi5saXN0ZW5lcnMuZmlsdGVyKChlbCkgPT4gZWwgIT09IGNhbGxiYWNrKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSwgW3N1YnNjcmliZXJzXSk7XG4gICAgcmV0dXJuIHsgcmVnaXN0ZXJTZW5zb3JzLCBzdWJzY3JpYmVTZW5zb3JzIH07XG59XG5cbmZ1bmN0aW9uIHVzZVRocm90dGxlKGNhbGxiYWNrLCBkZWxheSkge1xuICAgIGNvbnN0IGxhc3RDYWxsYmFja1RpbWUgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgZGVsYXlDYWxsYmFjayA9IHVzZURlbGF5KCk7XG4gICAgY29uc3QgZXhlY3V0ZUNhbGxiYWNrID0gdXNlRXZlbnRDYWxsYmFjaygoLi4uYXJncykgPT4ge1xuICAgICAgICBsYXN0Q2FsbGJhY2tUaW1lLmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgICAgICBjYWxsYmFjayhhcmdzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gUmVhY3QudXNlQ2FsbGJhY2soKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgZGVsYXlDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICBleGVjdXRlQ2FsbGJhY2soYXJncyk7XG4gICAgICAgIH0sIGRlbGF5IC0gKERhdGUubm93KCkgLSBsYXN0Q2FsbGJhY2tUaW1lLmN1cnJlbnQpKTtcbiAgICB9LCBbZGVsYXksIGV4ZWN1dGVDYWxsYmFjaywgZGVsYXlDYWxsYmFja10pO1xufVxuXG5jb25zdCBzbGlkZVByZWZpeCA9IG1ha2VDb21wb3NlUHJlZml4KFwic2xpZGVcIik7XG5jb25zdCBzbGlkZUltYWdlUHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJzbGlkZV9pbWFnZVwiKTtcbmZ1bmN0aW9uIEltYWdlU2xpZGUoeyBzbGlkZTogaW1hZ2UsIG9mZnNldCwgcmVuZGVyLCByZWN0LCBpbWFnZUZpdCwgaW1hZ2VQcm9wcywgb25DbGljaywgb25Mb2FkLCBzdHlsZSwgfSkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcbiAgICBjb25zdCBbc3RhdHVzLCBzZXRTdGF0dXNdID0gUmVhY3QudXNlU3RhdGUoU0xJREVfU1RBVFVTX0xPQURJTkcpO1xuICAgIGNvbnN0IHsgcHVibGlzaCB9ID0gdXNlRXZlbnRzKCk7XG4gICAgY29uc3QgeyBzZXRUaW1lb3V0IH0gPSB1c2VUaW1lb3V0cygpO1xuICAgIGNvbnN0IGltYWdlUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgICAgICAgIHB1Ymxpc2goYWN0aXZlU2xpZGVTdGF0dXMoc3RhdHVzKSk7XG4gICAgICAgIH1cbiAgICB9LCBbb2Zmc2V0LCBzdGF0dXMsIHB1Ymxpc2hdKTtcbiAgICBjb25zdCBoYW5kbGVMb2FkaW5nID0gdXNlRXZlbnRDYWxsYmFjaygoaW1nKSA9PiB7XG4gICAgICAgIChcImRlY29kZVwiIGluIGltZyA/IGltZy5kZWNvZGUoKSA6IFByb21pc2UucmVzb2x2ZSgpKVxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghaW1nLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRTdGF0dXMoU0xJREVfU1RBVFVTX0NPTVBMRVRFKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uTG9hZCA9PT0gbnVsbCB8fCBvbkxvYWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uTG9hZChpbWcpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IHNldEltYWdlUmVmID0gUmVhY3QudXNlQ2FsbGJhY2soKGltZykgPT4ge1xuICAgICAgICBpbWFnZVJlZi5jdXJyZW50ID0gaW1nO1xuICAgICAgICBpZiAoaW1nID09PSBudWxsIHx8IGltZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW1nLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICBoYW5kbGVMb2FkaW5nKGltZyk7XG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlTG9hZGluZ10pO1xuICAgIGNvbnN0IGhhbmRsZU9uTG9hZCA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBoYW5kbGVMb2FkaW5nKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIH0sIFtoYW5kbGVMb2FkaW5nXSk7XG4gICAgY29uc3Qgb25FcnJvciA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc2V0U3RhdHVzKFNMSURFX1NUQVRVU19FUlJPUik7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGNvdmVyID0gaXNJbWFnZUZpdENvdmVyKGltYWdlLCBpbWFnZUZpdCk7XG4gICAgY29uc3Qgbm9uSW5maW5pdGUgPSAodmFsdWUsIGZhbGxiYWNrKSA9PiAoTnVtYmVyLmlzRmluaXRlKHZhbHVlKSA/IHZhbHVlIDogZmFsbGJhY2spO1xuICAgIGNvbnN0IG1heFdpZHRoID0gbm9uSW5maW5pdGUoTWF0aC5tYXgoLi4uKChfYiA9IChfYSA9IGltYWdlLnNyY1NldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcCgoeCkgPT4geC53aWR0aCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdKS5jb25jYXQoaW1hZ2Uud2lkdGggPyBbaW1hZ2Uud2lkdGhdIDogW10pLmZpbHRlcihCb29sZWFuKSksICgoX2MgPSBpbWFnZVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubmF0dXJhbFdpZHRoKSB8fCAwKTtcbiAgICBjb25zdCBtYXhIZWlnaHQgPSBub25JbmZpbml0ZShNYXRoLm1heCguLi4oKF9lID0gKF9kID0gaW1hZ2Uuc3JjU2V0KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubWFwKCh4KSA9PiB4LmhlaWdodCkpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IFtdKS5jb25jYXQoaW1hZ2UuaGVpZ2h0ID8gW2ltYWdlLmhlaWdodF0gOiBbXSkuZmlsdGVyKEJvb2xlYW4pKSwgKChfZiA9IGltYWdlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5uYXR1cmFsSGVpZ2h0KSB8fCAwKTtcbiAgICBjb25zdCBkZWZhdWx0U3R5bGUgPSBtYXhXaWR0aCAmJiBtYXhIZWlnaHRcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBtYXhXaWR0aDogYG1pbigke21heFdpZHRofXB4LCAxMDAlKWAsXG4gICAgICAgICAgICBtYXhIZWlnaHQ6IGBtaW4oJHttYXhIZWlnaHR9cHgsIDEwMCUpYCxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIG1heFdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIH07XG4gICAgY29uc3Qgc3JjU2V0ID0gKF9nID0gaW1hZ2Uuc3JjU2V0KSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuc29ydCgoYSwgYikgPT4gYS53aWR0aCAtIGIud2lkdGgpLm1hcCgoaXRlbSkgPT4gYCR7aXRlbS5zcmN9ICR7aXRlbS53aWR0aH13YCkuam9pbihcIiwgXCIpO1xuICAgIGNvbnN0IGVzdGltYXRlQWN0dWFsV2lkdGggPSAoKSA9PiByZWN0ICYmICFjb3ZlciAmJiBpbWFnZS53aWR0aCAmJiBpbWFnZS5oZWlnaHQgPyAocmVjdC5oZWlnaHQgLyBpbWFnZS5oZWlnaHQpICogaW1hZ2Uud2lkdGggOiBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIGNvbnN0IHNpemVzID0gc3JjU2V0ICYmIHJlY3QgJiYgaGFzV2luZG93KCkgPyBgJHtNYXRoLnJvdW5kKE1hdGgubWluKGVzdGltYXRlQWN0dWFsV2lkdGgoKSwgcmVjdC53aWR0aCkpfXB4YCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCB7IHN0eWxlOiBpbWFnZVByb3BzU3R5bGUsIGNsYXNzTmFtZTogaW1hZ2VQcm9wc0NsYXNzTmFtZSwgLi4ucmVzdEltYWdlUHJvcHMgfSA9IGltYWdlUHJvcHMgfHwge307XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHsgcmVmOiBzZXRJbWFnZVJlZiwgb25Mb2FkOiBoYW5kbGVPbkxvYWQsIG9uRXJyb3I6IG9uRXJyb3IsIG9uQ2xpY2s6IG9uQ2xpY2ssIGRyYWdnYWJsZTogZmFsc2UsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhzbGlkZUltYWdlUHJlZml4KCkpLCBjb3ZlciAmJiBjc3NDbGFzcyhzbGlkZUltYWdlUHJlZml4KFwiY292ZXJcIikpLCBzdGF0dXMgIT09IFNMSURFX1NUQVRVU19DT01QTEVURSAmJiBjc3NDbGFzcyhzbGlkZUltYWdlUHJlZml4KFwibG9hZGluZ1wiKSksIGltYWdlUHJvcHNDbGFzc05hbWUpLCBzdHlsZTogeyAuLi5kZWZhdWx0U3R5bGUsIC4uLnN0eWxlLCAuLi5pbWFnZVByb3BzU3R5bGUgfSwgLi4ucmVzdEltYWdlUHJvcHMsIGFsdDogaW1hZ2UuYWx0LCBzaXplczogc2l6ZXMsIHNyY1NldDogc3JjU2V0LCBzcmM6IGltYWdlLnNyYyB9KSxcbiAgICAgICAgc3RhdHVzICE9PSBTTElERV9TVEFUVVNfQ09NUExFVEUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNzc0NsYXNzKHNsaWRlUHJlZml4KFNMSURFX1NUQVRVU19QTEFDRUhPTERFUikpIH0sXG4gICAgICAgICAgICBzdGF0dXMgPT09IFNMSURFX1NUQVRVU19MT0FESU5HICYmXG4gICAgICAgICAgICAgICAgKChyZW5kZXIgPT09IG51bGwgfHwgcmVuZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZW5kZXIuaWNvbkxvYWRpbmcpID8gKHJlbmRlci5pY29uTG9hZGluZygpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdJY29uLCB7IGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhFTEVNRU5UX0lDT04pLCBjc3NDbGFzcyhzbGlkZVByZWZpeChTTElERV9TVEFUVVNfTE9BRElORykpKSB9KSkpLFxuICAgICAgICAgICAgc3RhdHVzID09PSBTTElERV9TVEFUVVNfRVJST1IgJiZcbiAgICAgICAgICAgICAgICAoKHJlbmRlciA9PT0gbnVsbCB8fCByZW5kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlbmRlci5pY29uRXJyb3IpID8gKHJlbmRlci5pY29uRXJyb3IoKSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChFcnJvckljb24sIHsgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKEVMRU1FTlRfSUNPTiksIGNzc0NsYXNzKHNsaWRlUHJlZml4KFNMSURFX1NUQVRVU19FUlJPUikpKSB9KSkpKSkpKTtcbn1cblxudmFyIFN3aXBlU3RhdGU7XG4oZnVuY3Rpb24gKFN3aXBlU3RhdGUpIHtcbiAgICBTd2lwZVN0YXRlW1N3aXBlU3RhdGVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBTd2lwZVN0YXRlW1N3aXBlU3RhdGVbXCJTV0lQRVwiXSA9IDFdID0gXCJTV0lQRVwiO1xuICAgIFN3aXBlU3RhdGVbU3dpcGVTdGF0ZVtcIlBVTExcIl0gPSAyXSA9IFwiUFVMTFwiO1xuICAgIFN3aXBlU3RhdGVbU3dpcGVTdGF0ZVtcIkFOSU1BVElPTlwiXSA9IDNdID0gXCJBTklNQVRJT05cIjtcbn0pKFN3aXBlU3RhdGUgfHwgKFN3aXBlU3RhdGUgPSB7fSkpO1xuXG5mdW5jdGlvbiB1c2VQb2ludGVyRXZlbnRzKHN1YnNjcmliZVNlbnNvcnMsIG9uUG9pbnRlckRvd24sIG9uUG9pbnRlck1vdmUsIG9uUG9pbnRlclVwLCBkaXNhYmxlZCkge1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiAhZGlzYWJsZWRcbiAgICAgICAgPyBjbGVhbnVwKHN1YnNjcmliZVNlbnNvcnMoRVZFTlRfT05fUE9JTlRFUl9ET1dOLCBvblBvaW50ZXJEb3duKSwgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9QT0lOVEVSX01PVkUsIG9uUG9pbnRlck1vdmUpLCBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX1BPSU5URVJfVVAsIG9uUG9pbnRlclVwKSwgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9QT0lOVEVSX0xFQVZFLCBvblBvaW50ZXJVcCksIHN1YnNjcmliZVNlbnNvcnMoRVZFTlRfT05fUE9JTlRFUl9DQU5DRUwsIG9uUG9pbnRlclVwKSlcbiAgICAgICAgOiAoKSA9PiB7IH0sIFtzdWJzY3JpYmVTZW5zb3JzLCBvblBvaW50ZXJEb3duLCBvblBvaW50ZXJNb3ZlLCBvblBvaW50ZXJVcCwgZGlzYWJsZWRdKTtcbn1cblxudmFyIEdlc3R1cmU7XG4oZnVuY3Rpb24gKEdlc3R1cmUpIHtcbiAgICBHZXN0dXJlW0dlc3R1cmVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBHZXN0dXJlW0dlc3R1cmVbXCJTV0lQRVwiXSA9IDFdID0gXCJTV0lQRVwiO1xuICAgIEdlc3R1cmVbR2VzdHVyZVtcIlBVTExcIl0gPSAyXSA9IFwiUFVMTFwiO1xufSkoR2VzdHVyZSB8fCAoR2VzdHVyZSA9IHt9KSk7XG5jb25zdCBTV0lQRV9USFJFU0hPTEQgPSAzMDtcbmZ1bmN0aW9uIHVzZVBvaW50ZXJTd2lwZShzdWJzY3JpYmVTZW5zb3JzLCBpc1N3aXBlVmFsaWQsIGNvbnRhaW5lcldpZHRoLCBzd2lwZUFuaW1hdGlvbkR1cmF0aW9uLCBvblN3aXBlU3RhcnQsIG9uU3dpcGVQcm9ncmVzcywgb25Td2lwZUZpbmlzaCwgb25Td2lwZUNhbmNlbCwgcHVsbFVwRW5hYmxlZCwgcHVsbERvd25FbmFibGVkLCBvblB1bGxTdGFydCwgb25QdWxsUHJvZ3Jlc3MsIG9uUHVsbEZpbmlzaCwgb25QdWxsQ2FuY2VsKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IHBvaW50ZXJzID0gUmVhY3QudXNlUmVmKFtdKTtcbiAgICBjb25zdCBhY3RpdmVQb2ludGVyID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IGdlc3R1cmUgPSBSZWFjdC51c2VSZWYoR2VzdHVyZS5OT05FKTtcbiAgICBjb25zdCBjbGVhclBvaW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9PT0gZXZlbnQucG9pbnRlcklkKSB7XG4gICAgICAgICAgICBhY3RpdmVQb2ludGVyLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBnZXN0dXJlLmN1cnJlbnQgPSBHZXN0dXJlLk5PTkU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFBvaW50ZXJzID0gcG9pbnRlcnMuY3VycmVudDtcbiAgICAgICAgY3VycmVudFBvaW50ZXJzLnNwbGljZSgwLCBjdXJyZW50UG9pbnRlcnMubGVuZ3RoLCAuLi5jdXJyZW50UG9pbnRlcnMuZmlsdGVyKChwKSA9PiBwLnBvaW50ZXJJZCAhPT0gZXZlbnQucG9pbnRlcklkKSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGFkZFBvaW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY2xlYXJQb2ludGVyKGV2ZW50KTtcbiAgICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgICBwb2ludGVycy5jdXJyZW50LnB1c2goZXZlbnQpO1xuICAgIH0sIFtjbGVhclBvaW50ZXJdKTtcbiAgICBjb25zdCBvblBvaW50ZXJEb3duID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgYWRkUG9pbnRlcihldmVudCk7XG4gICAgfSk7XG4gICAgY29uc3QgZXhjZWVkc1B1bGxUaHJlc2hvbGQgPSAodmFsdWUsIHRocmVzaG9sZCkgPT4gKHB1bGxEb3duRW5hYmxlZCAmJiB2YWx1ZSA+IHRocmVzaG9sZCkgfHwgKHB1bGxVcEVuYWJsZWQgJiYgdmFsdWUgPCAtdGhyZXNob2xkKTtcbiAgICBjb25zdCBvblBvaW50ZXJVcCA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChwb2ludGVycy5jdXJyZW50LmZpbmQoKHgpID0+IHgucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQpICYmIGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9PT0gZXZlbnQucG9pbnRlcklkKSB7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWUuY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRPZmZzZXQgPSBvZmZzZXQuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChnZXN0dXJlLmN1cnJlbnQgPT09IEdlc3R1cmUuU1dJUEUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoY3VycmVudE9mZnNldCkgPiAwLjMgKiBjb250YWluZXJXaWR0aCB8fFxuICAgICAgICAgICAgICAgICAgICAoTWF0aC5hYnMoY3VycmVudE9mZnNldCkgPiA1ICYmIGR1cmF0aW9uIDwgc3dpcGVBbmltYXRpb25EdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Td2lwZUZpbmlzaChjdXJyZW50T2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvblN3aXBlQ2FuY2VsKGN1cnJlbnRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdlc3R1cmUuY3VycmVudCA9PT0gR2VzdHVyZS5QVUxMKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4Y2VlZHNQdWxsVGhyZXNob2xkKGN1cnJlbnRPZmZzZXQsIDIgKiBTV0lQRV9USFJFU0hPTEQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUHVsbEZpbmlzaChjdXJyZW50T2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvblB1bGxDYW5jZWwoY3VycmVudE9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0LmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgZ2VzdHVyZS5jdXJyZW50ID0gR2VzdHVyZS5OT05FO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyUG9pbnRlcihldmVudCk7XG4gICAgfSk7XG4gICAgY29uc3Qgb25Qb2ludGVyTW92ZSA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSBwb2ludGVycy5jdXJyZW50LmZpbmQoKHApID0+IHAucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQpO1xuICAgICAgICBpZiAocG9pbnRlcikge1xuICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50UG9pbnRlciA9IGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9PT0gZXZlbnQucG9pbnRlcklkO1xuICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbnMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNDdXJyZW50UG9pbnRlciAmJiBvZmZzZXQuY3VycmVudCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvblBvaW50ZXJVcChldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclBvaW50ZXIocG9pbnRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlbHRhWCA9IGV2ZW50LmNsaWVudFggLSBwb2ludGVyLmNsaWVudFg7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVkgPSBldmVudC5jbGllbnRZIC0gcG9pbnRlci5jbGllbnRZO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRHZXN0dXJlID0gKG5ld0dlc3R1cmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUG9pbnRlcihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9IGV2ZW50LnBvaW50ZXJJZDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lLmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICBnZXN0dXJlLmN1cnJlbnQgPSBuZXdHZXN0dXJlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhWCkgPiBNYXRoLmFicyhkZWx0YVkpICYmIE1hdGguYWJzKGRlbHRhWCkgPiBTV0lQRV9USFJFU0hPTEQgJiYgaXNTd2lwZVZhbGlkKGRlbHRhWCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRHZXN0dXJlKEdlc3R1cmUuU1dJUEUpO1xuICAgICAgICAgICAgICAgICAgICBvblN3aXBlU3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoTWF0aC5hYnMoZGVsdGFZKSA+IE1hdGguYWJzKGRlbHRhWCkgJiYgZXhjZWVkc1B1bGxUaHJlc2hvbGQoZGVsdGFZLCBTV0lQRV9USFJFU0hPTEQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0R2VzdHVyZShHZXN0dXJlLlBVTEwpO1xuICAgICAgICAgICAgICAgICAgICBvblB1bGxTdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQ3VycmVudFBvaW50ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VzdHVyZS5jdXJyZW50ID09PSBHZXN0dXJlLlNXSVBFKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldC5jdXJyZW50ID0gZGVsdGFYO1xuICAgICAgICAgICAgICAgICAgICBvblN3aXBlUHJvZ3Jlc3MoZGVsdGFYKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2VzdHVyZS5jdXJyZW50ID09PSBHZXN0dXJlLlBVTEwpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0LmN1cnJlbnQgPSBkZWx0YVk7XG4gICAgICAgICAgICAgICAgICAgIG9uUHVsbFByb2dyZXNzKGRlbHRhWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgdXNlUG9pbnRlckV2ZW50cyhzdWJzY3JpYmVTZW5zb3JzLCBvblBvaW50ZXJEb3duLCBvblBvaW50ZXJNb3ZlLCBvblBvaW50ZXJVcCk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZXZlbnRXaGVlbERlZmF1bHRzKHsgcHJldmVudERlZmF1bHRXaGVlbFgsIHByZXZlbnREZWZhdWx0V2hlZWxZLCB9KSB7XG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbCA9IE1hdGguYWJzKGV2ZW50LmRlbHRhWCkgPiBNYXRoLmFicyhldmVudC5kZWx0YVkpO1xuICAgICAgICBpZiAoKGhvcml6b250YWwgJiYgcHJldmVudERlZmF1bHRXaGVlbFgpIHx8ICghaG9yaXpvbnRhbCAmJiBwcmV2ZW50RGVmYXVsdFdoZWVsWSkgfHwgZXZlbnQuY3RybEtleSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdC51c2VDYWxsYmFjaygobm9kZSkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBsaXN0ZW5lciwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIChfYSA9IHJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZWYuY3VycmVudCA9IG5vZGU7XG4gICAgfSwgW2xpc3RlbmVyXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVdoZWVsU3dpcGUoc3dpcGVTdGF0ZSwgc3Vic2NyaWJlU2Vuc29ycywgaXNTd2lwZVZhbGlkLCBjb250YWluZXJXaWR0aCwgc3dpcGVBbmltYXRpb25EdXJhdGlvbiwgb25Td2lwZVN0YXJ0LCBvblN3aXBlUHJvZ3Jlc3MsIG9uU3dpcGVGaW5pc2gsIG9uU3dpcGVDYW5jZWwpIHtcbiAgICBjb25zdCBvZmZzZXQgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgaW50ZW50ID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IGludGVudENsZWFudXAgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCByZXNldENsZWFudXAgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCB3aGVlbFJlc2lkdWFsTW9tZW50dW0gPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IHsgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0IH0gPSB1c2VUaW1lb3V0cygpO1xuICAgIGNvbnN0IGNhbmNlbFN3aXBlSW50ZW50Q2xlYW51cCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGludGVudENsZWFudXAuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGludGVudENsZWFudXAuY3VycmVudCk7XG4gICAgICAgICAgICBpbnRlbnRDbGVhbnVwLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9LCBbY2xlYXJUaW1lb3V0XSk7XG4gICAgY29uc3QgY2FuY2VsU3dpcGVSZXNldENsZWFudXAgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChyZXNldENsZWFudXAuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2V0Q2xlYW51cC5jdXJyZW50KTtcbiAgICAgICAgICAgIHJlc2V0Q2xlYW51cC5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSwgW2NsZWFyVGltZW91dF0pO1xuICAgIGNvbnN0IGhhbmRsZUNsZWFudXAgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHN3aXBlU3RhdGUgIT09IFN3aXBlU3RhdGUuU1dJUEUpIHtcbiAgICAgICAgICAgIG9mZnNldC5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgIHN0YXJ0VGltZS5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgIGNhbmNlbFN3aXBlSW50ZW50Q2xlYW51cCgpO1xuICAgICAgICAgICAgY2FuY2VsU3dpcGVSZXNldENsZWFudXAoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChoYW5kbGVDbGVhbnVwLCBbc3dpcGVTdGF0ZSwgaGFuZGxlQ2xlYW51cF0pO1xuICAgIGNvbnN0IGhhbmRsZUNhbmNlbFN3aXBlID0gdXNlRXZlbnRDYWxsYmFjaygoY3VycmVudFN3aXBlT2Zmc2V0KSA9PiB7XG4gICAgICAgIHJlc2V0Q2xlYW51cC5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAob2Zmc2V0LmN1cnJlbnQgPT09IGN1cnJlbnRTd2lwZU9mZnNldCkge1xuICAgICAgICAgICAgb25Td2lwZUNhbmNlbChvZmZzZXQuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvbldoZWVsID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTWF0aC5hYnMoZXZlbnQuZGVsdGFZKSA+IE1hdGguYWJzKGV2ZW50LmRlbHRhWCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3dpcGVTdGF0ZSA9PT0gU3dpcGVTdGF0ZS5OT05FKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZXZlbnQuZGVsdGFYKSA8PSAxLjIgKiBNYXRoLmFicyh3aGVlbFJlc2lkdWFsTW9tZW50dW0uY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICB3aGVlbFJlc2lkdWFsTW9tZW50dW0uY3VycmVudCA9IGV2ZW50LmRlbHRhWDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzU3dpcGVWYWxpZCgtZXZlbnQuZGVsdGFYKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVudC5jdXJyZW50ICs9IGV2ZW50LmRlbHRhWDtcbiAgICAgICAgICAgIGNhbmNlbFN3aXBlSW50ZW50Q2xlYW51cCgpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGludGVudC5jdXJyZW50KSA+IDMwKSB7XG4gICAgICAgICAgICAgICAgaW50ZW50LmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgICAgIHdoZWVsUmVzaWR1YWxNb21lbnR1bS5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgb25Td2lwZVN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U3dpcGVJbnRlbnQgPSBpbnRlbnQuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpbnRlbnRDbGVhbnVwLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50Q2xlYW51cC5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN3aXBlSW50ZW50ID09PSBpbnRlbnQuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50LmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgc3dpcGVBbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3dpcGVTdGF0ZSA9PT0gU3dpcGVTdGF0ZS5TV0lQRSkge1xuICAgICAgICAgICAgbGV0IG5ld1N3aXBlT2Zmc2V0ID0gb2Zmc2V0LmN1cnJlbnQgLSBldmVudC5kZWx0YVg7XG4gICAgICAgICAgICBuZXdTd2lwZU9mZnNldCA9IE1hdGgubWluKE1hdGguYWJzKG5ld1N3aXBlT2Zmc2V0KSwgY29udGFpbmVyV2lkdGgpICogTWF0aC5zaWduKG5ld1N3aXBlT2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldC5jdXJyZW50ID0gbmV3U3dpcGVPZmZzZXQ7XG4gICAgICAgICAgICBvblN3aXBlUHJvZ3Jlc3MobmV3U3dpcGVPZmZzZXQpO1xuICAgICAgICAgICAgY2FuY2VsU3dpcGVSZXNldENsZWFudXAoKTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhuZXdTd2lwZU9mZnNldCkgPiAwLjIgKiBjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIHdoZWVsUmVzaWR1YWxNb21lbnR1bS5jdXJyZW50ID0gZXZlbnQuZGVsdGFYO1xuICAgICAgICAgICAgICAgIG9uU3dpcGVGaW5pc2gobmV3U3dpcGVPZmZzZXQsIERhdGUubm93KCkgLSBzdGFydFRpbWUuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzZXRDbGVhbnVwLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZUNhbmNlbFN3aXBlKG5ld1N3aXBlT2Zmc2V0KSwgMiAqIHN3aXBlQW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2hlZWxSZXNpZHVhbE1vbWVudHVtLmN1cnJlbnQgPSBldmVudC5kZWx0YVg7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9XSEVFTCwgb25XaGVlbCksIFtzdWJzY3JpYmVTZW5zb3JzLCBvbldoZWVsXSk7XG59XG5cbmNvbnN0IGNzc0NvbnRhaW5lclByZWZpeCA9IG1ha2VDb21wb3NlUHJlZml4KFwiY29udGFpbmVyXCIpO1xuY29uc3QgQ29udHJvbGxlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlQ29udHJvbGxlciA9IG1ha2VVc2VDb250ZXh0KFwidXNlQ29udHJvbGxlclwiLCBcIkNvbnRyb2xsZXJDb250ZXh0XCIsIENvbnRyb2xsZXJDb250ZXh0KTtcbmZ1bmN0aW9uIENvbnRyb2xsZXIoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IGNhcm91c2VsLCBhbmltYXRpb24sIGNvbnRyb2xsZXIsIG9uLCBzdHlsZXMsIHJlbmRlciB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBjbG9zZU9uUHVsbFVwLCBjbG9zZU9uUHVsbERvd24sIHByZXZlbnREZWZhdWx0V2hlZWxYLCBwcmV2ZW50RGVmYXVsdFdoZWVsWSB9ID0gY29udHJvbGxlcjtcbiAgICBjb25zdCBbdG9vbGJhcldpZHRoLCBzZXRUb29sYmFyV2lkdGhdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZUxpZ2h0Ym94RGlzcGF0Y2goKTtcbiAgICBjb25zdCBbc3dpcGVTdGF0ZSwgc2V0U3dpcGVTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZShTd2lwZVN0YXRlLk5PTkUpO1xuICAgIGNvbnN0IHN3aXBlT2Zmc2V0ID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IHB1bGxPZmZzZXQgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgcHVsbE9wYWNpdHkgPSBSZWFjdC51c2VSZWYoMSk7XG4gICAgY29uc3QgeyByZWdpc3RlclNlbnNvcnMsIHN1YnNjcmliZVNlbnNvcnMgfSA9IHVzZVNlbnNvcnMoKTtcbiAgICBjb25zdCB7IHN1YnNjcmliZSwgcHVibGlzaCB9ID0gdXNlRXZlbnRzKCk7XG4gICAgY29uc3QgY2xlYW51cEFuaW1hdGlvbkluY3JlbWVudCA9IHVzZURlbGF5KCk7XG4gICAgY29uc3QgY2xlYW51cFN3aXBlT2Zmc2V0ID0gdXNlRGVsYXkoKTtcbiAgICBjb25zdCBjbGVhbnVwUHVsbE9mZnNldCA9IHVzZURlbGF5KCk7XG4gICAgY29uc3QgeyBjb250YWluZXJSZWYsIHNldENvbnRhaW5lclJlZiwgY29udGFpbmVyUmVjdCB9ID0gdXNlQ29udGFpbmVyUmVjdCgpO1xuICAgIGNvbnN0IGhhbmRsZUNvbnRhaW5lclJlZiA9IHVzZUZvcmtSZWYodXNlUHJldmVudFdoZWVsRGVmYXVsdHMoeyBwcmV2ZW50RGVmYXVsdFdoZWVsWCwgcHJldmVudERlZmF1bHRXaGVlbFkgfSksIHNldENvbnRhaW5lclJlZik7XG4gICAgY29uc3QgY2Fyb3VzZWxSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgc2V0Q2Fyb3VzZWxSZWYgPSB1c2VGb3JrUmVmKGNhcm91c2VsUmVmLCB1bmRlZmluZWQpO1xuICAgIGNvbnN0IGlzUlRMID0gdXNlUlRMKCk7XG4gICAgY29uc3QgcnRsID0gKHZhbHVlKSA9PiAoaXNSVEwgPyAtMSA6IDEpICogKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiA/IHZhbHVlIDogMSk7XG4gICAgY29uc3QgZm9jdXMgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gY29udGFpbmVyUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpOyB9KTtcbiAgICBjb25zdCBnZXRMaWdodGJveFByb3BzID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiBwcm9wcyk7XG4gICAgY29uc3QgZ2V0TGlnaHRib3hTdGF0ZSA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4gc3RhdGUpO1xuICAgIGNvbnN0IHByZXYgPSBSZWFjdC51c2VDYWxsYmFjaygocGFyYW1zKSA9PiBwdWJsaXNoKEFDVElPTl9QUkVWLCBwYXJhbXMpLCBbcHVibGlzaF0pO1xuICAgIGNvbnN0IG5leHQgPSBSZWFjdC51c2VDYWxsYmFjaygocGFyYW1zKSA9PiBwdWJsaXNoKEFDVElPTl9ORVhULCBwYXJhbXMpLCBbcHVibGlzaF0pO1xuICAgIGNvbnN0IGNsb3NlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gcHVibGlzaChBQ1RJT05fQ0xPU0UpLCBbcHVibGlzaF0pO1xuICAgIGNvbnN0IGlzU3dpcGVWYWxpZCA9IChvZmZzZXQpID0+ICEoY2Fyb3VzZWwuZmluaXRlICYmXG4gICAgICAgICgocnRsKG9mZnNldCkgPiAwICYmIHN0YXRlLmN1cnJlbnRJbmRleCA9PT0gMCkgfHxcbiAgICAgICAgICAgIChydGwob2Zmc2V0KSA8IDAgJiYgc3RhdGUuY3VycmVudEluZGV4ID09PSBzdGF0ZS5zbGlkZXMubGVuZ3RoIC0gMSkpKTtcbiAgICBjb25zdCBzZXRTd2lwZU9mZnNldCA9IChvZmZzZXQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzd2lwZU9mZnNldC5jdXJyZW50ID0gb2Zmc2V0O1xuICAgICAgICAoX2EgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0eWxlLnNldFByb3BlcnR5KGNzc1ZhcihcInN3aXBlX29mZnNldFwiKSwgYCR7TWF0aC5yb3VuZChvZmZzZXQpfXB4YCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRQdWxsT2Zmc2V0ID0gKG9mZnNldCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBwdWxsT2Zmc2V0LmN1cnJlbnQgPSBvZmZzZXQ7XG4gICAgICAgIHB1bGxPcGFjaXR5LmN1cnJlbnQgPSAoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGhyZXNob2xkID0gNjA7XG4gICAgICAgICAgICBjb25zdCBtaW5PcGFjaXR5ID0gMC41O1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0VmFsdWUgPSAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjbG9zZU9uUHVsbERvd24gJiYgb2Zmc2V0ID4gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VPblB1bGxVcCAmJiBvZmZzZXQgPCAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLW9mZnNldDtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocm91bmQoMSAtIChvZmZzZXRWYWx1ZSAvIHRocmVzaG9sZCkgKiAoMSAtIG1pbk9wYWNpdHkpLCAyKSwgbWluT3BhY2l0eSksIDEpO1xuICAgICAgICB9KSgpO1xuICAgICAgICAoX2EgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0eWxlLnNldFByb3BlcnR5KGNzc1ZhcihcInB1bGxfb2Zmc2V0XCIpLCBgJHtNYXRoLnJvdW5kKG9mZnNldCl9cHhgKTtcbiAgICAgICAgKF9iID0gY29udGFpbmVyUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdHlsZS5zZXRQcm9wZXJ0eShjc3NWYXIoXCJwdWxsX29wYWNpdHlcIiksIGAke3B1bGxPcGFjaXR5LmN1cnJlbnR9YCk7XG4gICAgfTtcbiAgICBjb25zdCB7IHByZXBhcmVBbmltYXRpb246IHByZXBhcmVQdWxsQW5pbWF0aW9uIH0gPSB1c2VBbmltYXRpb24oY2Fyb3VzZWxSZWYsIChzbmFwc2hvdCwgcmVjdCwgdHJhbnNsYXRlKSA9PiB7XG4gICAgICAgIGlmIChjYXJvdXNlbFJlZi5jdXJyZW50ICYmIGNvbnRhaW5lclJlY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5ZnJhbWVzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLCAke3NuYXBzaG90LnJlY3QueSAtIHJlY3QueSArIHRyYW5zbGF0ZS55fXB4KWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBzbmFwc2hvdC5vcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMCwgMClcIiwgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHNuYXBzaG90LmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZzogYW5pbWF0aW9uLmVhc2luZy5mYWRlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGNvbnN0IHB1bGwgPSAob2Zmc2V0LCBjYW5jZWwpID0+IHtcbiAgICAgICAgaWYgKGNsb3NlT25QdWxsVXAgfHwgY2xvc2VPblB1bGxEb3duKSB7XG4gICAgICAgICAgICBzZXRQdWxsT2Zmc2V0KG9mZnNldCk7XG4gICAgICAgICAgICBsZXQgZHVyYXRpb24gPSAwO1xuICAgICAgICAgICAgaWYgKGNhcm91c2VsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGFuaW1hdGlvbi5mYWRlICogKGNhbmNlbCA/IDIgOiAxKTtcbiAgICAgICAgICAgICAgICBwcmVwYXJlUHVsbEFuaW1hdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Q6IGNhcm91c2VsUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHB1bGxPcGFjaXR5LmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYW51cFB1bGxPZmZzZXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFB1bGxPZmZzZXQoMCk7XG4gICAgICAgICAgICAgICAgc2V0U3dpcGVTdGF0ZShTd2lwZVN0YXRlLk5PTkUpO1xuICAgICAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgc2V0U3dpcGVTdGF0ZShTd2lwZVN0YXRlLkFOSU1BVElPTik7XG4gICAgICAgICAgICBpZiAoIWNhbmNlbCkge1xuICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHsgcHJlcGFyZUFuaW1hdGlvbiwgaXNBbmltYXRpb25QbGF5aW5nIH0gPSB1c2VBbmltYXRpb24oY2Fyb3VzZWxSZWYsIChzbmFwc2hvdCwgcmVjdCwgdHJhbnNsYXRlKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGNhcm91c2VsUmVmLmN1cnJlbnQgJiYgY29udGFpbmVyUmVjdCAmJiAoKF9hID0gc3RhdGUuYW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRTcGFjaW5nID0gcGFyc2VMZW5ndGhQZXJjZW50YWdlKGNhcm91c2VsLnNwYWNpbmcpO1xuICAgICAgICAgICAgY29uc3Qgc3BhY2luZ1ZhbHVlID0gKHBhcnNlZFNwYWNpbmcucGVyY2VudCA/IChwYXJzZWRTcGFjaW5nLnBlcmNlbnQgKiBjb250YWluZXJSZWN0LndpZHRoKSAvIDEwMCA6IHBhcnNlZFNwYWNpbmcucGl4ZWwpIHx8IDA7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleWZyYW1lczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtydGwoc3RhdGUuZ2xvYmFsSW5kZXggLSBzbmFwc2hvdC5pbmRleCkgKiAoY29udGFpbmVyUmVjdC53aWR0aCArIHNwYWNpbmdWYWx1ZSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90LnJlY3QueCAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC54ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUueH1weCwgMClgLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMCwgMClcIiB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHN0YXRlLmFuaW1hdGlvbi5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBlYXNpbmc6IHN0YXRlLmFuaW1hdGlvbi5lYXNpbmcsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgY29uc3Qgc3dpcGUgPSB1c2VFdmVudENhbGxiYWNrKChhY3Rpb24pID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY3VycmVudFN3aXBlT2Zmc2V0ID0gYWN0aW9uLm9mZnNldCB8fCAwO1xuICAgICAgICBjb25zdCBzd2lwZUR1cmF0aW9uID0gIWN1cnJlbnRTd2lwZU9mZnNldCA/IChfYSA9IGFuaW1hdGlvbi5uYXZpZ2F0aW9uKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBhbmltYXRpb24uc3dpcGUgOiBhbmltYXRpb24uc3dpcGU7XG4gICAgICAgIGNvbnN0IHN3aXBlRWFzaW5nID0gIWN1cnJlbnRTd2lwZU9mZnNldCAmJiAhaXNBbmltYXRpb25QbGF5aW5nKCkgPyBhbmltYXRpb24uZWFzaW5nLm5hdmlnYXRpb24gOiBhbmltYXRpb24uZWFzaW5nLnN3aXBlO1xuICAgICAgICBsZXQgeyBkaXJlY3Rpb24gfSA9IGFjdGlvbjtcbiAgICAgICAgY29uc3QgY291bnQgPSAoX2IgPSBhY3Rpb24uY291bnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDE7XG4gICAgICAgIGxldCBuZXdTd2lwZVN0YXRlID0gU3dpcGVTdGF0ZS5BTklNQVRJT047XG4gICAgICAgIGxldCBuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uID0gc3dpcGVEdXJhdGlvbiAqIGNvdW50O1xuICAgICAgICBpZiAoIWRpcmVjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyV2lkdGggPSBjb250YWluZXJSZWN0ID09PSBudWxsIHx8IGNvbnRhaW5lclJlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lclJlY3Qud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IGFjdGlvbi5kdXJhdGlvbiB8fCAwO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRUaW1lID0gY29udGFpbmVyV2lkdGhcbiAgICAgICAgICAgICAgICA/IChzd2lwZUR1cmF0aW9uIC8gY29udGFpbmVyV2lkdGgpICogTWF0aC5hYnMoY3VycmVudFN3aXBlT2Zmc2V0KVxuICAgICAgICAgICAgICAgIDogc3dpcGVEdXJhdGlvbjtcbiAgICAgICAgICAgIGlmIChjb3VudCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChlbGFwc2VkVGltZSA8IGV4cGVjdGVkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uIC8gZXhwZWN0ZWRUaW1lKSAqIE1hdGgubWF4KGVsYXBzZWRUaW1lLCBleHBlY3RlZFRpbWUgLyA1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoc3dpcGVEdXJhdGlvbiAvIGNvbnRhaW5lcldpZHRoKSAqIChjb250YWluZXJXaWR0aCAtIE1hdGguYWJzKGN1cnJlbnRTd2lwZU9mZnNldCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBydGwoY3VycmVudFN3aXBlT2Zmc2V0KSA+IDAgPyBBQ1RJT05fUFJFViA6IEFDVElPTl9ORVhUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiA9IHN3aXBlRHVyYXRpb24gLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBpbmNyZW1lbnQgPSAwO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBBQ1RJT05fUFJFVikge1xuICAgICAgICAgICAgaWYgKGlzU3dpcGVWYWxpZChydGwoMSkpKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gLWNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U3dpcGVTdGF0ZSA9IFN3aXBlU3RhdGUuTk9ORTtcbiAgICAgICAgICAgICAgICBuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uID0gc3dpcGVEdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT09IEFDVElPTl9ORVhUKSB7XG4gICAgICAgICAgICBpZiAoaXNTd2lwZVZhbGlkKHJ0bCgtMSkpKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTd2lwZVN0YXRlID0gU3dpcGVTdGF0ZS5OT05FO1xuICAgICAgICAgICAgICAgIG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPSBzd2lwZUR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPSBNYXRoLnJvdW5kKG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICBjbGVhbnVwU3dpcGVPZmZzZXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0U3dpcGVPZmZzZXQoMCk7XG4gICAgICAgICAgICBzZXRTd2lwZVN0YXRlKFN3aXBlU3RhdGUuTk9ORSk7XG4gICAgICAgIH0sIG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICBpZiAoY2Fyb3VzZWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcHJlcGFyZUFuaW1hdGlvbih7XG4gICAgICAgICAgICAgICAgcmVjdDogY2Fyb3VzZWxSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICBpbmRleDogc3RhdGUuZ2xvYmFsSW5kZXgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRTd2lwZVN0YXRlKG5ld1N3aXBlU3RhdGUpO1xuICAgICAgICBwdWJsaXNoKEFDVElPTl9TV0lQRSwge1xuICAgICAgICAgICAgdHlwZTogXCJzd2lwZVwiLFxuICAgICAgICAgICAgaW5jcmVtZW50LFxuICAgICAgICAgICAgZHVyYXRpb246IG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICBlYXNpbmc6IHN3aXBlRWFzaW5nLFxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoKChfYSA9IHN0YXRlLmFuaW1hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluY3JlbWVudCkgJiYgKChfYiA9IHN0YXRlLmFuaW1hdGlvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgY2xlYW51cEFuaW1hdGlvbkluY3JlbWVudCgoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwic3dpcGVcIiwgaW5jcmVtZW50OiAwIH0pLCBzdGF0ZS5hbmltYXRpb24uZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgfSwgW3N0YXRlLmFuaW1hdGlvbiwgZGlzcGF0Y2gsIGNsZWFudXBBbmltYXRpb25JbmNyZW1lbnRdKTtcbiAgICBjb25zdCBzd2lwZVBhcmFtcyA9IFtcbiAgICAgICAgc3Vic2NyaWJlU2Vuc29ycyxcbiAgICAgICAgaXNTd2lwZVZhbGlkLFxuICAgICAgICAoY29udGFpbmVyUmVjdCA9PT0gbnVsbCB8fCBjb250YWluZXJSZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250YWluZXJSZWN0LndpZHRoKSB8fCAwLFxuICAgICAgICBhbmltYXRpb24uc3dpcGUsXG4gICAgICAgICgpID0+IHNldFN3aXBlU3RhdGUoU3dpcGVTdGF0ZS5TV0lQRSksXG4gICAgICAgIChvZmZzZXQpID0+IHNldFN3aXBlT2Zmc2V0KG9mZnNldCksXG4gICAgICAgIChvZmZzZXQsIGR1cmF0aW9uKSA9PiBzd2lwZSh7IG9mZnNldCwgZHVyYXRpb24sIGNvdW50OiAxIH0pLFxuICAgICAgICAob2Zmc2V0KSA9PiBzd2lwZSh7IG9mZnNldCwgY291bnQ6IDAgfSksXG4gICAgXTtcbiAgICBjb25zdCBwdWxsUGFyYW1zID0gW1xuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2xvc2VPblB1bGxEb3duKSB7XG4gICAgICAgICAgICAgICAgc2V0U3dpcGVTdGF0ZShTd2lwZVN0YXRlLlBVTEwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAob2Zmc2V0KSA9PiBzZXRQdWxsT2Zmc2V0KG9mZnNldCksXG4gICAgICAgIChvZmZzZXQpID0+IHB1bGwob2Zmc2V0KSxcbiAgICAgICAgKG9mZnNldCkgPT4gcHVsbChvZmZzZXQsIHRydWUpLFxuICAgIF07XG4gICAgdXNlUG9pbnRlclN3aXBlKC4uLnN3aXBlUGFyYW1zLCBjbG9zZU9uUHVsbFVwLCBjbG9zZU9uUHVsbERvd24sIC4uLnB1bGxQYXJhbXMpO1xuICAgIHVzZVdoZWVsU3dpcGUoc3dpcGVTdGF0ZSwgLi4uc3dpcGVQYXJhbXMpO1xuICAgIGNvbnN0IGZvY3VzT25Nb3VudCA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoY29udHJvbGxlci5mb2N1cykge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2Nzc0NsYXNzKE1PRFVMRV9QT1JUQUwpfSAuJHtjc3NDbGFzcyhjc3NDb250YWluZXJQcmVmaXgoKSl9YCkpIHtcbiAgICAgICAgICAgICAgICBmb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZvY3VzT25Nb3VudCwgW2ZvY3VzT25Nb3VudF0pO1xuICAgIGNvbnN0IG9uVmlld0NhbGxiYWNrID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gb24udmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24sIHsgaW5kZXg6IHN0YXRlLmN1cnJlbnRJbmRleCB9KTtcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3Qob25WaWV3Q2FsbGJhY2ssIFtzdGF0ZS5nbG9iYWxJbmRleCwgb25WaWV3Q2FsbGJhY2tdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gY2xlYW51cChzdWJzY3JpYmUoQUNUSU9OX1BSRVYsIChhY3Rpb24pID0+IHN3aXBlKHsgZGlyZWN0aW9uOiBBQ1RJT05fUFJFViwgLi4uYWN0aW9uIH0pKSwgc3Vic2NyaWJlKEFDVElPTl9ORVhULCAoYWN0aW9uKSA9PiBzd2lwZSh7IGRpcmVjdGlvbjogQUNUSU9OX05FWFQsIC4uLmFjdGlvbiB9KSksIHN1YnNjcmliZShBQ1RJT05fU1dJUEUsIChhY3Rpb24pID0+IGRpc3BhdGNoKGFjdGlvbikpKSwgW3N1YnNjcmliZSwgc3dpcGUsIGRpc3BhdGNoXSk7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgcHJldixcbiAgICAgICAgbmV4dCxcbiAgICAgICAgY2xvc2UsXG4gICAgICAgIGZvY3VzLFxuICAgICAgICBzbGlkZVJlY3Q6IGNvbnRhaW5lclJlY3QgPyBjb21wdXRlU2xpZGVSZWN0KGNvbnRhaW5lclJlY3QsIGNhcm91c2VsLnBhZGRpbmcpIDogeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0sXG4gICAgICAgIGNvbnRhaW5lclJlY3Q6IGNvbnRhaW5lclJlY3QgfHwgeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0sXG4gICAgICAgIHN1YnNjcmliZVNlbnNvcnMsXG4gICAgICAgIGNvbnRhaW5lclJlZixcbiAgICAgICAgc2V0Q2Fyb3VzZWxSZWYsXG4gICAgICAgIHRvb2xiYXJXaWR0aCxcbiAgICAgICAgc2V0VG9vbGJhcldpZHRoLFxuICAgIH0pLCBbXG4gICAgICAgIHByZXYsXG4gICAgICAgIG5leHQsXG4gICAgICAgIGNsb3NlLFxuICAgICAgICBmb2N1cyxcbiAgICAgICAgc3Vic2NyaWJlU2Vuc29ycyxcbiAgICAgICAgY29udGFpbmVyUmVjdCxcbiAgICAgICAgY29udGFpbmVyUmVmLFxuICAgICAgICBzZXRDYXJvdXNlbFJlZixcbiAgICAgICAgdG9vbGJhcldpZHRoLFxuICAgICAgICBzZXRUb29sYmFyV2lkdGgsXG4gICAgICAgIGNhcm91c2VsLnBhZGRpbmcsXG4gICAgXSk7XG4gICAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShjb250cm9sbGVyLnJlZiwgKCkgPT4gKHtcbiAgICAgICAgcHJldixcbiAgICAgICAgbmV4dCxcbiAgICAgICAgY2xvc2UsXG4gICAgICAgIGZvY3VzLFxuICAgICAgICBnZXRMaWdodGJveFByb3BzLFxuICAgICAgICBnZXRMaWdodGJveFN0YXRlLFxuICAgIH0pLCBbcHJldiwgbmV4dCwgY2xvc2UsIGZvY3VzLCBnZXRMaWdodGJveFByb3BzLCBnZXRMaWdodGJveFN0YXRlXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBoYW5kbGVDb250YWluZXJSZWYsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhjc3NDb250YWluZXJQcmVmaXgoKSksIGNzc0NsYXNzKENMQVNTX0ZMRVhfQ0VOVEVSKSksIHN0eWxlOiB7XG4gICAgICAgICAgICAuLi4oc3dpcGVTdGF0ZSA9PT0gU3dpcGVTdGF0ZS5TV0lQRVxuICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKFwic3dpcGVfb2Zmc2V0XCIpXTogYCR7TWF0aC5yb3VuZChzd2lwZU9mZnNldC5jdXJyZW50KX1weGAgfVxuICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAuLi4oc3dpcGVTdGF0ZSA9PT0gU3dpcGVTdGF0ZS5QVUxMXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIFtjc3NWYXIoXCJwdWxsX29mZnNldFwiKV06IGAke01hdGgucm91bmQocHVsbE9mZnNldC5jdXJyZW50KX1weGAsXG4gICAgICAgICAgICAgICAgICAgIFtjc3NWYXIoXCJwdWxsX29wYWNpdHlcIildOiBgJHtwdWxsT3BhY2l0eS5jdXJyZW50fWAsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAuLi4oY29udHJvbGxlci50b3VjaEFjdGlvbiAhPT0gXCJub25lXCIgPyB7IFtjc3NWYXIoXCJjb250cm9sbGVyX3RvdWNoX2FjdGlvblwiKV06IGNvbnRyb2xsZXIudG91Y2hBY3Rpb24gfSA6IG51bGwpLFxuICAgICAgICAgICAgLi4uc3R5bGVzLmNvbnRhaW5lcixcbiAgICAgICAgfSwgLi4uKGNvbnRyb2xsZXIuYXJpYSA/IHsgcm9sZTogXCJwcmVzZW50YXRpb25cIiwgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIiB9IDogbnVsbCksIHRhYkluZGV4OiAtMSwgLi4ucmVnaXN0ZXJTZW5zb3JzIH0sIGNvbnRhaW5lclJlY3QgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udHJvbGxlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSxcbiAgICAgICAgY2hpbGRyZW4sIChfYSA9IHJlbmRlci5jb250cm9scykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6XG4gICAgICAgIF9hLmNhbGwocmVuZGVyKSkpKSk7XG59XG5jb25zdCBDb250cm9sbGVyTW9kdWxlID0gY3JlYXRlTW9kdWxlKE1PRFVMRV9DT05UUk9MTEVSLCBDb250cm9sbGVyKTtcblxuZnVuY3Rpb24gY3NzUHJlZml4JDIodmFsdWUpIHtcbiAgICByZXR1cm4gY29tcG9zZVByZWZpeChNT0RVTEVfQ0FST1VTRUwsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGNzc1NsaWRlUHJlZml4KHZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbXBvc2VQcmVmaXgoXCJzbGlkZVwiLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBDYXJvdXNlbFNsaWRlKHsgc2xpZGUsIG9mZnNldCB9KSB7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgY3VycmVudEluZGV4IH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgeyBzbGlkZVJlY3QsIGNsb3NlIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyByZW5kZXIsIGNhcm91c2VsOiB7IGltYWdlRml0LCBpbWFnZVByb3BzIH0sIG9uOiB7IGNsaWNrOiBvbkNsaWNrIH0sIGNvbnRyb2xsZXI6IHsgY2xvc2VPbkJhY2tkcm9wQ2xpY2sgfSwgc3R5bGVzOiB7IHNsaWRlOiBzdHlsZSB9LCB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHJlbmRlclNsaWRlID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGxldCByZW5kZXJlZCA9IChfYSA9IHJlbmRlci5zbGlkZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7IHNsaWRlLCBvZmZzZXQsIHJlY3Q6IHNsaWRlUmVjdCB9KTtcbiAgICAgICAgaWYgKCFyZW5kZXJlZCAmJiBpc0ltYWdlU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgICAgICByZW5kZXJlZCA9IChSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsgc2xpZGU6IHNsaWRlLCBvZmZzZXQ6IG9mZnNldCwgcmVuZGVyOiByZW5kZXIsIHJlY3Q6IHNsaWRlUmVjdCwgaW1hZ2VGaXQ6IGltYWdlRml0LCBpbWFnZVByb3BzOiBpbWFnZVByb3BzLCBvbkNsaWNrOiBvZmZzZXQgPT09IDAgPyAoKSA9PiBvbkNsaWNrID09PSBudWxsIHx8IG9uQ2xpY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ2xpY2soeyBpbmRleDogY3VycmVudEluZGV4IH0pIDogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVuZGVyZWQgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgKF9iID0gcmVuZGVyLnNsaWRlSGVhZGVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDpcbiAgICAgICAgICAgIF9iLmNhbGwocmVuZGVyLCB7IHNsaWRlIH0pLFxuICAgICAgICAgICAgKChfYyA9IHJlbmRlci5zbGlkZUNvbnRhaW5lcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogKCh7IGNoaWxkcmVuIH0pID0+IGNoaWxkcmVuKSkoeyBzbGlkZSwgY2hpbGRyZW46IHJlbmRlcmVkIH0pLCAoX2QgPSByZW5kZXIuc2xpZGVGb290ZXIpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOlxuICAgICAgICAgICAgX2QuY2FsbChyZW5kZXIsIHsgc2xpZGUgfSkpKSA6IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVCYWNrZHJvcENsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IGV2ZW50LnRhcmdldCA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGNsb3NlT25CYWNrZHJvcENsaWNrICYmXG4gICAgICAgICAgICB0YXJnZXQgJiZcbiAgICAgICAgICAgIGNvbnRhaW5lciAmJlxuICAgICAgICAgICAgKHRhcmdldCA9PT0gY29udGFpbmVyIHx8XG4gICAgICAgICAgICAgICAgKEFycmF5LmZyb20oY29udGFpbmVyLmNoaWxkcmVuKS5maW5kKCh4KSA9PiB4ID09PSB0YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoY3NzQ2xhc3MoQ0xBU1NfU0xJREVfV1JBUFBFUikpKSkpIHtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogY29udGFpbmVyUmVmLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoY3NzU2xpZGVQcmVmaXgoKSksIG9mZnNldCA9PT0gMCAmJiBjc3NDbGFzcyhjc3NTbGlkZVByZWZpeChcImN1cnJlbnRcIikpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUikpLCBvbkNsaWNrOiBoYW5kbGVCYWNrZHJvcENsaWNrLCBzdHlsZTogc3R5bGUgfSwgcmVuZGVyU2xpZGUoKSkpO1xufVxuZnVuY3Rpb24gUGxhY2Vob2xkZXIoKSB7XG4gICAgY29uc3Qgc3R5bGUgPSB1c2VMaWdodGJveFByb3BzKCkuc3R5bGVzLnNsaWRlO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjc3NDbGFzcyhcInNsaWRlXCIpLCBzdHlsZTogc3R5bGUgfSk7XG59XG5mdW5jdGlvbiBDYXJvdXNlbCh7IGNhcm91c2VsIH0pIHtcbiAgICBjb25zdCB7IHNsaWRlcywgY3VycmVudEluZGV4LCBnbG9iYWxJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHsgc2V0Q2Fyb3VzZWxSZWYgfSA9IHVzZUNvbnRyb2xsZXIoKTtcbiAgICBjb25zdCBzcGFjaW5nVmFsdWUgPSBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UoY2Fyb3VzZWwuc3BhY2luZyk7XG4gICAgY29uc3QgcGFkZGluZ1ZhbHVlID0gcGFyc2VMZW5ndGhQZXJjZW50YWdlKGNhcm91c2VsLnBhZGRpbmcpO1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgY29uc3QgcHJlbG9hZCA9IGNhbGN1bGF0ZVByZWxvYWQoY2Fyb3VzZWwsIHNsaWRlcywgMSk7XG4gICAgaWYgKGhhc1NsaWRlcyhzbGlkZXMpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBjdXJyZW50SW5kZXggLSBwcmVsb2FkOyBpIDwgY3VycmVudEluZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdsb2JhbEluZGV4ICsgaSAtIGN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goIWNhcm91c2VsLmZpbml0ZSB8fCBpID49IDAgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChDYXJvdXNlbFNsaWRlLCB7IGtleToga2V5LCBzbGlkZTogc2xpZGVzWyhpICsgcHJlbG9hZCAqIHNsaWRlcy5sZW5ndGgpICUgc2xpZGVzLmxlbmd0aF0sIG9mZnNldDogaSAtIGN1cnJlbnRJbmRleCB9KSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChQbGFjZWhvbGRlciwgeyBrZXk6IGtleSB9KSkpO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW1zLnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChDYXJvdXNlbFNsaWRlLCB7IGtleTogZ2xvYmFsSW5kZXgsIHNsaWRlOiBzbGlkZXNbY3VycmVudEluZGV4XSwgb2Zmc2V0OiAwIH0pKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGN1cnJlbnRJbmRleCArIDE7IGkgPD0gY3VycmVudEluZGV4ICsgcHJlbG9hZDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBnbG9iYWxJbmRleCArIGkgLSBjdXJyZW50SW5kZXg7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKCFjYXJvdXNlbC5maW5pdGUgfHwgaSA8PSBzbGlkZXMubGVuZ3RoIC0gMSA/IChSZWFjdC5jcmVhdGVFbGVtZW50KENhcm91c2VsU2xpZGUsIHsga2V5OiBrZXksIHNsaWRlOiBzbGlkZXNbaSAlIHNsaWRlcy5sZW5ndGhdLCBvZmZzZXQ6IGkgLSBjdXJyZW50SW5kZXggfSkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhY2Vob2xkZXIsIHsga2V5OiBrZXkgfSkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHNldENhcm91c2VsUmVmLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoY3NzUHJlZml4JDIoKSksIGl0ZW1zLmxlbmd0aCA+IDAgJiYgY3NzQ2xhc3MoY3NzUHJlZml4JDIoXCJ3aXRoX3NsaWRlc1wiKSkpLCBzdHlsZToge1xuICAgICAgICAgICAgW2Ake2Nzc1Zhcihjc3NQcmVmaXgkMihcInNsaWRlc19jb3VudFwiKSl9YF06IGl0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIFtgJHtjc3NWYXIoY3NzUHJlZml4JDIoXCJzcGFjaW5nX3B4XCIpKX1gXTogc3BhY2luZ1ZhbHVlLnBpeGVsIHx8IDAsXG4gICAgICAgICAgICBbYCR7Y3NzVmFyKGNzc1ByZWZpeCQyKFwic3BhY2luZ19wZXJjZW50XCIpKX1gXTogc3BhY2luZ1ZhbHVlLnBlcmNlbnQgfHwgMCxcbiAgICAgICAgICAgIFtgJHtjc3NWYXIoY3NzUHJlZml4JDIoXCJwYWRkaW5nX3B4XCIpKX1gXTogcGFkZGluZ1ZhbHVlLnBpeGVsIHx8IDAsXG4gICAgICAgICAgICBbYCR7Y3NzVmFyKGNzc1ByZWZpeCQyKFwicGFkZGluZ19wZXJjZW50XCIpKX1gXTogcGFkZGluZ1ZhbHVlLnBlcmNlbnQgfHwgMCxcbiAgICAgICAgfSB9LCBpdGVtcykpO1xufVxuY29uc3QgQ2Fyb3VzZWxNb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX0NBUk9VU0VMLCBDYXJvdXNlbCk7XG5cbmZ1bmN0aW9uIHVzZU5hdmlnYXRpb25TdGF0ZSgpIHtcbiAgICBjb25zdCB7IGNhcm91c2VsIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3QgeyBzbGlkZXMsIGN1cnJlbnRJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHByZXZEaXNhYmxlZCA9IHNsaWRlcy5sZW5ndGggPT09IDAgfHwgKGNhcm91c2VsLmZpbml0ZSAmJiBjdXJyZW50SW5kZXggPT09IDApO1xuICAgIGNvbnN0IG5leHREaXNhYmxlZCA9IHNsaWRlcy5sZW5ndGggPT09IDAgfHwgKGNhcm91c2VsLmZpbml0ZSAmJiBjdXJyZW50SW5kZXggPT09IHNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4geyBwcmV2RGlzYWJsZWQsIG5leHREaXNhYmxlZCB9O1xufVxuXG5mdW5jdGlvbiB1c2VLZXlib2FyZE5hdmlnYXRpb24oc3Vic2NyaWJlU2Vuc29ycykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBpc1JUTCA9IHVzZVJUTCgpO1xuICAgIGNvbnN0IHsgcHVibGlzaCB9ID0gdXNlRXZlbnRzKCk7XG4gICAgY29uc3QgeyBhbmltYXRpb24gfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCB7IHByZXZEaXNhYmxlZCwgbmV4dERpc2FibGVkIH0gPSB1c2VOYXZpZ2F0aW9uU3RhdGUoKTtcbiAgICBjb25zdCB0aHJvdHRsZSA9ICgoX2EgPSBhbmltYXRpb24ubmF2aWdhdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYW5pbWF0aW9uLnN3aXBlKSAvIDI7XG4gICAgY29uc3QgcHJldiA9IHVzZVRocm90dGxlKCgpID0+IHB1Ymxpc2goQUNUSU9OX1BSRVYpLCB0aHJvdHRsZSk7XG4gICAgY29uc3QgbmV4dCA9IHVzZVRocm90dGxlKCgpID0+IHB1Ymxpc2goQUNUSU9OX05FWFQpLCB0aHJvdHRsZSk7XG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlIFZLX0VTQ0FQRTpcbiAgICAgICAgICAgICAgICBwdWJsaXNoKEFDVElPTl9DTE9TRSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFZLX0FSUk9XX0xFRlQ6XG4gICAgICAgICAgICAgICAgaWYgKCEoaXNSVEwgPyBuZXh0RGlzYWJsZWQgOiBwcmV2RGlzYWJsZWQpKVxuICAgICAgICAgICAgICAgICAgICAoaXNSVEwgPyBuZXh0IDogcHJldikoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVktfQVJST1dfUklHSFQ6XG4gICAgICAgICAgICAgICAgaWYgKCEoaXNSVEwgPyBwcmV2RGlzYWJsZWQgOiBuZXh0RGlzYWJsZWQpKVxuICAgICAgICAgICAgICAgICAgICAoaXNSVEwgPyBwcmV2IDogbmV4dCkoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9LRVlfRE9XTiwgaGFuZGxlS2V5RG93biksIFtzdWJzY3JpYmVTZW5zb3JzLCBoYW5kbGVLZXlEb3duXSk7XG59XG5cbmZ1bmN0aW9uIE5hdmlnYXRpb25CdXR0b24oeyBsYWJlbCwgaWNvbiwgcmVuZGVySWNvbiwgYWN0aW9uLCBvbkNsaWNrLCBkaXNhYmxlZCwgc3R5bGUgfSkge1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IGxhYmVsOiBsYWJlbCwgaWNvbjogaWNvbiwgcmVuZGVySWNvbjogcmVuZGVySWNvbiwgY2xhc3NOYW1lOiBjc3NDbGFzcyhgbmF2aWdhdGlvbl8ke2FjdGlvbn1gKSwgZGlzYWJsZWQ6IGRpc2FibGVkLCBvbkNsaWNrOiBvbkNsaWNrLCBzdHlsZTogc3R5bGUsIC4uLnVzZUxvc2VGb2N1cyh1c2VDb250cm9sbGVyKCkuZm9jdXMsIGRpc2FibGVkKSB9KSk7XG59XG5mdW5jdGlvbiBOYXZpZ2F0aW9uKHsgcmVuZGVyOiB7IGJ1dHRvblByZXYsIGJ1dHRvbk5leHQsIGljb25QcmV2LCBpY29uTmV4dCB9LCBzdHlsZXMgfSkge1xuICAgIGNvbnN0IHsgcHJldiwgbmV4dCwgc3Vic2NyaWJlU2Vuc29ycyB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgcHJldkRpc2FibGVkLCBuZXh0RGlzYWJsZWQgfSA9IHVzZU5hdmlnYXRpb25TdGF0ZSgpO1xuICAgIHVzZUtleWJvYXJkTmF2aWdhdGlvbihzdWJzY3JpYmVTZW5zb3JzKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIGJ1dHRvblByZXYgPyAoYnV0dG9uUHJldigpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25CdXR0b24sIHsgbGFiZWw6IFwiUHJldmlvdXNcIiwgYWN0aW9uOiBBQ1RJT05fUFJFViwgaWNvbjogUHJldmlvdXNJY29uLCByZW5kZXJJY29uOiBpY29uUHJldiwgc3R5bGU6IHN0eWxlcy5uYXZpZ2F0aW9uUHJldiwgZGlzYWJsZWQ6IHByZXZEaXNhYmxlZCwgb25DbGljazogcHJldiB9KSksXG4gICAgICAgIGJ1dHRvbk5leHQgPyAoYnV0dG9uTmV4dCgpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25CdXR0b24sIHsgbGFiZWw6IFwiTmV4dFwiLCBhY3Rpb246IEFDVElPTl9ORVhULCBpY29uOiBOZXh0SWNvbiwgcmVuZGVySWNvbjogaWNvbk5leHQsIHN0eWxlOiBzdHlsZXMubmF2aWdhdGlvbk5leHQsIGRpc2FibGVkOiBuZXh0RGlzYWJsZWQsIG9uQ2xpY2s6IG5leHQgfSkpKSk7XG59XG5jb25zdCBOYXZpZ2F0aW9uTW9kdWxlID0gY3JlYXRlTW9kdWxlKE1PRFVMRV9OQVZJR0FUSU9OLCBOYXZpZ2F0aW9uKTtcblxuY29uc3Qgbm9TY3JvbGwgPSBjc3NDbGFzcyhDTEFTU19OT19TQ1JPTEwpO1xuY29uc3Qgbm9TY3JvbGxQYWRkaW5nID0gY3NzQ2xhc3MoQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcpO1xuZnVuY3Rpb24gaXNIVE1MRWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIFwic3R5bGVcIiBpbiBlbGVtZW50O1xufVxuZnVuY3Rpb24gcGFkU2Nyb2xsYmFyKGVsZW1lbnQsIHBhZGRpbmcsIHJ0bCkge1xuICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gcnRsID8gXCJwYWRkaW5nLWxlZnRcIiA6IFwicGFkZGluZy1yaWdodFwiO1xuICAgIGNvbnN0IGNvbXB1dGVkVmFsdWUgPSBydGwgPyBzdHlsZXMucGFkZGluZ0xlZnQgOiBzdHlsZXMucGFkZGluZ1JpZ2h0O1xuICAgIGNvbnN0IG9yaWdpbmFsVmFsdWUgPSBlbGVtZW50LnN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpO1xuICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIGAkeyhwYXJzZUludChjb21wdXRlZFZhbHVlKSB8fCAwKSArIHBhZGRpbmd9cHhgKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAob3JpZ2luYWxWYWx1ZSkge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgb3JpZ2luYWxWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBOb1Njcm9sbCh7IG5vU2Nyb2xsOiB7IGRpc2FibGVkIH0sIGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCBydGwgPSB1c2VSVEwoKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gW107XG4gICAgICAgIGNvbnN0IHsgYm9keSwgZG9jdW1lbnRFbGVtZW50IH0gPSBkb2N1bWVudDtcbiAgICAgICAgY29uc3Qgc2Nyb2xsYmFyID0gTWF0aC5yb3VuZCh3aW5kb3cuaW5uZXJXaWR0aCAtIGRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCk7XG4gICAgICAgIGlmIChzY3JvbGxiYXIgPiAwKSB7XG4gICAgICAgICAgICBjbGVhbnVwLnB1c2gocGFkU2Nyb2xsYmFyKGJvZHksIHNjcm9sbGJhciwgcnRsKSk7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNIVE1MRWxlbWVudChlbGVtZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKFwicG9zaXRpb25cIikgPT09IFwiZml4ZWRcIiAmJlxuICAgICAgICAgICAgICAgICAgICAhZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMobm9TY3JvbGxQYWRkaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwLnB1c2gocGFkU2Nyb2xsYmFyKGVsZW1lbnQsIHNjcm9sbGJhciwgcnRsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChub1Njcm9sbCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUobm9TY3JvbGwpO1xuICAgICAgICAgICAgY2xlYW51cC5mb3JFYWNoKChjbGVhbikgPT4gY2xlYW4oKSk7XG4gICAgICAgIH07XG4gICAgfSwgW3J0bCwgZGlzYWJsZWRdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgY2hpbGRyZW4pO1xufVxuY29uc3QgTm9TY3JvbGxNb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX05PX1NDUk9MTCwgTm9TY3JvbGwpO1xuXG5mdW5jdGlvbiBjc3NQcmVmaXgkMSh2YWx1ZSkge1xuICAgIHJldHVybiBjb21wb3NlUHJlZml4KE1PRFVMRV9QT1JUQUwsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZShlbGVtZW50LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKHByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgcHJldmlvdXNWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIFBvcnRhbCh7IGNoaWxkcmVuLCBhbmltYXRpb24sIHN0eWxlcywgY2xhc3NOYW1lLCBvbiwgcG9ydGFsLCBjbG9zZSB9KSB7XG4gICAgY29uc3QgW21vdW50ZWQsIHNldE1vdW50ZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBjbGVhbnVwID0gUmVhY3QudXNlUmVmKFtdKTtcbiAgICBjb25zdCByZXN0b3JlRm9jdXMgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyBzZXRUaW1lb3V0IH0gPSB1c2VUaW1lb3V0cygpO1xuICAgIGNvbnN0IHsgc3Vic2NyaWJlIH0gPSB1c2VFdmVudHMoKTtcbiAgICBjb25zdCByZWR1Y2VNb3Rpb24gPSB1c2VNb3Rpb25QcmVmZXJlbmNlKCk7XG4gICAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb24gPSAhcmVkdWNlTW90aW9uID8gYW5pbWF0aW9uLmZhZGUgOiAwO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldE1vdW50ZWQodHJ1ZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzZXRNb3VudGVkKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBoYW5kbGVDbGVhbnVwID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNsZWFudXAuY3VycmVudC5mb3JFYWNoKChjbGVhbikgPT4gY2xlYW4oKSk7XG4gICAgICAgIGNsZWFudXAuY3VycmVudCA9IFtdO1xuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGhhbmRsZUNsZWFudXAoKTtcbiAgICAgICAgKF9hID0gb24uZXhpdGluZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIChfYSA9IG9uLmV4aXRlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pO1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfSwgYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiBzdWJzY3JpYmUoQUNUSU9OX0NMT1NFLCBoYW5kbGVDbG9zZSksIFtzdWJzY3JpYmUsIGhhbmRsZUNsb3NlXSk7XG4gICAgY29uc3QgaGFuZGxlRW50ZXIgPSB1c2VFdmVudENhbGxiYWNrKChub2RlKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBub2RlLnNjcm9sbFRvcDtcbiAgICAgICAgc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgKF9hID0gb24uZW50ZXJpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSAoX2MgPSAoX2IgPSBub2RlLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jaGlsZHJlbikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChbXCJURU1QTEFURVwiLCBcIlNDUklQVFwiLCBcIlNUWUxFXCJdLmluZGV4T2YoZWxlbWVudC50YWdOYW1lKSA9PT0gLTEgJiYgZWxlbWVudCAhPT0gbm9kZSkge1xuICAgICAgICAgICAgICAgIGNsZWFudXAuY3VycmVudC5wdXNoKHNldEF0dHJpYnV0ZShlbGVtZW50LCBcImluZXJ0XCIsIFwidHJ1ZVwiKSk7XG4gICAgICAgICAgICAgICAgY2xlYW51cC5jdXJyZW50LnB1c2goc2V0QXR0cmlidXRlKGVsZW1lbnQsIFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbGVhbnVwLmN1cnJlbnQucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgKF9iID0gKF9hID0gcmVzdG9yZUZvY3VzLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBvbi5lbnRlcmVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7XG4gICAgICAgIH0sIGFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVSZWYgPSBSZWFjdC51c2VDYWxsYmFjaygobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgaGFuZGxlRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVDbGVhbnVwKCk7XG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlRW50ZXIsIGhhbmRsZUNsZWFudXBdKTtcbiAgICByZXR1cm4gbW91bnRlZFxuICAgICAgICA/IGNyZWF0ZVBvcnRhbChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBoYW5kbGVSZWYsIGNsYXNzTmFtZTogY2xzeChjbGFzc05hbWUsIGNzc0NsYXNzKFwicm9vdFwiKSwgY3NzQ2xhc3MoY3NzUHJlZml4JDEoKSksIGNzc0NsYXNzKENMQVNTX05PX1NDUk9MTF9QQURESU5HKSwgdmlzaWJsZSAmJiBjc3NDbGFzcyhjc3NQcmVmaXgkMShcIm9wZW5cIikpKSwgcm9sZTogXCJwcmVzZW50YXRpb25cIiwgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIiwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAuLi4oYW5pbWF0aW9uLmZhZGUgIT09IExpZ2h0Ym94RGVmYXVsdFByb3BzLmFuaW1hdGlvbi5mYWRlXG4gICAgICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKFwiZmFkZV9hbmltYXRpb25fZHVyYXRpb25cIildOiBgJHthbmltYXRpb25EdXJhdGlvbn1tc2AgfVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgICAgIC4uLihhbmltYXRpb24uZWFzaW5nLmZhZGUgIT09IExpZ2h0Ym94RGVmYXVsdFByb3BzLmFuaW1hdGlvbi5lYXNpbmcuZmFkZVxuICAgICAgICAgICAgICAgICAgICA/IHsgW2Nzc1ZhcihcImZhZGVfYW5pbWF0aW9uX3RpbWluZ19mdW5jdGlvblwiKV06IGFuaW1hdGlvbi5lYXNpbmcuZmFkZSB9XG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVzLnJvb3QsXG4gICAgICAgICAgICB9LCBvbkZvY3VzOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3RvcmVGb2N1cy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3RvcmVGb2N1cy5jdXJyZW50ID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IH0sIGNoaWxkcmVuKSwgcG9ydGFsLnJvb3QgfHwgZG9jdW1lbnQuYm9keSlcbiAgICAgICAgOiBudWxsO1xufVxuY29uc3QgUG9ydGFsTW9kdWxlID0gY3JlYXRlTW9kdWxlKE1PRFVMRV9QT1JUQUwsIFBvcnRhbCk7XG5cbmZ1bmN0aW9uIFJvb3QoeyBjaGlsZHJlbiB9KSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKTtcbn1cbmNvbnN0IFJvb3RNb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX1JPT1QsIFJvb3QpO1xuXG5mdW5jdGlvbiBjc3NQcmVmaXgodmFsdWUpIHtcbiAgICByZXR1cm4gY29tcG9zZVByZWZpeChNT0RVTEVfVE9PTEJBUiwgdmFsdWUpO1xufVxuZnVuY3Rpb24gVG9vbGJhcih7IHRvb2xiYXI6IHsgYnV0dG9ucyB9LCByZW5kZXI6IHsgYnV0dG9uQ2xvc2UsIGljb25DbG9zZSB9LCBzdHlsZXMgfSkge1xuICAgIGNvbnN0IHsgY2xvc2UsIHNldFRvb2xiYXJXaWR0aCB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2V0Q29udGFpbmVyUmVmLCBjb250YWluZXJSZWN0IH0gPSB1c2VDb250YWluZXJSZWN0KCk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0VG9vbGJhcldpZHRoKGNvbnRhaW5lclJlY3QgPT09IG51bGwgfHwgY29udGFpbmVyUmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGFpbmVyUmVjdC53aWR0aCk7XG4gICAgfSwgW3NldFRvb2xiYXJXaWR0aCwgY29udGFpbmVyUmVjdCA9PT0gbnVsbCB8fCBjb250YWluZXJSZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250YWluZXJSZWN0LndpZHRoXSk7XG4gICAgY29uc3QgcmVuZGVyQ2xvc2VCdXR0b24gPSAoKSA9PiB7XG4gICAgICAgIGlmIChidXR0b25DbG9zZSlcbiAgICAgICAgICAgIHJldHVybiBidXR0b25DbG9zZSgpO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IGtleTogQUNUSU9OX0NMT1NFLCBsYWJlbDogXCJDbG9zZVwiLCBpY29uOiBDbG9zZUljb24sIHJlbmRlckljb246IGljb25DbG9zZSwgb25DbGljazogY2xvc2UgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHNldENvbnRhaW5lclJlZiwgc3R5bGU6IHN0eWxlcy50b29sYmFyLCBjbGFzc05hbWU6IGNzc0NsYXNzKGNzc1ByZWZpeCgpKSB9LCBidXR0b25zID09PSBudWxsIHx8IGJ1dHRvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1dHRvbnMubWFwKChidXR0b24pID0+IChidXR0b24gPT09IEFDVElPTl9DTE9TRSA/IHJlbmRlckNsb3NlQnV0dG9uKCkgOiBidXR0b24pKSkpO1xufVxuY29uc3QgVG9vbGJhck1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfVE9PTEJBUiwgVG9vbGJhcik7XG5cbmZ1bmN0aW9uIHJlbmRlck5vZGUobm9kZSwgcHJvcHMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQobm9kZS5tb2R1bGUuY29tcG9uZW50LCB7IGtleTogbm9kZS5tb2R1bGUubmFtZSwgLi4ucHJvcHMgfSwgKF9hID0gbm9kZS5jaGlsZHJlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcCgoY2hpbGQpID0+IHJlbmRlck5vZGUoY2hpbGQsIHByb3BzKSkpO1xufVxuZnVuY3Rpb24gbWVyZ2VBbmltYXRpb24oZGVmYXVsdEFuaW1hdGlvbiwgYW5pbWF0aW9uID0ge30pIHtcbiAgICBjb25zdCB7IGVhc2luZzogZGVmYXVsdEFuaW1hdGlvbkVhc2luZywgLi4ucmVzdERlZmF1bHRBbmltYXRpb24gfSA9IGRlZmF1bHRBbmltYXRpb247XG4gICAgY29uc3QgeyBlYXNpbmcsIC4uLnJlc3RBbmltYXRpb24gfSA9IGFuaW1hdGlvbjtcbiAgICByZXR1cm4ge1xuICAgICAgICBlYXNpbmc6IHsgLi4uZGVmYXVsdEFuaW1hdGlvbkVhc2luZywgLi4uZWFzaW5nIH0sXG4gICAgICAgIC4uLnJlc3REZWZhdWx0QW5pbWF0aW9uLFxuICAgICAgICAuLi5yZXN0QW5pbWF0aW9uLFxuICAgIH07XG59XG5mdW5jdGlvbiBMaWdodGJveCh7IGNhcm91c2VsLCBhbmltYXRpb24sIHJlbmRlciwgdG9vbGJhciwgY29udHJvbGxlciwgbm9TY3JvbGwsIG9uLCBwbHVnaW5zLCBzbGlkZXMsIGluZGV4LCAuLi5yZXN0UHJvcHMgfSkge1xuICAgIGNvbnN0IHsgYW5pbWF0aW9uOiBkZWZhdWx0QW5pbWF0aW9uLCBjYXJvdXNlbDogZGVmYXVsdENhcm91c2VsLCByZW5kZXI6IGRlZmF1bHRSZW5kZXIsIHRvb2xiYXI6IGRlZmF1bHRUb29sYmFyLCBjb250cm9sbGVyOiBkZWZhdWx0Q29udHJvbGxlciwgbm9TY3JvbGw6IGRlZmF1bHROb1Njcm9sbCwgb246IGRlZmF1bHRPbiwgc2xpZGVzOiBkZWZhdWx0U2xpZGVzLCBpbmRleDogZGVmYXVsdEluZGV4LCBwbHVnaW5zOiBkZWZhdWx0UGx1Z2lucywgLi4ucmVzdERlZmF1bHRQcm9wcyB9ID0gTGlnaHRib3hEZWZhdWx0UHJvcHM7XG4gICAgY29uc3QgeyBjb25maWcsIGF1Z21lbnRhdGlvbiB9ID0gd2l0aFBsdWdpbnMoW1xuICAgICAgICBjcmVhdGVOb2RlKFBvcnRhbE1vZHVsZSwgW1xuICAgICAgICAgICAgY3JlYXRlTm9kZShOb1Njcm9sbE1vZHVsZSwgW1xuICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGUoQ29udHJvbGxlck1vZHVsZSwgW1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVOb2RlKENhcm91c2VsTW9kdWxlKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTm9kZShUb29sYmFyTW9kdWxlKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTm9kZShOYXZpZ2F0aW9uTW9kdWxlKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICBdKSxcbiAgICBdLCBwbHVnaW5zIHx8IGRlZmF1bHRQbHVnaW5zKTtcbiAgICBjb25zdCBwcm9wcyA9IGF1Z21lbnRhdGlvbih7XG4gICAgICAgIGFuaW1hdGlvbjogbWVyZ2VBbmltYXRpb24oZGVmYXVsdEFuaW1hdGlvbiwgYW5pbWF0aW9uKSxcbiAgICAgICAgY2Fyb3VzZWw6IHsgLi4uZGVmYXVsdENhcm91c2VsLCAuLi5jYXJvdXNlbCB9LFxuICAgICAgICByZW5kZXI6IHsgLi4uZGVmYXVsdFJlbmRlciwgLi4ucmVuZGVyIH0sXG4gICAgICAgIHRvb2xiYXI6IHsgLi4uZGVmYXVsdFRvb2xiYXIsIC4uLnRvb2xiYXIgfSxcbiAgICAgICAgY29udHJvbGxlcjogeyAuLi5kZWZhdWx0Q29udHJvbGxlciwgLi4uY29udHJvbGxlciB9LFxuICAgICAgICBub1Njcm9sbDogeyAuLi5kZWZhdWx0Tm9TY3JvbGwsIC4uLm5vU2Nyb2xsIH0sXG4gICAgICAgIG9uOiB7IC4uLmRlZmF1bHRPbiwgLi4ub24gfSxcbiAgICAgICAgLi4ucmVzdERlZmF1bHRQcm9wcyxcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgIH0pO1xuICAgIGlmICghcHJvcHMub3BlbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94UHJvcHNQcm92aWRlciwgeyAuLi5wcm9wcyB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94U3RhdGVQcm92aWRlciwgeyBzbGlkZXM6IHNsaWRlcyB8fCBkZWZhdWx0U2xpZGVzLCBpbmRleDogcGFyc2VJbnQoaW5kZXggfHwgZGVmYXVsdEluZGV4KSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUaW1lb3V0c1Byb3ZpZGVyLCBudWxsLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXZlbnRzUHJvdmlkZXIsIG51bGwsIHJlbmRlck5vZGUoY3JlYXRlTm9kZShSb290TW9kdWxlLCBjb25maWcpLCBwcm9wcykpKSkpKTtcbn1cblxuZXhwb3J0IHsgQUNUSU9OX0NMT1NFLCBBQ1RJT05fTkVYVCwgQUNUSU9OX1BSRVYsIEFDVElPTl9TV0lQRSwgQ0xBU1NfRkxFWF9DRU5URVIsIENMQVNTX05PX1NDUk9MTCwgQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcsIENMQVNTX1NMSURFX1dSQVBQRVIsIENhcm91c2VsLCBDYXJvdXNlbE1vZHVsZSwgQ2xvc2VJY29uLCBDb250cm9sbGVyLCBDb250cm9sbGVyQ29udGV4dCwgQ29udHJvbGxlck1vZHVsZSwgRUxFTUVOVF9CVVRUT04sIEVMRU1FTlRfSUNPTiwgRVZFTlRfT05fS0VZX0RPV04sIEVWRU5UX09OX0tFWV9VUCwgRVZFTlRfT05fUE9JTlRFUl9DQU5DRUwsIEVWRU5UX09OX1BPSU5URVJfRE9XTiwgRVZFTlRfT05fUE9JTlRFUl9MRUFWRSwgRVZFTlRfT05fUE9JTlRFUl9NT1ZFLCBFVkVOVF9PTl9QT0lOVEVSX1VQLCBFVkVOVF9PTl9XSEVFTCwgRXJyb3JJY29uLCBFdmVudHNDb250ZXh0LCBFdmVudHNQcm92aWRlciwgSU1BR0VfRklUX0NPTlRBSU4sIElNQUdFX0ZJVF9DT1ZFUiwgSWNvbkJ1dHRvbiwgSW1hZ2VTbGlkZSwgTGlnaHRib3gsIExpZ2h0Ym94RGVmYXVsdFByb3BzLCBMaWdodGJveERpc3BhdGNoQ29udGV4dCwgTGlnaHRib3hQcm9wc0NvbnRleHQsIExpZ2h0Ym94UHJvcHNQcm92aWRlciwgTGlnaHRib3hTdGF0ZUNvbnRleHQsIExpZ2h0Ym94U3RhdGVQcm92aWRlciwgTG9hZGluZ0ljb24sIE1PRFVMRV9DQVJPVVNFTCwgTU9EVUxFX0NPTlRST0xMRVIsIE1PRFVMRV9OQVZJR0FUSU9OLCBNT0RVTEVfTk9fU0NST0xMLCBNT0RVTEVfUE9SVEFMLCBNT0RVTEVfUk9PVCwgTU9EVUxFX1RPT0xCQVIsIE5hdmlnYXRpb24sIE5hdmlnYXRpb25CdXR0b24sIE5hdmlnYXRpb25Nb2R1bGUsIE5leHRJY29uLCBOb1Njcm9sbCwgTm9TY3JvbGxNb2R1bGUsIFBvcnRhbCwgUG9ydGFsTW9kdWxlLCBQcmV2aW91c0ljb24sIFJvb3QsIFJvb3RNb2R1bGUsIFNMSURFX1NUQVRVU19DT01QTEVURSwgU0xJREVfU1RBVFVTX0VSUk9SLCBTTElERV9TVEFUVVNfTE9BRElORywgU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSLCBTd2lwZVN0YXRlLCBUaW1lb3V0c0NvbnRleHQsIFRpbWVvdXRzUHJvdmlkZXIsIFRvb2xiYXIsIFRvb2xiYXJNb2R1bGUsIFVOS05PV05fQUNUSU9OX1RZUEUsIFZLX0FSUk9XX0xFRlQsIFZLX0FSUk9XX1JJR0hULCBWS19FU0NBUEUsIGFjdGl2ZVNsaWRlU3RhdHVzLCBhZGRUb29sYmFyQnV0dG9uLCBjYWxjdWxhdGVQcmVsb2FkLCBjbGVhbnVwLCBjbHN4LCBjb21wb3NlUHJlZml4LCBjb21wdXRlU2xpZGVSZWN0LCBjcmVhdGVJY29uLCBjcmVhdGVJY29uRGlzYWJsZWQsIGNyZWF0ZU1vZHVsZSwgY3JlYXRlTm9kZSwgY3NzQ2xhc3MsIGNzc1ZhciwgTGlnaHRib3ggYXMgZGVmYXVsdCwgZGV2aWNlUGl4ZWxSYXRpbywgZ2V0U2xpZGUsIGdldFNsaWRlSWZQcmVzZW50LCBnZXRTbGlkZUluZGV4LCBoYXNTbGlkZXMsIGhhc1dpbmRvdywgaXNJbWFnZUZpdENvdmVyLCBpc0ltYWdlU2xpZGUsIGxhYmVsLCBtYWtlQ29tcG9zZVByZWZpeCwgbWFrZVVzZUNvbnRleHQsIHBhcnNlSW50LCBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UsIHJvdW5kLCBzZXRSZWYsIHN0b3BOYXZpZ2F0aW9uRXZlbnRzUHJvcGFnYXRpb24sIHVzZUFuaW1hdGlvbiwgdXNlQ29udGFpbmVyUmVjdCwgdXNlQ29udHJvbGxlciwgdXNlRGVsYXksIHVzZUV2ZW50Q2FsbGJhY2ssIHVzZUV2ZW50cywgdXNlRm9ya1JlZiwgdXNlS2V5Ym9hcmROYXZpZ2F0aW9uLCB1c2VMYXlvdXRFZmZlY3QsIHVzZUxpZ2h0Ym94RGlzcGF0Y2gsIHVzZUxpZ2h0Ym94UHJvcHMsIHVzZUxpZ2h0Ym94U3RhdGUsIHVzZUxvc2VGb2N1cywgdXNlTW90aW9uUHJlZmVyZW5jZSwgdXNlTmF2aWdhdGlvblN0YXRlLCB1c2VQb2ludGVyRXZlbnRzLCB1c2VQb2ludGVyU3dpcGUsIHVzZVByZXZlbnRXaGVlbERlZmF1bHRzLCB1c2VSVEwsIHVzZVNlbnNvcnMsIHVzZVRocm90dGxlLCB1c2VUaW1lb3V0cywgdXNlV2hlZWxTd2lwZSwgd2l0aFBsdWdpbnMgfTsiXSwibmFtZXMiOlsiUmVhY3QiLCJJTUFHRV9GSVRfQ09WRVIiLCJJTUFHRV9GSVRfQ09OVEFJTiIsIkFDVElPTl9DTE9TRSIsIk1PRFVMRV9DT05UUk9MTEVSIiwiVU5LTk9XTl9BQ1RJT05fVFlQRSIsIkVMRU1FTlRfQlVUVE9OIiwiRUxFTUVOVF9JQ09OIiwiRVZFTlRfT05fUE9JTlRFUl9ET1dOIiwiRVZFTlRfT05fUE9JTlRFUl9NT1ZFIiwiRVZFTlRfT05fUE9JTlRFUl9VUCIsIkVWRU5UX09OX1BPSU5URVJfTEVBVkUiLCJFVkVOVF9PTl9QT0lOVEVSX0NBTkNFTCIsIkVWRU5UX09OX0tFWV9ET1dOIiwiRVZFTlRfT05fS0VZX1VQIiwiRVZFTlRfT05fV0hFRUwiLCJTTElERV9TVEFUVVNfTE9BRElORyIsImFjdGl2ZVNsaWRlU3RhdHVzIiwiU0xJREVfU1RBVFVTX0NPTVBMRVRFIiwiU0xJREVfU1RBVFVTX0VSUk9SIiwiU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSIiwiQUNUSU9OX1BSRVYiLCJBQ1RJT05fTkVYVCIsIkFDVElPTl9TV0lQRSIsIk1PRFVMRV9QT1JUQUwiLCJDTEFTU19GTEVYX0NFTlRFUiIsIk1PRFVMRV9DQVJPVVNFTCIsIkNMQVNTX1NMSURFX1dSQVBQRVIiLCJWS19BUlJPV19SSUdIVCIsIlZLX0FSUk9XX0xFRlQiLCJWS19FU0NBUEUiLCJNT0RVTEVfTkFWSUdBVElPTiIsIkNMQVNTX05PX1NDUk9MTCIsIkNMQVNTX05PX1NDUk9MTF9QQURESU5HIiwiTU9EVUxFX05PX1NDUk9MTCIsIk1PRFVMRV9ST09UIiwiTU9EVUxFX1RPT0xCQVIiLCJjcmVhdGVQb3J0YWwiLCJBQ1RJVkVfU0xJREVfQ09NUExFVEUiLCJBQ1RJVkVfU0xJREVfRVJST1IiLCJBQ1RJVkVfU0xJREVfTE9BRElORyIsIkFDVElWRV9TTElERV9QTEFZSU5HIiwiQ0xBU1NfRlVMTFNJWkUiLCJQTFVHSU5fQ0FQVElPTlMiLCJQTFVHSU5fQ09VTlRFUiIsIlBMVUdJTl9ET1dOTE9BRCIsIlBMVUdJTl9GVUxMU0NSRUVOIiwiUExVR0lOX0lOTElORSIsIlBMVUdJTl9TSEFSRSIsIlBMVUdJTl9TTElERVNIT1ciLCJQTFVHSU5fVEhVTUJOQUlMUyIsIlBMVUdJTl9aT09NIiwiU0xJREVfU1RBVFVTX1BMQVlJTkciLCJjbHN4IiwiY2xhc3NlcyIsImZpbHRlciIsImNscyIsIkJvb2xlYW4iLCJqb2luIiwiY3NzUHJlZml4JDMiLCJjc3NDbGFzcyIsIm5hbWUiLCJjc3NWYXIiLCJjb21wb3NlUHJlZml4IiwiYmFzZSIsInByZWZpeCIsIm1ha2VDb21wb3NlUHJlZml4IiwibGFiZWwiLCJsYWJlbHMiLCJsYmwiLCJjbGVhbnVwIiwiY2xlYW5lcnMiLCJmb3JFYWNoIiwiY2xlYW5lciIsIm1ha2VVc2VDb250ZXh0IiwiY29udGV4dE5hbWUiLCJjb250ZXh0IiwiY3R4IiwidXNlQ29udGV4dCIsIkVycm9yIiwiaGFzV2luZG93Iiwicm91bmQiLCJ2YWx1ZSIsImRlY2ltYWxzIiwiZmFjdG9yIiwiTWF0aCIsIk51bWJlciIsIkVQU0lMT04iLCJpc0ltYWdlU2xpZGUiLCJzbGlkZSIsInR5cGUiLCJ1bmRlZmluZWQiLCJpc0ltYWdlRml0Q292ZXIiLCJpbWFnZSIsImltYWdlRml0IiwicGFyc2VJbnQiLCJwYXJzZUxlbmd0aFBlcmNlbnRhZ2UiLCJpbnB1dCIsInBpeGVsIiwiZW5kc1dpdGgiLCJwZXJjZW50IiwiY29tcHV0ZVNsaWRlUmVjdCIsImNvbnRhaW5lclJlY3QiLCJwYWRkaW5nIiwicGFkZGluZ1ZhbHVlIiwicGFkZGluZ1BpeGVscyIsIndpZHRoIiwibWF4IiwiaGVpZ2h0IiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndpbmRvdyIsImdldFNsaWRlSW5kZXgiLCJpbmRleCIsInNsaWRlc0NvdW50IiwiaGFzU2xpZGVzIiwic2xpZGVzIiwibGVuZ3RoIiwiZ2V0U2xpZGUiLCJnZXRTbGlkZUlmUHJlc2VudCIsImFkZFRvb2xiYXJCdXR0b24iLCJ0b29sYmFyIiwia2V5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInJlc3RUb29sYmFyIiwiZmluZEluZGV4IiwiaXRlbSIsImJ1dHRvbldpdGhLZXkiLCJpc1ZhbGlkRWxlbWVudCIsImNsb25lRWxlbWVudCIsInJlc3VsdCIsInNwbGljZSIsInN0b3BOYXZpZ2F0aW9uRXZlbnRzUHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJldmVudCIsIm9uUG9pbnRlckRvd24iLCJvbktleURvd24iLCJvbldoZWVsIiwiY2FsY3VsYXRlUHJlbG9hZCIsImNhcm91c2VsIiwibWluaW11bSIsIm1pbiIsInByZWxvYWQiLCJmaW5pdGUiLCJmbG9vciIsIkxpZ2h0Ym94RGVmYXVsdFByb3BzIiwib3BlbiIsImNsb3NlIiwicmVuZGVyIiwicGx1Z2lucyIsImFuaW1hdGlvbiIsImZhZGUiLCJzd2lwZSIsImVhc2luZyIsIm5hdmlnYXRpb24iLCJzcGFjaW5nIiwiaW1hZ2VQcm9wcyIsImNvbnRyb2xsZXIiLCJyZWYiLCJmb2N1cyIsImFyaWEiLCJ0b3VjaEFjdGlvbiIsImNsb3NlT25QdWxsVXAiLCJjbG9zZU9uUHVsbERvd24iLCJjbG9zZU9uQmFja2Ryb3BDbGljayIsInByZXZlbnREZWZhdWx0V2hlZWxYIiwicHJldmVudERlZmF1bHRXaGVlbFkiLCJwb3J0YWwiLCJub1Njcm9sbCIsImRpc2FibGVkIiwib24iLCJzdHlsZXMiLCJjbGFzc05hbWUiLCJjcmVhdGVNb2R1bGUiLCJjb21wb25lbnQiLCJjcmVhdGVOb2RlIiwibW9kdWxlIiwiY2hpbGRyZW4iLCJ0cmF2ZXJzZU5vZGUiLCJub2RlIiwidGFyZ2V0IiwiYXBwbHkiLCJmbGF0TWFwIiwibiIsIl9hIiwidHJhdmVyc2UiLCJub2RlcyIsIndpdGhQbHVnaW5zIiwicm9vdCIsImF1Z21lbnRhdGlvbnMiLCJjb25maWciLCJjb250YWlucyIsInBvcCIsInB1c2giLCJhZGRQYXJlbnQiLCJhcHBlbmQiLCJhZGRDaGlsZCIsInByZWNlZGUiLCJhZGRTaWJsaW5nIiwiYWRkTW9kdWxlIiwicmVwbGFjZSIsInJlbW92ZSIsImF1Z21lbnQiLCJhdWdtZW50YXRpb24iLCJwbHVnaW4iLCJwcm9wcyIsInJlZHVjZSIsImFjYyIsIkV2ZW50c0NvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidXNlRXZlbnRzIiwiRXZlbnRzUHJvdmlkZXIiLCJzdWJzY3JpcHRpb25zIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJPYmplY3QiLCJrZXlzIiwidG9waWMiLCJ1c2VNZW1vIiwidW5zdWJzY3JpYmUiLCJjYWxsYmFjayIsImNiIiwic3Vic2NyaWJlIiwicHVibGlzaCIsImNyZWF0ZUVsZW1lbnQiLCJQcm92aWRlciIsIkxpZ2h0Ym94UHJvcHNDb250ZXh0IiwidXNlTGlnaHRib3hQcm9wcyIsIkxpZ2h0Ym94UHJvcHNQcm92aWRlciIsIkxpZ2h0Ym94U3RhdGVDb250ZXh0IiwidXNlTGlnaHRib3hTdGF0ZSIsIkxpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0IiwidXNlTGlnaHRib3hEaXNwYXRjaCIsInJlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsImluY3JlbWVudCIsImdsb2JhbEluZGV4IiwiY3VycmVudEluZGV4IiwiY3VycmVudFNsaWRlIiwiZHVyYXRpb24iLCJMaWdodGJveFN0YXRlUHJvdmlkZXIiLCJkaXNwYXRjaCIsInVzZVJlZHVjZXIiLCJUaW1lb3V0c0NvbnRleHQiLCJ1c2VUaW1lb3V0cyIsIlRpbWVvdXRzUHJvdmlkZXIiLCJ0aW1lb3V0cyIsInRpZCIsImNsZWFyVGltZW91dCIsInJlbW92ZVRpbWVvdXQiLCJpZCIsInNldFRpbWVvdXQiLCJmbiIsImRlbGF5IiwiSWNvbkJ1dHRvbiIsImZvcndhcmRSZWYiLCJsYWJlbCQxIiwiaWNvbiIsIkljb24iLCJyZW5kZXJJY29uIiwib25DbGljayIsInN0eWxlIiwicmVzdCIsInN2Z0ljb24iLCJ4bWxucyIsInZpZXdCb3giLCJmb2N1c2FibGUiLCJkaXNwbGF5TmFtZSIsImNyZWF0ZUljb24iLCJnbHlwaCIsImZpbGwiLCJkIiwiY3JlYXRlSWNvbkRpc2FibGVkIiwiRnJhZ21lbnQiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsIm1hc2siLCJDbG9zZUljb24iLCJQcmV2aW91c0ljb24iLCJOZXh0SWNvbiIsIkxvYWRpbmdJY29uIiwiQXJyYXkiLCJmcm9tIiwibWFwIiwiXyIsImFycmF5IiwieDEiLCJ5MSIsIngyIiwieTIiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlT3BhY2l0eSIsInRyYW5zZm9ybSIsIkVycm9ySWNvbiIsInVzZUxheW91dEVmZmVjdCIsInVzZU1vdGlvblByZWZlcmVuY2UiLCJyZWR1Y2VNb3Rpb24iLCJzZXRSZWR1Y2VNb3Rpb24iLCJfYiIsIm1lZGlhUXVlcnkiLCJtYXRjaE1lZGlhIiwiY2FsbCIsIm1hdGNoZXMiLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3VycmVudFRyYW5zZm9ybWF0aW9uIiwieCIsInkiLCJ6IiwibWF0cml4IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm1hdGNoZXIiLCJtYXRjaCIsInZhbHVlcyIsInNwbGl0IiwidXNlQW5pbWF0aW9uIiwibm9kZVJlZiIsImNvbXB1dGVBbmltYXRpb24iLCJzbmFwc2hvdCIsInVzZVJlZiIsIl9jIiwiY3VycmVudCIsImtleWZyYW1lcyIsIm9uZmluaXNoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2FuY2VsIiwiYW5pbWF0ZSIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInByZXBhcmVBbmltYXRpb24iLCJjdXJyZW50U25hcHNob3QiLCJpc0FuaW1hdGlvblBsYXlpbmciLCJwbGF5U3RhdGUiLCJ1c2VDb250YWluZXJSZWN0IiwiY29udGFpbmVyUmVmIiwib2JzZXJ2ZXJSZWYiLCJzZXRDb250YWluZXJSZWN0Iiwic2V0Q29udGFpbmVyUmVmIiwidXNlQ2FsbGJhY2siLCJkaXNjb25uZWN0IiwidXBkYXRlQ29udGFpbmVyUmVjdCIsInBhcnNlIiwicGFyc2VGbG9hdCIsImNsaWVudFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJjbGllbnRIZWlnaHQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsIlJlc2l6ZU9ic2VydmVyIiwib2JzZXJ2ZSIsInVzZURlbGF5IiwidGltZW91dElkIiwidXNlRXZlbnRDYWxsYmFjayIsImFyZ3MiLCJzZXRSZWYiLCJ1c2VGb3JrUmVmIiwicmVmQSIsInJlZkIiLCJyZWZWYWx1ZSIsInVzZUxvc2VGb2N1cyIsImZvY3VzZWQiLCJvbkZvY3VzIiwib25CbHVyIiwidXNlUlRMIiwiaXNSVEwiLCJzZXRJc1JUTCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiZGlyZWN0aW9uIiwidXNlU2Vuc29ycyIsInN1YnNjcmliZXJzIiwibm90aWZ5U3Vic2NyaWJlcnMiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsInJlZ2lzdGVyU2Vuc29ycyIsIm9uUG9pbnRlck1vdmUiLCJvblBvaW50ZXJVcCIsIm9uUG9pbnRlckxlYXZlIiwib25Qb2ludGVyQ2FuY2VsIiwib25LZXlVcCIsInN1YnNjcmliZVNlbnNvcnMiLCJ1bnNoaWZ0IiwibGlzdGVuZXJzIiwiZWwiLCJ1c2VUaHJvdHRsZSIsImxhc3RDYWxsYmFja1RpbWUiLCJkZWxheUNhbGxiYWNrIiwiZXhlY3V0ZUNhbGxiYWNrIiwiRGF0ZSIsIm5vdyIsInNsaWRlUHJlZml4Iiwic2xpZGVJbWFnZVByZWZpeCIsIkltYWdlU2xpZGUiLCJvZmZzZXQiLCJyZWN0Iiwib25Mb2FkIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJzdGF0dXMiLCJzZXRTdGF0dXMiLCJpbWFnZVJlZiIsImhhbmRsZUxvYWRpbmciLCJpbWciLCJkZWNvZGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNhdGNoIiwidGhlbiIsInBhcmVudE5vZGUiLCJzZXRJbWFnZVJlZiIsImNvbXBsZXRlIiwiaGFuZGxlT25Mb2FkIiwiY3VycmVudFRhcmdldCIsIm9uRXJyb3IiLCJjb3ZlciIsIm5vbkluZmluaXRlIiwiZmFsbGJhY2siLCJpc0Zpbml0ZSIsIm1heFdpZHRoIiwic3JjU2V0IiwiY29uY2F0IiwibmF0dXJhbFdpZHRoIiwibWF4SGVpZ2h0IiwibmF0dXJhbEhlaWdodCIsImRlZmF1bHRTdHlsZSIsInNvcnQiLCJhIiwiYiIsInNyYyIsImVzdGltYXRlQWN0dWFsV2lkdGgiLCJNQVhfVkFMVUUiLCJzaXplcyIsImltYWdlUHJvcHNTdHlsZSIsImltYWdlUHJvcHNDbGFzc05hbWUiLCJyZXN0SW1hZ2VQcm9wcyIsImRyYWdnYWJsZSIsImFsdCIsImljb25Mb2FkaW5nIiwiaWNvbkVycm9yIiwiU3dpcGVTdGF0ZSIsInVzZVBvaW50ZXJFdmVudHMiLCJHZXN0dXJlIiwiU1dJUEVfVEhSRVNIT0xEIiwidXNlUG9pbnRlclN3aXBlIiwiaXNTd2lwZVZhbGlkIiwiY29udGFpbmVyV2lkdGgiLCJzd2lwZUFuaW1hdGlvbkR1cmF0aW9uIiwib25Td2lwZVN0YXJ0Iiwib25Td2lwZVByb2dyZXNzIiwib25Td2lwZUZpbmlzaCIsIm9uU3dpcGVDYW5jZWwiLCJwdWxsVXBFbmFibGVkIiwicHVsbERvd25FbmFibGVkIiwib25QdWxsU3RhcnQiLCJvblB1bGxQcm9ncmVzcyIsIm9uUHVsbEZpbmlzaCIsIm9uUHVsbENhbmNlbCIsInBvaW50ZXJzIiwiYWN0aXZlUG9pbnRlciIsInN0YXJ0VGltZSIsImdlc3R1cmUiLCJOT05FIiwiY2xlYXJQb2ludGVyIiwicG9pbnRlcklkIiwiY3VycmVudFBvaW50ZXJzIiwicCIsImFkZFBvaW50ZXIiLCJwZXJzaXN0IiwiZXhjZWVkc1B1bGxUaHJlc2hvbGQiLCJ0aHJlc2hvbGQiLCJmaW5kIiwiY3VycmVudE9mZnNldCIsIlNXSVBFIiwiYWJzIiwiUFVMTCIsInBvaW50ZXIiLCJpc0N1cnJlbnRQb2ludGVyIiwiZGVsdGFYIiwiY2xpZW50WCIsImRlbHRhWSIsImNsaWVudFkiLCJzdGFydEdlc3R1cmUiLCJuZXdHZXN0dXJlIiwidXNlUHJldmVudFdoZWVsRGVmYXVsdHMiLCJob3Jpem9udGFsIiwiY3RybEtleSIsInByZXZlbnREZWZhdWx0IiwicGFzc2l2ZSIsInVzZVdoZWVsU3dpcGUiLCJzd2lwZVN0YXRlIiwiaW50ZW50IiwiaW50ZW50Q2xlYW51cCIsInJlc2V0Q2xlYW51cCIsIndoZWVsUmVzaWR1YWxNb21lbnR1bSIsImNhbmNlbFN3aXBlSW50ZW50Q2xlYW51cCIsImNhbmNlbFN3aXBlUmVzZXRDbGVhbnVwIiwiaGFuZGxlQ2xlYW51cCIsImhhbmRsZUNhbmNlbFN3aXBlIiwiY3VycmVudFN3aXBlT2Zmc2V0IiwiY3VycmVudFN3aXBlSW50ZW50IiwibmV3U3dpcGVPZmZzZXQiLCJzaWduIiwiY3NzQ29udGFpbmVyUHJlZml4IiwiQ29udHJvbGxlckNvbnRleHQiLCJ1c2VDb250cm9sbGVyIiwiQ29udHJvbGxlciIsInRvb2xiYXJXaWR0aCIsInNldFRvb2xiYXJXaWR0aCIsInNldFN3aXBlU3RhdGUiLCJzd2lwZU9mZnNldCIsInB1bGxPZmZzZXQiLCJwdWxsT3BhY2l0eSIsImNsZWFudXBBbmltYXRpb25JbmNyZW1lbnQiLCJjbGVhbnVwU3dpcGVPZmZzZXQiLCJjbGVhbnVwUHVsbE9mZnNldCIsImhhbmRsZUNvbnRhaW5lclJlZiIsImNhcm91c2VsUmVmIiwic2V0Q2Fyb3VzZWxSZWYiLCJydGwiLCJnZXRMaWdodGJveFByb3BzIiwiZ2V0TGlnaHRib3hTdGF0ZSIsInByZXYiLCJwYXJhbXMiLCJuZXh0Iiwic2V0U3dpcGVPZmZzZXQiLCJzZXRQcm9wZXJ0eSIsInNldFB1bGxPZmZzZXQiLCJtaW5PcGFjaXR5Iiwib2Zmc2V0VmFsdWUiLCJwcmVwYXJlUHVsbEFuaW1hdGlvbiIsInRyYW5zbGF0ZSIsIm9wYWNpdHkiLCJwdWxsIiwiQU5JTUFUSU9OIiwicGFyc2VkU3BhY2luZyIsInNwYWNpbmdWYWx1ZSIsInN3aXBlRHVyYXRpb24iLCJzd2lwZUVhc2luZyIsImNvdW50IiwibmV3U3dpcGVTdGF0ZSIsIm5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24iLCJlbGFwc2VkVGltZSIsImV4cGVjdGVkVGltZSIsInN3aXBlUGFyYW1zIiwicHVsbFBhcmFtcyIsImZvY3VzT25Nb3VudCIsInF1ZXJ5U2VsZWN0b3IiLCJvblZpZXdDYWxsYmFjayIsInZpZXciLCJzbGlkZVJlY3QiLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwiY29udGFpbmVyIiwicm9sZSIsInRhYkluZGV4IiwiY29udHJvbHMiLCJDb250cm9sbGVyTW9kdWxlIiwiY3NzUHJlZml4JDIiLCJjc3NTbGlkZVByZWZpeCIsIkNhcm91c2VsU2xpZGUiLCJjbGljayIsInJlbmRlclNsaWRlIiwicmVuZGVyZWQiLCJzbGlkZUhlYWRlciIsInNsaWRlQ29udGFpbmVyIiwic2xpZGVGb290ZXIiLCJoYW5kbGVCYWNrZHJvcENsaWNrIiwiSFRNTEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJQbGFjZWhvbGRlciIsIkNhcm91c2VsIiwiaXRlbXMiLCJpIiwiQ2Fyb3VzZWxNb2R1bGUiLCJ1c2VOYXZpZ2F0aW9uU3RhdGUiLCJwcmV2RGlzYWJsZWQiLCJuZXh0RGlzYWJsZWQiLCJ1c2VLZXlib2FyZE5hdmlnYXRpb24iLCJ0aHJvdHRsZSIsImhhbmRsZUtleURvd24iLCJOYXZpZ2F0aW9uQnV0dG9uIiwiTmF2aWdhdGlvbiIsImJ1dHRvblByZXYiLCJidXR0b25OZXh0IiwiaWNvblByZXYiLCJpY29uTmV4dCIsIm5hdmlnYXRpb25QcmV2IiwibmF2aWdhdGlvbk5leHQiLCJOYXZpZ2F0aW9uTW9kdWxlIiwibm9TY3JvbGxQYWRkaW5nIiwiaXNIVE1MRWxlbWVudCIsImVsZW1lbnQiLCJwYWRTY3JvbGxiYXIiLCJwcm9wZXJ0eSIsImNvbXB1dGVkVmFsdWUiLCJvcmlnaW5hbFZhbHVlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInJlbW92ZVByb3BlcnR5IiwiTm9TY3JvbGwiLCJib2R5Iiwic2Nyb2xsYmFyIiwiaW5uZXJXaWR0aCIsImVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhZGQiLCJjbGVhbiIsIk5vU2Nyb2xsTW9kdWxlIiwiY3NzUHJlZml4JDEiLCJzZXRBdHRyaWJ1dGUiLCJhdHRyaWJ1dGUiLCJwcmV2aW91c1ZhbHVlIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiUG9ydGFsIiwibW91bnRlZCIsInNldE1vdW50ZWQiLCJ2aXNpYmxlIiwic2V0VmlzaWJsZSIsInJlc3RvcmVGb2N1cyIsImFuaW1hdGlvbkR1cmF0aW9uIiwiaGFuZGxlQ2xvc2UiLCJleGl0aW5nIiwiZXhpdGVkIiwiaGFuZGxlRW50ZXIiLCJzY3JvbGxUb3AiLCJlbnRlcmluZyIsImluZGV4T2YiLCJ0YWdOYW1lIiwiZW50ZXJlZCIsImhhbmRsZVJlZiIsInJlbGF0ZWRUYXJnZXQiLCJQb3J0YWxNb2R1bGUiLCJSb290IiwiUm9vdE1vZHVsZSIsImNzc1ByZWZpeCIsIlRvb2xiYXIiLCJidXR0b25DbG9zZSIsImljb25DbG9zZSIsInJlbmRlckNsb3NlQnV0dG9uIiwiVG9vbGJhck1vZHVsZSIsInJlbmRlck5vZGUiLCJjaGlsZCIsIm1lcmdlQW5pbWF0aW9uIiwiZGVmYXVsdEFuaW1hdGlvbiIsImRlZmF1bHRBbmltYXRpb25FYXNpbmciLCJyZXN0RGVmYXVsdEFuaW1hdGlvbiIsInJlc3RBbmltYXRpb24iLCJMaWdodGJveCIsInJlc3RQcm9wcyIsImRlZmF1bHRDYXJvdXNlbCIsImRlZmF1bHRSZW5kZXIiLCJkZWZhdWx0VG9vbGJhciIsImRlZmF1bHRDb250cm9sbGVyIiwiZGVmYXVsdE5vU2Nyb2xsIiwiZGVmYXVsdE9uIiwiZGVmYXVsdFNsaWRlcyIsImRlZmF1bHRJbmRleCIsImRlZmF1bHRQbHVnaW5zIiwicmVzdERlZmF1bHRQcm9wcyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Fullscreen)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultFullscreenProps = {\n    auto: false,\n    ref: null,\n};\nconst resolveFullscreenProps = (fullscreen) => ({\n    ...defaultFullscreenProps,\n    ...fullscreen,\n});\n\nconst FullscreenContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useFullscreen\", \"FullscreenContext\", FullscreenContext);\nfunction FullscreenContextProvider({ fullscreen: fullscreenProps, on, children }) {\n    const { auto, ref } = resolveFullscreenProps(fullscreenProps);\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const [disabled, setDisabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const [fullscreen, setFullscreen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const wasFullscreen = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        var _a, _b, _c, _d;\n        setDisabled(!((_d = (_c = (_b = (_a = document.fullscreenEnabled) !== null && _a !== void 0 ? _a : document.webkitFullscreenEnabled) !== null && _b !== void 0 ? _b : document.mozFullScreenEnabled) !== null && _c !== void 0 ? _c : document.msFullscreenEnabled) !== null && _d !== void 0 ? _d : false));\n    }, []);\n    const getFullscreenElement = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        var _a, _b, _c;\n        return (_c = (_b = (_a = document.fullscreenElement) !== null && _a !== void 0 ? _a : document.webkitFullscreenElement) !== null && _b !== void 0 ? _b : document.mozFullScreenElement) !== null && _c !== void 0 ? _c : document.msFullscreenElement;\n    }, []);\n    const enter = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        const container = containerRef.current;\n        if (container) {\n            try {\n                if (container.requestFullscreen) {\n                    container.requestFullscreen().catch(() => { });\n                }\n                else if (container.webkitRequestFullscreen) {\n                    container.webkitRequestFullscreen();\n                }\n                else if (container.mozRequestFullScreen) {\n                    container.mozRequestFullScreen();\n                }\n                else if (container.msRequestFullscreen) {\n                    container.msRequestFullscreen();\n                }\n            }\n            catch (err) {\n            }\n        }\n    }, []);\n    const exit = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (getFullscreenElement()) {\n            try {\n                if (document.exitFullscreen) {\n                    document.exitFullscreen().catch(() => { });\n                }\n                else if (document.webkitExitFullscreen) {\n                    document.webkitExitFullscreen();\n                }\n                else if (document.mozCancelFullScreen) {\n                    document.mozCancelFullScreen();\n                }\n                else if (document.msExitFullscreen) {\n                    document.msExitFullscreen();\n                }\n            }\n            catch (err) {\n            }\n        }\n    }, [getFullscreenElement]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        const events = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\n        const fullscreenChangeListener = () => {\n            setFullscreen(getFullscreenElement() === containerRef.current);\n        };\n        events.forEach((event) => {\n            document.addEventListener(event, fullscreenChangeListener);\n        });\n        return () => {\n            events.forEach((event) => {\n                document.removeEventListener(event, fullscreenChangeListener);\n            });\n        };\n    }, [getFullscreenElement]);\n    const onEnterFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.enterFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onExitFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.exitFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (fullscreen) {\n            wasFullscreen.current = true;\n        }\n        if (wasFullscreen.current) {\n            (fullscreen ? onEnterFullscreen : onExitFullscreen)();\n        }\n    }, [fullscreen, onEnterFullscreen, onExitFullscreen]);\n    const handleAutoFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = (auto ? enter : null)) === null || _a === void 0 ? void 0 : _a(); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        handleAutoFullscreen();\n        return () => exit();\n    }, [handleAutoFullscreen, exit]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n        fullscreen,\n        disabled,\n        enter,\n        exit,\n    }), [fullscreen, disabled, enter, exit]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: containerRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE)) },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(FullscreenContext.Provider, { value: context }, children)));\n}\n\nconst EnterFullscreenIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"EnterFullscreen\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" }));\nconst ExitFullscreenIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ExitFullscreen\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" }));\nfunction FullscreenButton() {\n    var _a;\n    const { fullscreen, disabled, enter, exit } = useFullscreen();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    if (disabled)\n        return null;\n    if (render.buttonFullscreen) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (_a = render.buttonFullscreen) === null || _a === void 0 ? void 0 : _a.call(render, { fullscreen, disabled, enter, exit }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { disabled: disabled, label: fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\", icon: fullscreen ? ExitFullscreenIcon : EnterFullscreenIcon, renderIcon: fullscreen ? render.iconExitFullscreen : render.iconEnterFullscreen, onClick: fullscreen ? exit : enter }));\n}\n\nfunction Fullscreen({ augment, contains, addParent }) {\n    augment(({ fullscreen, toolbar, ...restProps }) => ({\n        toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, react__WEBPACK_IMPORTED_MODULE_0__.createElement(FullscreenButton, null)),\n        fullscreen: resolveFullscreenProps(fullscreen),\n        ...restProps,\n    }));\n    addParent(contains(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS) ? _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS : _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, FullscreenContextProvider));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL2Z1bGxzY3JlZW4vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2SztBQUM5STtBQUMwRTs7QUFFekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELDBCQUEwQixnREFBbUI7QUFDN0Msc0JBQXNCLHlEQUFjO0FBQ3BDLHFDQUFxQywyQ0FBMkM7QUFDaEYsWUFBWSxZQUFZO0FBQ3hCLHlCQUF5Qix5Q0FBWTtBQUNyQyxvQ0FBb0MsMkNBQWM7QUFDbEQsd0NBQXdDLDJDQUFjO0FBQ3RELDBCQUEwQix5Q0FBWTtBQUN0QyxJQUFJLDBEQUFlO0FBQ25CO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUNBQWlDLDhDQUFpQjtBQUNsRDtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQiw4Q0FBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpQkFBaUIsOENBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksNENBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTCw4QkFBOEIsMkRBQWdCLFNBQVMsUUFBUSxvRkFBb0Y7QUFDbkosNkJBQTZCLDJEQUFnQixTQUFTLFFBQVEsbUZBQW1GO0FBQ2pKLElBQUksNENBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlDQUFpQywyREFBZ0IsU0FBUyxRQUFRLGdGQUFnRjtBQUNsSixJQUFJLDRDQUFlO0FBQ25CO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CLDBDQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksc0RBQXlCO0FBQzdCLFlBQVksZ0RBQW1CLFVBQVUsOEJBQThCLCtDQUFJLENBQUMsbURBQVEsQ0FBQyx3REFBaUIsR0FBRyxtREFBUSxDQUFDLHFEQUFjLElBQUk7QUFDcEksUUFBUSxnREFBbUIsK0JBQStCLGdCQUFnQjtBQUMxRTs7QUFFQSw0QkFBNEIscURBQVUsb0JBQW9CLGdEQUFtQixXQUFXLHFGQUFxRjtBQUM3SywyQkFBMkIscURBQVUsbUJBQW1CLGdEQUFtQixXQUFXLG9GQUFvRjtBQUMxSztBQUNBO0FBQ0EsWUFBWSxvQ0FBb0M7QUFDaEQsWUFBWSxTQUFTLEVBQUUsMkRBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQW1CLENBQUMsMkNBQWMsOEZBQThGLG1DQUFtQztBQUNsTDtBQUNBLFlBQVksZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxrUUFBa1E7QUFDaFQ7O0FBRUEsc0JBQXNCLDhCQUE4QjtBQUNwRCxlQUFlLG1DQUFtQztBQUNsRCxpQkFBaUIsMkRBQWdCLFVBQVUsd0RBQWlCLEVBQUUsZ0RBQW1CO0FBQ2pGO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLHdEQUFpQixJQUFJLHdEQUFpQixHQUFHLHdEQUFpQixFQUFFLHVEQUFZLENBQUMsd0RBQWlCO0FBQ2pIOztBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dhdGVybWFyay1leHBlcmllbmNlLy4vbm9kZV9tb2R1bGVzL3lldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94L2Rpc3QvcGx1Z2lucy9mdWxsc2NyZWVuL2luZGV4LmpzPzIyNGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWFrZVVzZUNvbnRleHQsIHVzZUxheW91dEVmZmVjdCwgdXNlRXZlbnRDYWxsYmFjaywgY2xzeCwgY3NzQ2xhc3MsIGNyZWF0ZUljb24sIHVzZUxpZ2h0Ym94UHJvcHMsIEljb25CdXR0b24sIGFkZFRvb2xiYXJCdXR0b24sIGNyZWF0ZU1vZHVsZSB9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBMVUdJTl9GVUxMU0NSRUVOLCBDTEFTU19GVUxMU0laRSwgUExVR0lOX1RIVU1CTkFJTFMsIE1PRFVMRV9DT05UUk9MTEVSIH0gZnJvbSAnLi4vLi4vdHlwZXMuanMnO1xuXG5jb25zdCBkZWZhdWx0RnVsbHNjcmVlblByb3BzID0ge1xuICAgIGF1dG86IGZhbHNlLFxuICAgIHJlZjogbnVsbCxcbn07XG5jb25zdCByZXNvbHZlRnVsbHNjcmVlblByb3BzID0gKGZ1bGxzY3JlZW4pID0+ICh7XG4gICAgLi4uZGVmYXVsdEZ1bGxzY3JlZW5Qcm9wcyxcbiAgICAuLi5mdWxsc2NyZWVuLFxufSk7XG5cbmNvbnN0IEZ1bGxzY3JlZW5Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZUZ1bGxzY3JlZW4gPSBtYWtlVXNlQ29udGV4dChcInVzZUZ1bGxzY3JlZW5cIiwgXCJGdWxsc2NyZWVuQ29udGV4dFwiLCBGdWxsc2NyZWVuQ29udGV4dCk7XG5mdW5jdGlvbiBGdWxsc2NyZWVuQ29udGV4dFByb3ZpZGVyKHsgZnVsbHNjcmVlbjogZnVsbHNjcmVlblByb3BzLCBvbiwgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IHsgYXV0bywgcmVmIH0gPSByZXNvbHZlRnVsbHNjcmVlblByb3BzKGZ1bGxzY3JlZW5Qcm9wcyk7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IFtkaXNhYmxlZCwgc2V0RGlzYWJsZWRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCBbZnVsbHNjcmVlbiwgc2V0RnVsbHNjcmVlbl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3Qgd2FzRnVsbHNjcmVlbiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBzZXREaXNhYmxlZCghKChfZCA9IChfYyA9IChfYiA9IChfYSA9IGRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZG9jdW1lbnQubW96RnVsbFNjcmVlbkVuYWJsZWQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVuYWJsZWQpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGZhbHNlKSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGdldEZ1bGxzY3JlZW5FbGVtZW50ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuIChfYyA9IChfYiA9IChfYSA9IGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQ7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGVudGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICBjb25zdCBleGl0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoZ2V0RnVsbHNjcmVlbkVsZW1lbnQoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2dldEZ1bGxzY3JlZW5FbGVtZW50XSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gW1wiZnVsbHNjcmVlbmNoYW5nZVwiLCBcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIiwgXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsIFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCJdO1xuICAgICAgICBjb25zdCBmdWxsc2NyZWVuQ2hhbmdlTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRGdWxsc2NyZWVuKGdldEZ1bGxzY3JlZW5FbGVtZW50KCkgPT09IGNvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgZXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdWxsc2NyZWVuQ2hhbmdlTGlzdGVuZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bGxzY3JlZW5DaGFuZ2VMaXN0ZW5lcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9LCBbZ2V0RnVsbHNjcmVlbkVsZW1lbnRdKTtcbiAgICBjb25zdCBvbkVudGVyRnVsbHNjcmVlbiA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5lbnRlckZ1bGxzY3JlZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTsgfSk7XG4gICAgY29uc3Qgb25FeGl0RnVsbHNjcmVlbiA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5leGl0RnVsbHNjcmVlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pOyB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZnVsbHNjcmVlbikge1xuICAgICAgICAgICAgd2FzRnVsbHNjcmVlbi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzRnVsbHNjcmVlbi5jdXJyZW50KSB7XG4gICAgICAgICAgICAoZnVsbHNjcmVlbiA/IG9uRW50ZXJGdWxsc2NyZWVuIDogb25FeGl0RnVsbHNjcmVlbikoKTtcbiAgICAgICAgfVxuICAgIH0sIFtmdWxsc2NyZWVuLCBvbkVudGVyRnVsbHNjcmVlbiwgb25FeGl0RnVsbHNjcmVlbl0pO1xuICAgIGNvbnN0IGhhbmRsZUF1dG9GdWxsc2NyZWVuID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IChhdXRvID8gZW50ZXIgOiBudWxsKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hKCk7IH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGhhbmRsZUF1dG9GdWxsc2NyZWVuKCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBleGl0KCk7XG4gICAgfSwgW2hhbmRsZUF1dG9GdWxsc2NyZWVuLCBleGl0XSk7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgZnVsbHNjcmVlbixcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIGVudGVyLFxuICAgICAgICBleGl0LFxuICAgIH0pLCBbZnVsbHNjcmVlbiwgZGlzYWJsZWQsIGVudGVyLCBleGl0XSk7XG4gICAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+IGNvbnRleHQsIFtjb250ZXh0XSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBjb250YWluZXJSZWYsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhQTFVHSU5fRlVMTFNDUkVFTiksIGNzc0NsYXNzKENMQVNTX0ZVTExTSVpFKSkgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGdWxsc2NyZWVuQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBjaGlsZHJlbikpKTtcbn1cblxuY29uc3QgRW50ZXJGdWxsc2NyZWVuSWNvbiA9IGNyZWF0ZUljb24oXCJFbnRlckZ1bGxzY3JlZW5cIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk03IDE0SDV2NWg1di0ySDd2LTN6bS0yLTRoMlY3aDNWNUg1djV6bTEyIDdoLTN2Mmg1di01aC0ydjN6TTE0IDV2MmgzdjNoMlY1aC01elwiIH0pKTtcbmNvbnN0IEV4aXRGdWxsc2NyZWVuSWNvbiA9IGNyZWF0ZUljb24oXCJFeGl0RnVsbHNjcmVlblwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTUgMTZoM3YzaDJ2LTVINXYyem0zLThINXYyaDVWNUg4djN6bTYgMTFoMnYtM2gzdi0yaC01djV6bTItMTFWNWgtMnY1aDVWOGgtM3pcIiB9KSk7XG5mdW5jdGlvbiBGdWxsc2NyZWVuQnV0dG9uKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IGZ1bGxzY3JlZW4sIGRpc2FibGVkLCBlbnRlciwgZXhpdCB9ID0gdXNlRnVsbHNjcmVlbigpO1xuICAgIGNvbnN0IHsgcmVuZGVyIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgaWYgKGRpc2FibGVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAocmVuZGVyLmJ1dHRvbkZ1bGxzY3JlZW4pIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIChfYSA9IHJlbmRlci5idXR0b25GdWxsc2NyZWVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChyZW5kZXIsIHsgZnVsbHNjcmVlbiwgZGlzYWJsZWQsIGVudGVyLCBleGl0IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgZGlzYWJsZWQ6IGRpc2FibGVkLCBsYWJlbDogZnVsbHNjcmVlbiA/IFwiRXhpdCBGdWxsc2NyZWVuXCIgOiBcIkVudGVyIEZ1bGxzY3JlZW5cIiwgaWNvbjogZnVsbHNjcmVlbiA/IEV4aXRGdWxsc2NyZWVuSWNvbiA6IEVudGVyRnVsbHNjcmVlbkljb24sIHJlbmRlckljb246IGZ1bGxzY3JlZW4gPyByZW5kZXIuaWNvbkV4aXRGdWxsc2NyZWVuIDogcmVuZGVyLmljb25FbnRlckZ1bGxzY3JlZW4sIG9uQ2xpY2s6IGZ1bGxzY3JlZW4gPyBleGl0IDogZW50ZXIgfSkpO1xufVxuXG5mdW5jdGlvbiBGdWxsc2NyZWVuKHsgYXVnbWVudCwgY29udGFpbnMsIGFkZFBhcmVudCB9KSB7XG4gICAgYXVnbWVudCgoeyBmdWxsc2NyZWVuLCB0b29sYmFyLCAuLi5yZXN0UHJvcHMgfSkgPT4gKHtcbiAgICAgICAgdG9vbGJhcjogYWRkVG9vbGJhckJ1dHRvbih0b29sYmFyLCBQTFVHSU5fRlVMTFNDUkVFTiwgUmVhY3QuY3JlYXRlRWxlbWVudChGdWxsc2NyZWVuQnV0dG9uLCBudWxsKSksXG4gICAgICAgIGZ1bGxzY3JlZW46IHJlc29sdmVGdWxsc2NyZWVuUHJvcHMoZnVsbHNjcmVlbiksXG4gICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICB9KSk7XG4gICAgYWRkUGFyZW50KGNvbnRhaW5zKFBMVUdJTl9USFVNQk5BSUxTKSA/IFBMVUdJTl9USFVNQk5BSUxTIDogTU9EVUxFX0NPTlRST0xMRVIsIGNyZWF0ZU1vZHVsZShQTFVHSU5fRlVMTFNDUkVFTiwgRnVsbHNjcmVlbkNvbnRleHRQcm92aWRlcikpO1xufVxuXG5leHBvcnQgeyBGdWxsc2NyZWVuIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Slideshow)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultSlideshowProps = {\n    autoplay: false,\n    delay: 3000,\n    ref: null,\n};\nconst resolveSlideshowProps = (slideshow) => ({\n    ...defaultSlideshowProps,\n    ...slideshow,\n});\n\nconst SlideshowContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useSlideshow = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useSlideshow\", \"SlideshowContext\", SlideshowContext);\nfunction SlideshowContextProvider({ slideshow, carousel: { finite }, on, children }) {\n    const { autoplay, delay, ref } = resolveSlideshowProps(slideshow);\n    const wasPlaying = react__WEBPACK_IMPORTED_MODULE_0__.useRef(autoplay);\n    const [playing, setPlaying] = react__WEBPACK_IMPORTED_MODULE_0__.useState(autoplay);\n    const scheduler = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const slideStatus = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { slides, currentIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { setTimeout, clearTimeout } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useTimeouts)();\n    const { subscribe } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEvents)();\n    const { next } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const disabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const play = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (!playing && !disabled) {\n            setPlaying(true);\n        }\n    }, [playing, disabled]);\n    const pause = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing]);\n    const cancelScheduler = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        clearTimeout(scheduler.current);\n        scheduler.current = undefined;\n    }, [clearTimeout]);\n    const scheduleNextSlide = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        cancelScheduler();\n        if (!playing ||\n            disabled ||\n            slideStatus.current === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING ||\n            slideStatus.current === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING) {\n            return;\n        }\n        scheduler.current = setTimeout(() => {\n            if (playing) {\n                slideStatus.current = undefined;\n                next();\n            }\n        }, delay);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(scheduleNextSlide, [currentIndex, playing, scheduleNextSlide]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (playing && disabled) {\n            setPlaying(false);\n        }\n    }, [currentIndex, playing, disabled]);\n    const onSlideshowStart = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.slideshowStart) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onSlideshowStop = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.slideshowStop) === null || _a === void 0 ? void 0 : _a.call(on); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (playing) {\n            onSlideshowStart();\n        }\n        else if (wasPlaying.current) {\n            onSlideshowStop();\n        }\n        wasPlaying.current = playing;\n    }, [playing, onSlideshowStart, onSlideshowStop]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(cancelScheduler, subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_LOADING, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING;\n        cancelScheduler();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_PLAYING, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING;\n        cancelScheduler();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_ERROR, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR;\n        scheduleNextSlide();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_COMPLETE, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE;\n        scheduleNextSlide();\n    })), [subscribe, cancelScheduler, scheduleNextSlide]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ playing, disabled, play, pause }), [playing, disabled, play, pause]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(SlideshowContext.Provider, { value: context }, children);\n}\n\nconst PlayIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"Play\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M8 5v14l11-7z\" }));\nconst PauseIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"Pause\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" }));\nfunction SlideshowButton() {\n    const { playing, disabled, play, pause } = useSlideshow();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const focusListeners = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLoseFocus)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)().focus, disabled);\n    if (render.buttonSlideshow) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonSlideshow({ playing, disabled, play, pause }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { label: playing ? \"Pause\" : \"Play\", icon: playing ? PauseIcon : PlayIcon, renderIcon: playing ? render.iconSlideshowPause : render.iconSlideshowPlay, onClick: playing ? pause : play, disabled: disabled, ...focusListeners }));\n}\n\nfunction Slideshow({ augment, addModule }) {\n    augment(({ slideshow, toolbar, ...restProps }) => ({\n        toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW, react__WEBPACK_IMPORTED_MODULE_0__.createElement(SlideshowButton, null)),\n        slideshow: resolveSlideshowProps(slideshow),\n        ...restProps,\n    }));\n    addModule((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW, SlideshowContextProvider));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3NsaWRlc2hvdy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTROO0FBQzdMO0FBQ2lNOztBQUVoTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCx5QkFBeUIsZ0RBQW1CO0FBQzVDLHFCQUFxQix5REFBYztBQUNuQyxvQ0FBb0MsdUJBQXVCLFFBQVEsZ0JBQWdCO0FBQ25GLFlBQVksdUJBQXVCO0FBQ25DLHVCQUF1Qix5Q0FBWTtBQUNuQyxrQ0FBa0MsMkNBQWM7QUFDaEQsc0JBQXNCLHlDQUFZO0FBQ2xDLHdCQUF3Qix5Q0FBWTtBQUNwQyxZQUFZLHVCQUF1QixFQUFFLDJEQUFnQjtBQUNyRCxZQUFZLDJCQUEyQixFQUFFLHNEQUFXO0FBQ3BELFlBQVksWUFBWSxFQUFFLG9EQUFTO0FBQ25DLFlBQVksT0FBTyxFQUFFLHdEQUFhO0FBQ2xDO0FBQ0EsaUJBQWlCLDhDQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLDhDQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNEJBQTRCLDhDQUFpQjtBQUM3QztBQUNBO0FBQ0EsS0FBSztBQUNMLDhCQUE4QiwyREFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDJEQUFvQjtBQUN4RCxvQ0FBb0MsMkRBQW9CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLDRDQUFlO0FBQ25CLElBQUksNENBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDZCQUE2QiwyREFBZ0IsU0FBUyxRQUFRLG1GQUFtRjtBQUNqSiw0QkFBNEIsMkRBQWdCLFNBQVMsUUFBUSxrRkFBa0Y7QUFDL0ksSUFBSSw0Q0FBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDRDQUFlLE9BQU8sa0RBQU8sNEJBQTRCLDJEQUFvQjtBQUNqRiw4QkFBOEIsMkRBQW9CO0FBQ2xEO0FBQ0EsS0FBSyxhQUFhLDJEQUFvQjtBQUN0Qyw4QkFBOEIsMkRBQW9CO0FBQ2xEO0FBQ0EsS0FBSyxhQUFhLHlEQUFrQjtBQUNwQyw4QkFBOEIseURBQWtCO0FBQ2hEO0FBQ0EsS0FBSyxhQUFhLDREQUFxQjtBQUN2Qyw4QkFBOEIsNERBQXFCO0FBQ25EO0FBQ0EsS0FBSztBQUNMLG9CQUFvQiwwQ0FBYSxVQUFVLGdDQUFnQztBQUMzRSxJQUFJLHNEQUF5QjtBQUM3QixXQUFXLGdEQUFtQiw4QkFBOEIsZ0JBQWdCO0FBQzVFOztBQUVBLGlCQUFpQixxREFBVSxTQUFTLGdEQUFtQixXQUFXLG9CQUFvQjtBQUN0RixrQkFBa0IscURBQVUsVUFBVSxnREFBbUIsV0FBVyxzQ0FBc0M7QUFDMUc7QUFDQSxZQUFZLGlDQUFpQztBQUM3QyxZQUFZLFNBQVMsRUFBRSwyREFBZ0I7QUFDdkMsMkJBQTJCLHVEQUFZLENBQUMsd0RBQWE7QUFDckQ7QUFDQSxlQUFlLGdEQUFtQixDQUFDLDJDQUFjLGlDQUFpQyxnQ0FBZ0M7QUFDbEg7QUFDQSxZQUFZLGdEQUFtQixDQUFDLGlEQUFVLElBQUksNk5BQTZOO0FBQzNROztBQUVBLHFCQUFxQixvQkFBb0I7QUFDekMsZUFBZSxrQ0FBa0M7QUFDakQsaUJBQWlCLDJEQUFnQixVQUFVLHVEQUFnQixFQUFFLGdEQUFtQjtBQUNoRjtBQUNBO0FBQ0EsS0FBSztBQUNMLGNBQWMsdURBQVksQ0FBQyx1REFBZ0I7QUFDM0M7O0FBRWdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2F0ZXJtYXJrLWV4cGVyaWVuY2UvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3NsaWRlc2hvdy9pbmRleC5qcz8yMjU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1ha2VVc2VDb250ZXh0LCB1c2VMaWdodGJveFN0YXRlLCB1c2VUaW1lb3V0cywgdXNlRXZlbnRzLCB1c2VDb250cm9sbGVyLCB1c2VFdmVudENhbGxiYWNrLCBjbGVhbnVwLCBjcmVhdGVJY29uLCB1c2VMaWdodGJveFByb3BzLCB1c2VMb3NlRm9jdXMsIEljb25CdXR0b24sIGFkZFRvb2xiYXJCdXR0b24sIGNyZWF0ZU1vZHVsZSB9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFNMSURFX1NUQVRVU19MT0FESU5HLCBTTElERV9TVEFUVVNfUExBWUlORywgQUNUSVZFX1NMSURFX0xPQURJTkcsIEFDVElWRV9TTElERV9QTEFZSU5HLCBBQ1RJVkVfU0xJREVfRVJST1IsIFNMSURFX1NUQVRVU19FUlJPUiwgQUNUSVZFX1NMSURFX0NPTVBMRVRFLCBTTElERV9TVEFUVVNfQ09NUExFVEUsIFBMVUdJTl9TTElERVNIT1cgfSBmcm9tICcuLi8uLi90eXBlcy5qcyc7XG5cbmNvbnN0IGRlZmF1bHRTbGlkZXNob3dQcm9wcyA9IHtcbiAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgZGVsYXk6IDMwMDAsXG4gICAgcmVmOiBudWxsLFxufTtcbmNvbnN0IHJlc29sdmVTbGlkZXNob3dQcm9wcyA9IChzbGlkZXNob3cpID0+ICh7XG4gICAgLi4uZGVmYXVsdFNsaWRlc2hvd1Byb3BzLFxuICAgIC4uLnNsaWRlc2hvdyxcbn0pO1xuXG5jb25zdCBTbGlkZXNob3dDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZVNsaWRlc2hvdyA9IG1ha2VVc2VDb250ZXh0KFwidXNlU2xpZGVzaG93XCIsIFwiU2xpZGVzaG93Q29udGV4dFwiLCBTbGlkZXNob3dDb250ZXh0KTtcbmZ1bmN0aW9uIFNsaWRlc2hvd0NvbnRleHRQcm92aWRlcih7IHNsaWRlc2hvdywgY2Fyb3VzZWw6IHsgZmluaXRlIH0sIG9uLCBjaGlsZHJlbiB9KSB7XG4gICAgY29uc3QgeyBhdXRvcGxheSwgZGVsYXksIHJlZiB9ID0gcmVzb2x2ZVNsaWRlc2hvd1Byb3BzKHNsaWRlc2hvdyk7XG4gICAgY29uc3Qgd2FzUGxheWluZyA9IFJlYWN0LnVzZVJlZihhdXRvcGxheSk7XG4gICAgY29uc3QgW3BsYXlpbmcsIHNldFBsYXlpbmddID0gUmVhY3QudXNlU3RhdGUoYXV0b3BsYXkpO1xuICAgIGNvbnN0IHNjaGVkdWxlciA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHNsaWRlU3RhdHVzID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgeyBzbGlkZXMsIGN1cnJlbnRJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHsgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0IH0gPSB1c2VUaW1lb3V0cygpO1xuICAgIGNvbnN0IHsgc3Vic2NyaWJlIH0gPSB1c2VFdmVudHMoKTtcbiAgICBjb25zdCB7IG5leHQgfSA9IHVzZUNvbnRyb2xsZXIoKTtcbiAgICBjb25zdCBkaXNhYmxlZCA9IHNsaWRlcy5sZW5ndGggPT09IDAgfHwgKGZpbml0ZSAmJiBjdXJyZW50SW5kZXggPT09IHNsaWRlcy5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBwbGF5ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoIXBsYXlpbmcgJiYgIWRpc2FibGVkKSB7XG4gICAgICAgICAgICBzZXRQbGF5aW5nKHRydWUpO1xuICAgICAgICB9XG4gICAgfSwgW3BsYXlpbmcsIGRpc2FibGVkXSk7XG4gICAgY29uc3QgcGF1c2UgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZXRQbGF5aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtwbGF5aW5nXSk7XG4gICAgY29uc3QgY2FuY2VsU2NoZWR1bGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2NoZWR1bGVyLmN1cnJlbnQpO1xuICAgICAgICBzY2hlZHVsZXIuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICB9LCBbY2xlYXJUaW1lb3V0XSk7XG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0U2xpZGUgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY2FuY2VsU2NoZWR1bGVyKCk7XG4gICAgICAgIGlmICghcGxheWluZyB8fFxuICAgICAgICAgICAgZGlzYWJsZWQgfHxcbiAgICAgICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPT09IFNMSURFX1NUQVRVU19MT0FESU5HIHx8XG4gICAgICAgICAgICBzbGlkZVN0YXR1cy5jdXJyZW50ID09PSBTTElERV9TVEFUVVNfUExBWUlORykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkZWxheSk7XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KHNjaGVkdWxlTmV4dFNsaWRlLCBbY3VycmVudEluZGV4LCBwbGF5aW5nLCBzY2hlZHVsZU5leHRTbGlkZV0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChwbGF5aW5nICYmIGRpc2FibGVkKSB7XG4gICAgICAgICAgICBzZXRQbGF5aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50SW5kZXgsIHBsYXlpbmcsIGRpc2FibGVkXSk7XG4gICAgY29uc3Qgb25TbGlkZXNob3dTdGFydCA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5zbGlkZXNob3dTdGFydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pOyB9KTtcbiAgICBjb25zdCBvblNsaWRlc2hvd1N0b3AgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gb24uc2xpZGVzaG93U3RvcCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pOyB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgb25TbGlkZXNob3dTdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdhc1BsYXlpbmcuY3VycmVudCkge1xuICAgICAgICAgICAgb25TbGlkZXNob3dTdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2FzUGxheWluZy5jdXJyZW50ID0gcGxheWluZztcbiAgICB9LCBbcGxheWluZywgb25TbGlkZXNob3dTdGFydCwgb25TbGlkZXNob3dTdG9wXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IGNsZWFudXAoY2FuY2VsU2NoZWR1bGVyLCBzdWJzY3JpYmUoQUNUSVZFX1NMSURFX0xPQURJTkcsICgpID0+IHtcbiAgICAgICAgc2xpZGVTdGF0dXMuY3VycmVudCA9IFNMSURFX1NUQVRVU19MT0FESU5HO1xuICAgICAgICBjYW5jZWxTY2hlZHVsZXIoKTtcbiAgICB9KSwgc3Vic2NyaWJlKEFDVElWRV9TTElERV9QTEFZSU5HLCAoKSA9PiB7XG4gICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPSBTTElERV9TVEFUVVNfUExBWUlORztcbiAgICAgICAgY2FuY2VsU2NoZWR1bGVyKCk7XG4gICAgfSksIHN1YnNjcmliZShBQ1RJVkVfU0xJREVfRVJST1IsICgpID0+IHtcbiAgICAgICAgc2xpZGVTdGF0dXMuY3VycmVudCA9IFNMSURFX1NUQVRVU19FUlJPUjtcbiAgICAgICAgc2NoZWR1bGVOZXh0U2xpZGUoKTtcbiAgICB9KSwgc3Vic2NyaWJlKEFDVElWRV9TTElERV9DT01QTEVURSwgKCkgPT4ge1xuICAgICAgICBzbGlkZVN0YXR1cy5jdXJyZW50ID0gU0xJREVfU1RBVFVTX0NPTVBMRVRFO1xuICAgICAgICBzY2hlZHVsZU5leHRTbGlkZSgpO1xuICAgIH0pKSwgW3N1YnNjcmliZSwgY2FuY2VsU2NoZWR1bGVyLCBzY2hlZHVsZU5leHRTbGlkZV0pO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7IHBsYXlpbmcsIGRpc2FibGVkLCBwbGF5LCBwYXVzZSB9KSwgW3BsYXlpbmcsIGRpc2FibGVkLCBwbGF5LCBwYXVzZV0pO1xuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiBjb250ZXh0LCBbY29udGV4dF0pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNsaWRlc2hvd0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuXG5jb25zdCBQbGF5SWNvbiA9IGNyZWF0ZUljb24oXCJQbGF5XCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNOCA1djE0bDExLTd6XCIgfSkpO1xuY29uc3QgUGF1c2VJY29uID0gY3JlYXRlSWNvbihcIlBhdXNlXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNiAxOWg0VjVINnYxNHptOC0xNHYxNGg0VjVoLTR6XCIgfSkpO1xuZnVuY3Rpb24gU2xpZGVzaG93QnV0dG9uKCkge1xuICAgIGNvbnN0IHsgcGxheWluZywgZGlzYWJsZWQsIHBsYXksIHBhdXNlIH0gPSB1c2VTbGlkZXNob3coKTtcbiAgICBjb25zdCB7IHJlbmRlciB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IGZvY3VzTGlzdGVuZXJzID0gdXNlTG9zZUZvY3VzKHVzZUNvbnRyb2xsZXIoKS5mb2N1cywgZGlzYWJsZWQpO1xuICAgIGlmIChyZW5kZXIuYnV0dG9uU2xpZGVzaG93KSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCByZW5kZXIuYnV0dG9uU2xpZGVzaG93KHsgcGxheWluZywgZGlzYWJsZWQsIHBsYXksIHBhdXNlIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgbGFiZWw6IHBsYXlpbmcgPyBcIlBhdXNlXCIgOiBcIlBsYXlcIiwgaWNvbjogcGxheWluZyA/IFBhdXNlSWNvbiA6IFBsYXlJY29uLCByZW5kZXJJY29uOiBwbGF5aW5nID8gcmVuZGVyLmljb25TbGlkZXNob3dQYXVzZSA6IHJlbmRlci5pY29uU2xpZGVzaG93UGxheSwgb25DbGljazogcGxheWluZyA/IHBhdXNlIDogcGxheSwgZGlzYWJsZWQ6IGRpc2FibGVkLCAuLi5mb2N1c0xpc3RlbmVycyB9KSk7XG59XG5cbmZ1bmN0aW9uIFNsaWRlc2hvdyh7IGF1Z21lbnQsIGFkZE1vZHVsZSB9KSB7XG4gICAgYXVnbWVudCgoeyBzbGlkZXNob3csIHRvb2xiYXIsIC4uLnJlc3RQcm9wcyB9KSA9PiAoe1xuICAgICAgICB0b29sYmFyOiBhZGRUb29sYmFyQnV0dG9uKHRvb2xiYXIsIFBMVUdJTl9TTElERVNIT1csIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2xpZGVzaG93QnV0dG9uLCBudWxsKSksXG4gICAgICAgIHNsaWRlc2hvdzogcmVzb2x2ZVNsaWRlc2hvd1Byb3BzKHNsaWRlc2hvdyksXG4gICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICB9KSk7XG4gICAgYWRkTW9kdWxlKGNyZWF0ZU1vZHVsZShQTFVHSU5fU0xJREVTSE9XLCBTbGlkZXNob3dDb250ZXh0UHJvdmlkZXIpKTtcbn1cblxuZXhwb3J0IHsgU2xpZGVzaG93IGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Thumbnails)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultThumbnailsProps = {\n    ref: null,\n    position: \"bottom\",\n    width: 120,\n    height: 80,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 16,\n    imageFit: \"contain\",\n    vignette: true,\n};\nconst resolveThumbnailsProps = (thumbnails) => ({\n    ...defaultThumbnailsProps,\n    ...thumbnails,\n});\nfunction useThumbnailsProps() {\n    const { thumbnails } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveThumbnailsProps(thumbnails);\n}\n\nconst cssPrefix = (value) => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.composePrefix)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = (value) => cssPrefix((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.composePrefix)(\"thumbnail\", value));\n\nconst VideoThumbnailIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"VideoThumbnail\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" }));\nconst UnknownThumbnailIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"UnknownThumbnail\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\" }));\nfunction renderThumbnail({ slide, render, rect, imageFit }) {\n    var _a;\n    const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, { slide, render, rect, imageFit });\n    if (customThumbnail) {\n        return customThumbnail;\n    }\n    const thumbnailIconClass = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON));\n    if (!(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n        if (slide.type === \"video\") {\n            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n                \"poster\" in slide && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", { alt: \"\", src: slide.poster, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"contain_image\"))) })),\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(VideoThumbnailIcon, { className: thumbnailIconClass })));\n        }\n    }\n    else {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { slide: slide, render: render, rect: rect, imageFit: imageFit });\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UnknownThumbnailIcon, { className: thumbnailIconClass });\n}\nconst activePrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"active\");\nconst fadeInPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"fadein\");\nconst fadeOutPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"fadeout\");\nconst placeholderPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail({ slide, onClick, active, fadeIn, fadeOut, placeholder, onLoseFocus }) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { render, styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { width, height, imageFit } = useThumbnailsProps();\n    const rect = { width, height };\n    const onLoseFocusCallback = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(onLoseFocus);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (fadeOut && document.activeElement === ref.current) {\n            onLoseFocusCallback();\n        }\n    }, [fadeOut, onLoseFocusCallback]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: ref, type: \"button\", className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix()), active && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(activePrefix())), fadeIn && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(fadeInPrefix())), fadeOut && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(fadeOutPrefix())), placeholder && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(placeholderPrefix()))), style: {\n            ...(fadeIn\n                ? {\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: `${fadeIn.duration}ms`,\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: `${fadeIn.delay}ms`,\n                }\n                : null),\n            ...(fadeOut\n                ? {\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: `${fadeOut.duration}ms`,\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: `${fadeOut.delay}ms`,\n                }\n                : null),\n            ...styles.thumbnail,\n        }, onClick: onClick }, slide && renderThumbnail({ slide, render, rect, imageFit })));\n}\n\nfunction isHorizontal(position) {\n    return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension, includeGap) {\n    return dimension + 2 * (thumbnails.border + thumbnails.padding) + (includeGap ? thumbnails.gap : 0);\n}\nfunction ThumbnailsTrack({ visible, containerRef }) {\n    const track = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const isRTL = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useRTL)();\n    const { publish, subscribe } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEvents)();\n    const { carousel, styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { slides, globalIndex, animation } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { registerSensors, subscribeSensors } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useSensors)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useKeyboardNavigation)(subscribeSensors);\n    const thumbnails = useThumbnailsProps();\n    const { position, width, height, border, borderStyle, borderColor, borderRadius, padding, gap, vignette } = thumbnails;\n    const index = globalIndex;\n    const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n    const offset = (animationDuration > 0 && (animation === null || animation === void 0 ? void 0 : animation.increment)) || 0;\n    const { prepareAnimation } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useAnimation)(track, (snapshot) => ({\n        keyframes: isHorizontal(position)\n            ? [\n                {\n                    transform: `translateX(${(isRTL ? -1 : 1) * boxSize(thumbnails, width, true) * offset + snapshot}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ]\n            : [\n                {\n                    transform: `translateY(${boxSize(thumbnails, height, true) * offset + snapshot}px)`,\n                },\n                { transform: \"translateY(0)\" },\n            ],\n        duration: animationDuration,\n        easing: animation === null || animation === void 0 ? void 0 : animation.easing,\n    }));\n    const handleControllerSwipe = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        let animationOffset = 0;\n        if (containerRef.current && track.current) {\n            const containerRect = containerRef.current.getBoundingClientRect();\n            const trackRect = track.current.getBoundingClientRect();\n            animationOffset = isHorizontal(position)\n                ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2\n                : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n        }\n        prepareAnimation(animationOffset);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n    const preload = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.calculatePreload)(carousel, slides);\n    const items = [];\n    if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.hasSlides)(slides)) {\n        if (offset < 0) {\n            for (let i = index - preload + offset; i < index - preload; i += 1) {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        for (let i = index - preload - Math.max(offset, 0); i < index; i += 1) {\n            if (!(carousel.finite && i < 0)) {\n                items.push({ slide: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlide)(slides, i), index: i });\n            }\n            else {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        items.push({ slide: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlide)(slides, index), index });\n        for (let i = index + 1; i <= index + preload - Math.min(offset, 0); i += 1) {\n            if (!carousel.finite || i <= slides.length - 1) {\n                items.push({ slide: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlide)(slides, i), index: i });\n            }\n            else {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        if (offset > 0) {\n            for (let i = index + preload + 1; i <= index + preload + offset; i += 1) {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n    }\n    const handleClick = (slideIndex) => () => {\n        if (slideIndex > index) {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, { count: slideIndex - index });\n        }\n        else if (slideIndex < index) {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, { count: index - slideIndex });\n        }\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"container\")), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)), style: {\n            ...(!visible ? { display: \"none\" } : null),\n            ...(width !== defaultThumbnailsProps.width\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"width\"))]: `${boxSize(thumbnails, width)}px` }\n                : null),\n            ...(height !== defaultThumbnailsProps.height\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"height\"))]: `${boxSize(thumbnails, height)}px` }\n                : null),\n            ...(border !== defaultThumbnailsProps.border\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border\"))]: `${border}px` }\n                : null),\n            ...(borderStyle ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_style\"))]: borderStyle } : null),\n            ...(borderColor ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_color\"))]: borderColor } : null),\n            ...(borderRadius !== defaultThumbnailsProps.borderRadius\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_radius\"))]: `${borderRadius}px` }\n                : null),\n            ...(padding !== defaultThumbnailsProps.padding\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"padding\"))]: `${padding}px` }\n                : null),\n            ...(gap !== defaultThumbnailsProps.gap ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"gap\"))]: `${gap}px` } : null),\n            ...styles.thumbnailsContainer,\n        } },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"nav\", { ref: track, style: styles.thumbnailsTrack, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"track\")), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)), tabIndex: -1, ...registerSensors }, items.map(({ slide, index: slideIndex, placeholder }) => {\n            const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n            const fadeIn = (offset > 0 && slideIndex > index + preload - offset && slideIndex <= index + preload) ||\n                (offset < 0 && slideIndex < index - preload - offset && slideIndex >= index - preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: ((offset > 0 ? slideIndex - (index + preload - offset) : index - preload - offset - slideIndex) -\n                        1) *\n                        fadeAnimationDuration,\n                }\n                : undefined;\n            const fadeOut = (offset > 0 && slideIndex < index - preload) || (offset < 0 && slideIndex > index + preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: (offset > 0\n                        ? offset - (index - preload - slideIndex)\n                        : -offset - (slideIndex - (index + preload))) * fadeAnimationDuration,\n                }\n                : undefined;\n            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Thumbnail, { key: [`${slideIndex}`, placeholder && \"placeholder\"].filter(Boolean).join(\"-\"), slide: slide, active: slideIndex === index, fadeIn: fadeIn, fadeOut: fadeOut, placeholder: Boolean(placeholder), onClick: handleClick(slideIndex), onLoseFocus: () => { var _a; return (_a = track.current) === null || _a === void 0 ? void 0 : _a.focus(); } }));\n        })),\n        vignette && react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"vignette\")) })));\n}\n\nconst ThumbnailsContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useThumbnails = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider({ children, ...props }) {\n    const [visible, setVisible] = react__WEBPACK_IMPORTED_MODULE_0__.useState(true);\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { ref, position } = resolveThumbnailsProps(props.thumbnails);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.LightboxPropsProvider, { ...props },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsContext.Provider, { value: context },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: containerRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix()), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(`${position}`))) },\n                [\"start\", \"top\"].includes(position) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible }),\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"wrapper\")) }, children),\n                [\"end\", \"bottom\"].includes(position) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible })))));\n}\n\nconst thumbnailsIcon = () => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\" })));\nconst ThumbnailsVisible = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIconDisabled)(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n    const { visible, show, hide } = useThumbnails();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    if (render.buttonThumbnails) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonThumbnails({ visible, show, hide }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { label: visible ? \"Hide thumbnails\" : \"Show thumbnails\", icon: visible ? ThumbnailsVisible : ThumbnailsHidden, renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Thumbnails({ augment, contains, append, addParent }) {\n    augment(({ thumbnails: thumbnailsProps, toolbar, ...restProps }) => {\n        const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n        return {\n            toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, thumbnails.showToggle ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsButton, null) : null),\n            thumbnails,\n            ...restProps,\n        };\n    });\n    const module = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n    if (contains(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN)) {\n        append(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, module);\n    }\n    else {\n        addParent(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, module);\n    }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3RodW1ibmFpbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpWjtBQUNsWDtBQUNtSjs7QUFFbEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsWUFBWSxhQUFhLEVBQUUsMkRBQWdCO0FBQzNDO0FBQ0E7O0FBRUEsNkJBQTZCLHdEQUFhLENBQUMsd0RBQWlCO0FBQzVELGdEQUFnRCx3REFBYTs7QUFFN0QsMkJBQTJCLHFEQUFVLG1CQUFtQixnREFBbUIsV0FBVywwSkFBMEo7QUFDaFAsNkJBQTZCLHFEQUFVLHFCQUFxQixnREFBbUIsV0FBVywrSEFBK0g7QUFDek4sMkJBQTJCLCtCQUErQjtBQUMxRDtBQUNBLDJHQUEyRywrQkFBK0I7QUFDMUk7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1EQUFRLG9CQUFvQixtREFBWTtBQUN2RSxTQUFTLHVEQUFZO0FBQ3JCO0FBQ0Esb0JBQW9CLGdEQUFtQixDQUFDLDJDQUFjO0FBQ3RELHNDQUFzQyxnREFBbUIsVUFBVSx1Q0FBdUMsK0NBQUksQ0FBQyxtREFBUSxDQUFDLHFEQUFjLEdBQUcsbURBQVEsK0JBQStCO0FBQ2hMLGdCQUFnQixnREFBbUIsdUJBQXVCLCtCQUErQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFtQixDQUFDLGlEQUFVLElBQUksOERBQThEO0FBQy9HO0FBQ0EsV0FBVyxnREFBbUIseUJBQXlCLCtCQUErQjtBQUN0RjtBQUNBLHFCQUFxQiw0REFBaUI7QUFDdEMscUJBQXFCLDREQUFpQjtBQUN0QyxzQkFBc0IsNERBQWlCO0FBQ3ZDLDBCQUEwQiw0REFBaUI7QUFDM0M7QUFDQTtBQUNBLHFCQUFxQixtRUFBbUU7QUFDeEYsZ0JBQWdCLHlDQUFZO0FBQzVC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QUFJLGdEQUFtQixXQUFXLGdIQUFnSDtBQUNsSixJQUFJLGdEQUFtQixXQUFXLGdEQUFnRDtBQUNsRiwwQkFBMEIscURBQVU7QUFDcEMseUJBQXlCLDZEQUFrQjtBQUMzQztBQUNBLFlBQVksc0JBQXNCO0FBQ2xDLFlBQVksU0FBUyxFQUFFLDJEQUFnQjtBQUN2QztBQUNBLGVBQWUsZ0RBQW1CLENBQUMsMkNBQWMsa0NBQWtDLHFCQUFxQjtBQUN4RztBQUNBLFlBQVksZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxnT0FBZ087QUFDOVE7O0FBRUEsc0JBQXNCLHNDQUFzQztBQUM1RCxlQUFlLG9EQUFvRDtBQUNuRTtBQUNBO0FBQ0EscUJBQXFCLDJEQUFnQixVQUFVLHdEQUFpQiwwQkFBMEIsZ0RBQW1CO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsdURBQVksQ0FBQyx3REFBaUI7QUFDakQsaUJBQWlCLHdEQUFpQjtBQUNsQyxlQUFlLHdEQUFpQjtBQUNoQztBQUNBO0FBQ0Esa0JBQWtCLHdEQUFpQjtBQUNuQztBQUNBOztBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dhdGVybWFyay1leHBlcmllbmNlLy4vbm9kZV9tb2R1bGVzL3lldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94L2Rpc3QvcGx1Z2lucy90aHVtYm5haWxzL2luZGV4LmpzP2UwODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTGlnaHRib3hQcm9wcywgY29tcG9zZVByZWZpeCwgY3JlYXRlSWNvbiwgY3NzQ2xhc3MsIGlzSW1hZ2VTbGlkZSwgY2xzeCwgSW1hZ2VTbGlkZSwgbWFrZUNvbXBvc2VQcmVmaXgsIHVzZUV2ZW50Q2FsbGJhY2ssIGNzc1ZhciwgdXNlUlRMLCB1c2VFdmVudHMsIHVzZUxpZ2h0Ym94U3RhdGUsIHVzZVNlbnNvcnMsIHVzZUtleWJvYXJkTmF2aWdhdGlvbiwgdXNlQW5pbWF0aW9uLCBjbGVhbnVwLCBjYWxjdWxhdGVQcmVsb2FkLCBoYXNTbGlkZXMsIGdldFNsaWRlLCBtYWtlVXNlQ29udGV4dCwgTGlnaHRib3hQcm9wc1Byb3ZpZGVyLCBjcmVhdGVJY29uRGlzYWJsZWQsIEljb25CdXR0b24sIGFkZFRvb2xiYXJCdXR0b24sIGNyZWF0ZU1vZHVsZSB9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBMVUdJTl9USFVNQk5BSUxTLCBFTEVNRU5UX0lDT04sIENMQVNTX0ZVTExTSVpFLCBDTEFTU19GTEVYX0NFTlRFUiwgQUNUSU9OX1NXSVBFLCBBQ1RJT05fTkVYVCwgQUNUSU9OX1BSRVYsIFBMVUdJTl9GVUxMU0NSRUVOLCBNT0RVTEVfQ09OVFJPTExFUiB9IGZyb20gJy4uLy4uL3R5cGVzLmpzJztcblxuY29uc3QgZGVmYXVsdFRodW1ibmFpbHNQcm9wcyA9IHtcbiAgICByZWY6IG51bGwsXG4gICAgcG9zaXRpb246IFwiYm90dG9tXCIsXG4gICAgd2lkdGg6IDEyMCxcbiAgICBoZWlnaHQ6IDgwLFxuICAgIGJvcmRlcjogMSxcbiAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgcGFkZGluZzogNCxcbiAgICBnYXA6IDE2LFxuICAgIGltYWdlRml0OiBcImNvbnRhaW5cIixcbiAgICB2aWduZXR0ZTogdHJ1ZSxcbn07XG5jb25zdCByZXNvbHZlVGh1bWJuYWlsc1Byb3BzID0gKHRodW1ibmFpbHMpID0+ICh7XG4gICAgLi4uZGVmYXVsdFRodW1ibmFpbHNQcm9wcyxcbiAgICAuLi50aHVtYm5haWxzLFxufSk7XG5mdW5jdGlvbiB1c2VUaHVtYm5haWxzUHJvcHMoKSB7XG4gICAgY29uc3QgeyB0aHVtYm5haWxzIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgcmV0dXJuIHJlc29sdmVUaHVtYm5haWxzUHJvcHModGh1bWJuYWlscyk7XG59XG5cbmNvbnN0IGNzc1ByZWZpeCA9ICh2YWx1ZSkgPT4gY29tcG9zZVByZWZpeChQTFVHSU5fVEhVTUJOQUlMUywgdmFsdWUpO1xuY29uc3QgY3NzVGh1bWJuYWlsUHJlZml4ID0gKHZhbHVlKSA9PiBjc3NQcmVmaXgoY29tcG9zZVByZWZpeChcInRodW1ibmFpbFwiLCB2YWx1ZSkpO1xuXG5jb25zdCBWaWRlb1RodW1ibmFpbEljb24gPSBjcmVhdGVJY29uKFwiVmlkZW9UaHVtYm5haWxcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMCAxNi41bDYtNC41LTYtNC41djl6TTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4elwiIH0pKTtcbmNvbnN0IFVua25vd25UaHVtYm5haWxJY29uID0gY3JlYXRlSWNvbihcIlVua25vd25UaHVtYm5haWxcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0yMyAxOFY2YzAtMS4xLS45LTItMi0ySDNjLTEuMSAwLTIgLjktMiAydjEyYzAgMS4xLjkgMiAyIDJoMThjMS4xIDAgMi0uOSAyLTJ6TTguNSAxMi41bDIuNSAzLjAxTDE0LjUgMTFsNC41IDZINWwzLjUtNC41elwiIH0pKTtcbmZ1bmN0aW9uIHJlbmRlclRodW1ibmFpbCh7IHNsaWRlLCByZW5kZXIsIHJlY3QsIGltYWdlRml0IH0pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY3VzdG9tVGh1bWJuYWlsID0gKF9hID0gcmVuZGVyLnRodW1ibmFpbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7IHNsaWRlLCByZW5kZXIsIHJlY3QsIGltYWdlRml0IH0pO1xuICAgIGlmIChjdXN0b21UaHVtYm5haWwpIHtcbiAgICAgICAgcmV0dXJuIGN1c3RvbVRodW1ibmFpbDtcbiAgICB9XG4gICAgY29uc3QgdGh1bWJuYWlsSWNvbkNsYXNzID0gY3NzQ2xhc3MoY3NzVGh1bWJuYWlsUHJlZml4KEVMRU1FTlRfSUNPTikpO1xuICAgIGlmICghaXNJbWFnZVNsaWRlKHNsaWRlKSkge1xuICAgICAgICBpZiAoc2xpZGUudHlwZSA9PT0gXCJ2aWRlb1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgXCJwb3N0ZXJcIiBpbiBzbGlkZSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IGFsdDogXCJcIiwgc3JjOiBzbGlkZS5wb3N0ZXIsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhDTEFTU19GVUxMU0laRSksIGNzc0NsYXNzKGNzc1ByZWZpeChcImNvbnRhaW5faW1hZ2VcIikpKSB9KSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChWaWRlb1RodW1ibmFpbEljb24sIHsgY2xhc3NOYW1lOiB0aHVtYm5haWxJY29uQ2xhc3MgfSkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VTbGlkZSwgeyBzbGlkZTogc2xpZGUsIHJlbmRlcjogcmVuZGVyLCByZWN0OiByZWN0LCBpbWFnZUZpdDogaW1hZ2VGaXQgfSk7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFVua25vd25UaHVtYm5haWxJY29uLCB7IGNsYXNzTmFtZTogdGh1bWJuYWlsSWNvbkNsYXNzIH0pO1xufVxuY29uc3QgYWN0aXZlUHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJhY3RpdmVcIik7XG5jb25zdCBmYWRlSW5QcmVmaXggPSBtYWtlQ29tcG9zZVByZWZpeChcImZhZGVpblwiKTtcbmNvbnN0IGZhZGVPdXRQcmVmaXggPSBtYWtlQ29tcG9zZVByZWZpeChcImZhZGVvdXRcIik7XG5jb25zdCBwbGFjZWhvbGRlclByZWZpeCA9IG1ha2VDb21wb3NlUHJlZml4KFwicGxhY2Vob2xkZXJcIik7XG5jb25zdCBERUxBWSA9IFwiZGVsYXlcIjtcbmNvbnN0IERVUkFUSU9OID0gXCJkdXJhdGlvblwiO1xuZnVuY3Rpb24gVGh1bWJuYWlsKHsgc2xpZGUsIG9uQ2xpY2ssIGFjdGl2ZSwgZmFkZUluLCBmYWRlT3V0LCBwbGFjZWhvbGRlciwgb25Mb3NlRm9jdXMgfSkge1xuICAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IHJlbmRlciwgc3R5bGVzIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBpbWFnZUZpdCB9ID0gdXNlVGh1bWJuYWlsc1Byb3BzKCk7XG4gICAgY29uc3QgcmVjdCA9IHsgd2lkdGgsIGhlaWdodCB9O1xuICAgIGNvbnN0IG9uTG9zZUZvY3VzQ2FsbGJhY2sgPSB1c2VFdmVudENhbGxiYWNrKG9uTG9zZUZvY3VzKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZmFkZU91dCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSByZWYuY3VycmVudCkge1xuICAgICAgICAgICAgb25Mb3NlRm9jdXNDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfSwgW2ZhZGVPdXQsIG9uTG9zZUZvY3VzQ2FsbGJhY2tdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyByZWY6IHJlZiwgdHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKENMQVNTX0ZMRVhfQ0VOVEVSKSwgY3NzQ2xhc3MoY3NzVGh1bWJuYWlsUHJlZml4KCkpLCBhY3RpdmUgJiYgY3NzQ2xhc3MoY3NzVGh1bWJuYWlsUHJlZml4KGFjdGl2ZVByZWZpeCgpKSksIGZhZGVJbiAmJiBjc3NDbGFzcyhjc3NUaHVtYm5haWxQcmVmaXgoZmFkZUluUHJlZml4KCkpKSwgZmFkZU91dCAmJiBjc3NDbGFzcyhjc3NUaHVtYm5haWxQcmVmaXgoZmFkZU91dFByZWZpeCgpKSksIHBsYWNlaG9sZGVyICYmIGNzc0NsYXNzKGNzc1RodW1ibmFpbFByZWZpeChwbGFjZWhvbGRlclByZWZpeCgpKSkpLCBzdHlsZToge1xuICAgICAgICAgICAgLi4uKGZhZGVJblxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChmYWRlSW5QcmVmaXgoRFVSQVRJT04pKSldOiBgJHtmYWRlSW4uZHVyYXRpb259bXNgLFxuICAgICAgICAgICAgICAgICAgICBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChmYWRlSW5QcmVmaXgoREVMQVkpKSldOiBgJHtmYWRlSW4uZGVsYXl9bXNgLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGZhZGVPdXRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoZmFkZU91dFByZWZpeChEVVJBVElPTikpKV06IGAke2ZhZGVPdXQuZHVyYXRpb259bXNgLFxuICAgICAgICAgICAgICAgICAgICBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChmYWRlT3V0UHJlZml4KERFTEFZKSkpXTogYCR7ZmFkZU91dC5kZWxheX1tc2AsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAuLi5zdHlsZXMudGh1bWJuYWlsLFxuICAgICAgICB9LCBvbkNsaWNrOiBvbkNsaWNrIH0sIHNsaWRlICYmIHJlbmRlclRodW1ibmFpbCh7IHNsaWRlLCByZW5kZXIsIHJlY3QsIGltYWdlRml0IH0pKSk7XG59XG5cbmZ1bmN0aW9uIGlzSG9yaXpvbnRhbChwb3NpdGlvbikge1xuICAgIHJldHVybiBbXCJ0b3BcIiwgXCJib3R0b21cIl0uaW5jbHVkZXMocG9zaXRpb24pO1xufVxuZnVuY3Rpb24gYm94U2l6ZSh0aHVtYm5haWxzLCBkaW1lbnNpb24sIGluY2x1ZGVHYXApIHtcbiAgICByZXR1cm4gZGltZW5zaW9uICsgMiAqICh0aHVtYm5haWxzLmJvcmRlciArIHRodW1ibmFpbHMucGFkZGluZykgKyAoaW5jbHVkZUdhcCA/IHRodW1ibmFpbHMuZ2FwIDogMCk7XG59XG5mdW5jdGlvbiBUaHVtYm5haWxzVHJhY2soeyB2aXNpYmxlLCBjb250YWluZXJSZWYgfSkge1xuICAgIGNvbnN0IHRyYWNrID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGlzUlRMID0gdXNlUlRMKCk7XG4gICAgY29uc3QgeyBwdWJsaXNoLCBzdWJzY3JpYmUgfSA9IHVzZUV2ZW50cygpO1xuICAgIGNvbnN0IHsgY2Fyb3VzZWwsIHN0eWxlcyB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHsgc2xpZGVzLCBnbG9iYWxJbmRleCwgYW5pbWF0aW9uIH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgeyByZWdpc3RlclNlbnNvcnMsIHN1YnNjcmliZVNlbnNvcnMgfSA9IHVzZVNlbnNvcnMoKTtcbiAgICB1c2VLZXlib2FyZE5hdmlnYXRpb24oc3Vic2NyaWJlU2Vuc29ycyk7XG4gICAgY29uc3QgdGh1bWJuYWlscyA9IHVzZVRodW1ibmFpbHNQcm9wcygpO1xuICAgIGNvbnN0IHsgcG9zaXRpb24sIHdpZHRoLCBoZWlnaHQsIGJvcmRlciwgYm9yZGVyU3R5bGUsIGJvcmRlckNvbG9yLCBib3JkZXJSYWRpdXMsIHBhZGRpbmcsIGdhcCwgdmlnbmV0dGUgfSA9IHRodW1ibmFpbHM7XG4gICAgY29uc3QgaW5kZXggPSBnbG9iYWxJbmRleDtcbiAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbiA9IChhbmltYXRpb24gPT09IG51bGwgfHwgYW5pbWF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbmltYXRpb24uZHVyYXRpb24pIHx8IDA7XG4gICAgY29uc3Qgb2Zmc2V0ID0gKGFuaW1hdGlvbkR1cmF0aW9uID4gMCAmJiAoYW5pbWF0aW9uID09PSBudWxsIHx8IGFuaW1hdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5pbWF0aW9uLmluY3JlbWVudCkpIHx8IDA7XG4gICAgY29uc3QgeyBwcmVwYXJlQW5pbWF0aW9uIH0gPSB1c2VBbmltYXRpb24odHJhY2ssIChzbmFwc2hvdCkgPT4gKHtcbiAgICAgICAga2V5ZnJhbWVzOiBpc0hvcml6b250YWwocG9zaXRpb24pXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHsoaXNSVEwgPyAtMSA6IDEpICogYm94U2l6ZSh0aHVtYm5haWxzLCB3aWR0aCwgdHJ1ZSkgKiBvZmZzZXQgKyBzbmFwc2hvdH1weClgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWCgwKVwiIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtib3hTaXplKHRodW1ibmFpbHMsIGhlaWdodCwgdHJ1ZSkgKiBvZmZzZXQgKyBzbmFwc2hvdH1weClgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgwKVwiIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICBkdXJhdGlvbjogYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogYW5pbWF0aW9uID09PSBudWxsIHx8IGFuaW1hdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5pbWF0aW9uLmVhc2luZyxcbiAgICB9KSk7XG4gICAgY29uc3QgaGFuZGxlQ29udHJvbGxlclN3aXBlID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGxldCBhbmltYXRpb25PZmZzZXQgPSAwO1xuICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQgJiYgdHJhY2suY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgdHJhY2tSZWN0ID0gdHJhY2suY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGFuaW1hdGlvbk9mZnNldCA9IGlzSG9yaXpvbnRhbChwb3NpdGlvbilcbiAgICAgICAgICAgICAgICA/IHRyYWNrUmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0IC0gKGNvbnRhaW5lclJlY3Qud2lkdGggLSB0cmFja1JlY3Qud2lkdGgpIC8gMlxuICAgICAgICAgICAgICAgIDogdHJhY2tSZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wIC0gKGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gdHJhY2tSZWN0LmhlaWdodCkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIHByZXBhcmVBbmltYXRpb24oYW5pbWF0aW9uT2Zmc2V0KTtcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gY2xlYW51cChzdWJzY3JpYmUoQUNUSU9OX1NXSVBFLCBoYW5kbGVDb250cm9sbGVyU3dpcGUpKSwgW3N1YnNjcmliZSwgaGFuZGxlQ29udHJvbGxlclN3aXBlXSk7XG4gICAgY29uc3QgcHJlbG9hZCA9IGNhbGN1bGF0ZVByZWxvYWQoY2Fyb3VzZWwsIHNsaWRlcyk7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBpZiAoaGFzU2xpZGVzKHNsaWRlcykpIHtcbiAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleCAtIHByZWxvYWQgKyBvZmZzZXQ7IGkgPCBpbmRleCAtIHByZWxvYWQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goeyBzbGlkZTogbnVsbCwgaW5kZXg6IGksIHBsYWNlaG9sZGVyOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleCAtIHByZWxvYWQgLSBNYXRoLm1heChvZmZzZXQsIDApOyBpIDwgaW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKCEoY2Fyb3VzZWwuZmluaXRlICYmIGkgPCAwKSkge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goeyBzbGlkZTogZ2V0U2xpZGUoc2xpZGVzLCBpKSwgaW5kZXg6IGkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHsgc2xpZGU6IG51bGwsIGluZGV4OiBpLCBwbGFjZWhvbGRlcjogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpdGVtcy5wdXNoKHsgc2xpZGU6IGdldFNsaWRlKHNsaWRlcywgaW5kZXgpLCBpbmRleCB9KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4ICsgMTsgaSA8PSBpbmRleCArIHByZWxvYWQgLSBNYXRoLm1pbihvZmZzZXQsIDApOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGlmICghY2Fyb3VzZWwuZmluaXRlIHx8IGkgPD0gc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHsgc2xpZGU6IGdldFNsaWRlKHNsaWRlcywgaSksIGluZGV4OiBpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7IHNsaWRlOiBudWxsLCBpbmRleDogaSwgcGxhY2Vob2xkZXI6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleCArIHByZWxvYWQgKyAxOyBpIDw9IGluZGV4ICsgcHJlbG9hZCArIG9mZnNldDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7IHNsaWRlOiBudWxsLCBpbmRleDogaSwgcGxhY2Vob2xkZXI6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoc2xpZGVJbmRleCkgPT4gKCkgPT4ge1xuICAgICAgICBpZiAoc2xpZGVJbmRleCA+IGluZGV4KSB7XG4gICAgICAgICAgICBwdWJsaXNoKEFDVElPTl9ORVhULCB7IGNvdW50OiBzbGlkZUluZGV4IC0gaW5kZXggfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2xpZGVJbmRleCA8IGluZGV4KSB7XG4gICAgICAgICAgICBwdWJsaXNoKEFDVElPTl9QUkVWLCB7IGNvdW50OiBpbmRleCAtIHNsaWRlSW5kZXggfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhjc3NQcmVmaXgoXCJjb250YWluZXJcIikpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUikpLCBzdHlsZToge1xuICAgICAgICAgICAgLi4uKCF2aXNpYmxlID8geyBkaXNwbGF5OiBcIm5vbmVcIiB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi4od2lkdGggIT09IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMud2lkdGhcbiAgICAgICAgICAgICAgICA/IHsgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoXCJ3aWR0aFwiKSldOiBgJHtib3hTaXplKHRodW1ibmFpbHMsIHdpZHRoKX1weGAgfVxuICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAuLi4oaGVpZ2h0ICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLmhlaWdodFxuICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImhlaWdodFwiKSldOiBgJHtib3hTaXplKHRodW1ibmFpbHMsIGhlaWdodCl9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGJvcmRlciAhPT0gZGVmYXVsdFRodW1ibmFpbHNQcm9wcy5ib3JkZXJcbiAgICAgICAgICAgICAgICA/IHsgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoXCJib3JkZXJcIikpXTogYCR7Ym9yZGVyfXB4YCB9XG4gICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihib3JkZXJTdHlsZSA/IHsgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoXCJib3JkZXJfc3R5bGVcIikpXTogYm9yZGVyU3R5bGUgfSA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGJvcmRlckNvbG9yID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImJvcmRlcl9jb2xvclwiKSldOiBib3JkZXJDb2xvciB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi4oYm9yZGVyUmFkaXVzICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLmJvcmRlclJhZGl1c1xuICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImJvcmRlcl9yYWRpdXNcIikpXTogYCR7Ym9yZGVyUmFkaXVzfXB4YCB9XG4gICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihwYWRkaW5nICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLnBhZGRpbmdcbiAgICAgICAgICAgICAgICA/IHsgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoXCJwYWRkaW5nXCIpKV06IGAke3BhZGRpbmd9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGdhcCAhPT0gZGVmYXVsdFRodW1ibmFpbHNQcm9wcy5nYXAgPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwiZ2FwXCIpKV06IGAke2dhcH1weGAgfSA6IG51bGwpLFxuICAgICAgICAgICAgLi4uc3R5bGVzLnRodW1ibmFpbHNDb250YWluZXIsXG4gICAgICAgIH0gfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcIm5hdlwiLCB7IHJlZjogdHJhY2ssIHN0eWxlOiBzdHlsZXMudGh1bWJuYWlsc1RyYWNrLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoY3NzUHJlZml4KFwidHJhY2tcIikpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUikpLCB0YWJJbmRleDogLTEsIC4uLnJlZ2lzdGVyU2Vuc29ycyB9LCBpdGVtcy5tYXAoKHsgc2xpZGUsIGluZGV4OiBzbGlkZUluZGV4LCBwbGFjZWhvbGRlciB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmYWRlQW5pbWF0aW9uRHVyYXRpb24gPSBhbmltYXRpb25EdXJhdGlvbiAvIE1hdGguYWJzKG9mZnNldCB8fCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGZhZGVJbiA9IChvZmZzZXQgPiAwICYmIHNsaWRlSW5kZXggPiBpbmRleCArIHByZWxvYWQgLSBvZmZzZXQgJiYgc2xpZGVJbmRleCA8PSBpbmRleCArIHByZWxvYWQpIHx8XG4gICAgICAgICAgICAgICAgKG9mZnNldCA8IDAgJiYgc2xpZGVJbmRleCA8IGluZGV4IC0gcHJlbG9hZCAtIG9mZnNldCAmJiBzbGlkZUluZGV4ID49IGluZGV4IC0gcHJlbG9hZClcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGZhZGVBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVsYXk6ICgob2Zmc2V0ID4gMCA/IHNsaWRlSW5kZXggLSAoaW5kZXggKyBwcmVsb2FkIC0gb2Zmc2V0KSA6IGluZGV4IC0gcHJlbG9hZCAtIG9mZnNldCAtIHNsaWRlSW5kZXgpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgIDEpICpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhZGVBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBmYWRlT3V0ID0gKG9mZnNldCA+IDAgJiYgc2xpZGVJbmRleCA8IGluZGV4IC0gcHJlbG9hZCkgfHwgKG9mZnNldCA8IDAgJiYgc2xpZGVJbmRleCA+IGluZGV4ICsgcHJlbG9hZClcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGZhZGVBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVsYXk6IChvZmZzZXQgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9mZnNldCAtIChpbmRleCAtIHByZWxvYWQgLSBzbGlkZUluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAtb2Zmc2V0IC0gKHNsaWRlSW5kZXggLSAoaW5kZXggKyBwcmVsb2FkKSkpICogZmFkZUFuaW1hdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUaHVtYm5haWwsIHsga2V5OiBbYCR7c2xpZGVJbmRleH1gLCBwbGFjZWhvbGRlciAmJiBcInBsYWNlaG9sZGVyXCJdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiLVwiKSwgc2xpZGU6IHNsaWRlLCBhY3RpdmU6IHNsaWRlSW5kZXggPT09IGluZGV4LCBmYWRlSW46IGZhZGVJbiwgZmFkZU91dDogZmFkZU91dCwgcGxhY2Vob2xkZXI6IEJvb2xlYW4ocGxhY2Vob2xkZXIpLCBvbkNsaWNrOiBoYW5kbGVDbGljayhzbGlkZUluZGV4KSwgb25Mb3NlRm9jdXM6ICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdHJhY2suY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7IH0gfSkpO1xuICAgICAgICB9KSksXG4gICAgICAgIHZpZ25ldHRlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNzc0NsYXNzKGNzc1ByZWZpeChcInZpZ25ldHRlXCIpKSB9KSkpO1xufVxuXG5jb25zdCBUaHVtYm5haWxzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VUaHVtYm5haWxzID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VUaHVtYm5haWxzXCIsIFwiVGh1bWJuYWlsc0NvbnRleHRcIiwgVGh1bWJuYWlsc0NvbnRleHQpO1xuZnVuY3Rpb24gVGh1bWJuYWlsc0NvbnRleHRQcm92aWRlcih7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSB7XG4gICAgY29uc3QgW3Zpc2libGUsIHNldFZpc2libGVdID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgcmVmLCBwb3NpdGlvbiB9ID0gcmVzb2x2ZVRodW1ibmFpbHNQcm9wcyhwcm9wcy50aHVtYm5haWxzKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xuICAgICAgICB2aXNpYmxlLFxuICAgICAgICBzaG93OiAoKSA9PiBzZXRWaXNpYmxlKHRydWUpLFxuICAgICAgICBoaWRlOiAoKSA9PiBzZXRWaXNpYmxlKGZhbHNlKSxcbiAgICB9KSwgW3Zpc2libGVdKTtcbiAgICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gY29udGV4dCwgW2NvbnRleHRdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlnaHRib3hQcm9wc1Byb3ZpZGVyLCB7IC4uLnByb3BzIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGNvbnRhaW5lclJlZiwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKGNzc1ByZWZpeCgpKSwgY3NzQ2xhc3MoY3NzUHJlZml4KGAke3Bvc2l0aW9ufWApKSkgfSxcbiAgICAgICAgICAgICAgICBbXCJzdGFydFwiLCBcInRvcFwiXS5pbmNsdWRlcyhwb3NpdGlvbikgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUaHVtYm5haWxzVHJhY2ssIHsgY29udGFpbmVyUmVmOiBjb250YWluZXJSZWYsIHZpc2libGU6IHZpc2libGUgfSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzQ2xhc3MoY3NzUHJlZml4KFwid3JhcHBlclwiKSkgfSwgY2hpbGRyZW4pLFxuICAgICAgICAgICAgICAgIFtcImVuZFwiLCBcImJvdHRvbVwiXS5pbmNsdWRlcyhwb3NpdGlvbikgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUaHVtYm5haWxzVHJhY2ssIHsgY29udGFpbmVyUmVmOiBjb250YWluZXJSZWYsIHZpc2libGU6IHZpc2libGUgfSkpKSkpO1xufVxuXG5jb25zdCB0aHVtYm5haWxzSWNvbiA9ICgpID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgc3Ryb2tlV2lkdGg6IDIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiwgZmlsbDogXCJub25lXCIsIGQ6IFwiTTMgNWwxOCAwbDAgMTRsLTE4IDBsMC0xNHpcIiB9KSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTUgMTRoNHYzaC00ek0xMCAxNGg0djNoLTR6TTE1IDE0aDR2M2gtNHpcIiB9KSkpO1xuY29uc3QgVGh1bWJuYWlsc1Zpc2libGUgPSBjcmVhdGVJY29uKFwiVGh1bWJuYWlsc1Zpc2libGVcIiwgdGh1bWJuYWlsc0ljb24oKSk7XG5jb25zdCBUaHVtYm5haWxzSGlkZGVuID0gY3JlYXRlSWNvbkRpc2FibGVkKFwiVGh1bWJuYWlsc0hpZGRlblwiLCB0aHVtYm5haWxzSWNvbigpKTtcbmZ1bmN0aW9uIFRodW1ibmFpbHNCdXR0b24oKSB7XG4gICAgY29uc3QgeyB2aXNpYmxlLCBzaG93LCBoaWRlIH0gPSB1c2VUaHVtYm5haWxzKCk7XG4gICAgY29uc3QgeyByZW5kZXIgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBpZiAocmVuZGVyLmJ1dHRvblRodW1ibmFpbHMpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHJlbmRlci5idXR0b25UaHVtYm5haWxzKHsgdmlzaWJsZSwgc2hvdywgaGlkZSB9KSk7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IGxhYmVsOiB2aXNpYmxlID8gXCJIaWRlIHRodW1ibmFpbHNcIiA6IFwiU2hvdyB0aHVtYm5haWxzXCIsIGljb246IHZpc2libGUgPyBUaHVtYm5haWxzVmlzaWJsZSA6IFRodW1ibmFpbHNIaWRkZW4sIHJlbmRlckljb246IHZpc2libGUgPyByZW5kZXIuaWNvblRodW1ibmFpbHNWaXNpYmxlIDogcmVuZGVyLmljb25UaHVtYm5haWxzSGlkZGVuLCBvbkNsaWNrOiB2aXNpYmxlID8gaGlkZSA6IHNob3cgfSkpO1xufVxuXG5mdW5jdGlvbiBUaHVtYm5haWxzKHsgYXVnbWVudCwgY29udGFpbnMsIGFwcGVuZCwgYWRkUGFyZW50IH0pIHtcbiAgICBhdWdtZW50KCh7IHRodW1ibmFpbHM6IHRodW1ibmFpbHNQcm9wcywgdG9vbGJhciwgLi4ucmVzdFByb3BzIH0pID0+IHtcbiAgICAgICAgY29uc3QgdGh1bWJuYWlscyA9IHJlc29sdmVUaHVtYm5haWxzUHJvcHModGh1bWJuYWlsc1Byb3BzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvb2xiYXI6IGFkZFRvb2xiYXJCdXR0b24odG9vbGJhciwgUExVR0lOX1RIVU1CTkFJTFMsIHRodW1ibmFpbHMuc2hvd1RvZ2dsZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGh1bWJuYWlsc0J1dHRvbiwgbnVsbCkgOiBudWxsKSxcbiAgICAgICAgICAgIHRodW1ibmFpbHMsXG4gICAgICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgbW9kdWxlID0gY3JlYXRlTW9kdWxlKFBMVUdJTl9USFVNQk5BSUxTLCBUaHVtYm5haWxzQ29udGV4dFByb3ZpZGVyKTtcbiAgICBpZiAoY29udGFpbnMoUExVR0lOX0ZVTExTQ1JFRU4pKSB7XG4gICAgICAgIGFwcGVuZChQTFVHSU5fRlVMTFNDUkVFTiwgbW9kdWxlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFkZFBhcmVudChNT0RVTEVfQ09OVFJPTExFUiwgbW9kdWxlKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFRodW1ibmFpbHMgYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js":
/*!****************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Zoom)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const zoomAnimationStart = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { zoom: zoomAnimationDuration } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)().animation;\n    const reduceMotion = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useMotionPreference)();\n    const playZoomAnimation = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500 : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const onZoomCallback = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { imageFit } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n            const cover = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageFitCover)(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.round)(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const lastPointerDown = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pinchZoomDistance = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { globalIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { containerRef, subscribeSensors } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = window;\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef]);\n    const onKeyDown = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if (!((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(zoom * (1 + delta / pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.usePointerEvents)(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (!disabled) {\n            return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(cleanupSensors, subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = react__WEBPACK_IMPORTED_MODULE_0__.useState(1);\n    const [offsetX, setOffsetX] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n    const [offsetY, setOffsetY] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { containerRect, slideRect } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.round)(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useZoom = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const { slideRect } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ZoomIn\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ZoomOut\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const wasFocused = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const zoomOutRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { focus } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const focusSibling = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(_types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageFitCover)(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.devicePixelRatio)();\n    const handleResize = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: \"translateZ(0)\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n        preload && preload !== current && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const zoomWrapperRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const { carousel, on } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { currentIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResponsiveImage, { key: slide.src, ...slideProps, slide: slide, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: slide.src, onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: zoomWrapperRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM, react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(props.slide) ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM, ZoomContextProvider));\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3pvb20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrVTtBQUNuUztBQUM4SDs7QUFFN0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSwwQkFBMEIseUNBQVk7QUFDdEMsK0JBQStCLHlDQUFZO0FBQzNDLFlBQVksOEJBQThCLEVBQUUsMkRBQWdCO0FBQzVELHlCQUF5Qiw4REFBbUI7QUFDNUMsOEJBQThCLDJEQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdUNBQXVDO0FBQzdELHNCQUFzQixvQkFBb0IsS0FBSyxlQUFlLFFBQVEsaUJBQWlCLFFBQVEsTUFBTTtBQUNyRztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDBEQUFlO0FBQ25CLFdBQVcsOENBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFlBQVksS0FBSyxFQUFFLDJEQUFnQjtBQUNuQywyQkFBMkIsMkRBQWdCO0FBQzNDO0FBQ0E7QUFDQSw4RUFBOEUsTUFBTTtBQUNwRjtBQUNBLEtBQUs7QUFDTCxJQUFJLDRDQUFlO0FBQ25COztBQUVBO0FBQ0EsWUFBWSxPQUFPLEVBQUUsMkRBQWdCO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qix5QkFBeUI7QUFDekIsWUFBWSxlQUFlLEVBQUUsMkRBQWdCO0FBQzdDLFlBQVksV0FBVyxFQUFFLDJEQUFnQjtBQUN6QyxZQUFZLG9CQUFvQjtBQUNoQztBQUNBLHdCQUF3QjtBQUN4QixZQUFZLHVEQUFZO0FB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aEUsMkJBQTJCLHlDQUFZO0FBQ3ZDLFlBQVksa0RBQWtEO0FBQzlELFlBQVksZUFBZSxFQUFFLDJEQUFnQjtBQUM3QyxZQUFZLGVBQWUsRUFBRSwyREFBZ0I7QUFDN0MsSUFBSSwwREFBZTtBQUNuQjtBQUNBLDZCQUE2QixpQ0FBaUM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDhGQUE4RixvQ0FBb0M7QUFDbEkscUJBQXFCLHVEQUFZO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFFBQVEsMEVBQTBFLHFCQUFxQixLQUFLO0FBQ3hKO0FBQ0Esb0RBQW9ELGdEQUFtQixvQkFBb0Isb0VBQW9FLHVEQUF1RCxRQUFRLE1BQU0sZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxzREFBc0Qsb0RBQW9ELGtCQUFrQjtBQUNsWTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFtQixVQUFVLGdDQUFnQywrQ0FBSSxDQUFDLG1EQUFRLENBQUMscURBQWMsR0FBRyxtREFBUSxDQUFDLHdEQUFpQixHQUFHLG1EQUFRLENBQUMsMERBQW1CLDRCQUE0QixvQkFBb0IsS0FBSyxlQUFlLFFBQVEsaUJBQWlCLFFBQVEsT0FBTyxhQUFhO0FBQzFSOztBQUVBLGdCQUFnQixvQkFBb0I7QUFDcEMsZUFBZSw0REFBNEQ7QUFDM0U7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJEQUFnQixVQUFVLGtEQUFXLEVBQUUsZ0RBQW1CO0FBQy9FO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUSxPQUFPLHVEQUFZLGdCQUFnQixnREFBbUIsZ0JBQWdCLDBCQUEwQixzRkFBc0Y7QUFDbE8sYUFBYTtBQUNiLDBCQUEwQix3REFBd0Q7QUFDbEY7QUFDQTtBQUNBLEtBQUs7QUFDTCxjQUFjLHVEQUFZLENBQUMsa0RBQVc7QUFDdEM7O0FBRTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2F0ZXJtYXJrLWV4cGVyaWVuY2UvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3pvb20vaW5kZXguanM/NjM4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VMaWdodGJveFByb3BzLCB1c2VNb3Rpb25QcmVmZXJlbmNlLCB1c2VFdmVudENhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QsIHVzZUxpZ2h0Ym94U3RhdGUsIGlzSW1hZ2VTbGlkZSwgaXNJbWFnZUZpdENvdmVyLCByb3VuZCwgdXNlQ29udHJvbGxlciwgdXNlUG9pbnRlckV2ZW50cywgY2xlYW51cCwgbWFrZVVzZUNvbnRleHQsIGNyZWF0ZUljb24sIEljb25CdXR0b24sIGRldmljZVBpeGVsUmF0aW8sIEltYWdlU2xpZGUsIGNsc3gsIGNzc0NsYXNzLCBhZGRUb29sYmFyQnV0dG9uLCBjcmVhdGVNb2R1bGUgfSBmcm9tICcuLi8uLi9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBFVkVOVF9PTl9LRVlfRE9XTiwgRVZFTlRfT05fV0hFRUwsIFVOS05PV05fQUNUSU9OX1RZUEUsIENMQVNTX0ZVTExTSVpFLCBDTEFTU19GTEVYX0NFTlRFUiwgQ0xBU1NfU0xJREVfV1JBUFBFUiwgUExVR0lOX1pPT00gfSBmcm9tICcuLi8uLi90eXBlcy5qcyc7XG5cbmNvbnN0IGRlZmF1bHRab29tUHJvcHMgPSB7XG4gICAgbWF4Wm9vbVBpeGVsUmF0aW86IDEsXG4gICAgem9vbUluTXVsdGlwbGllcjogMixcbiAgICBkb3VibGVUYXBEZWxheTogMzAwLFxuICAgIGRvdWJsZUNsaWNrRGVsYXk6IDUwMCxcbiAgICBkb3VibGVDbGlja01heFN0b3BzOiAyLFxuICAgIGtleWJvYXJkTW92ZURpc3RhbmNlOiA1MCxcbiAgICB3aGVlbFpvb21EaXN0YW5jZUZhY3RvcjogMTAwLFxuICAgIHBpbmNoWm9vbURpc3RhbmNlRmFjdG9yOiAxMDAsXG4gICAgc2Nyb2xsVG9ab29tOiBmYWxzZSxcbn07XG5jb25zdCByZXNvbHZlWm9vbVByb3BzID0gKHpvb20pID0+ICh7XG4gICAgLi4uZGVmYXVsdFpvb21Qcm9wcyxcbiAgICAuLi56b29tLFxufSk7XG5cbmZ1bmN0aW9uIHVzZVpvb21BbmltYXRpb24oem9vbSwgb2Zmc2V0WCwgb2Zmc2V0WSwgem9vbVdyYXBwZXJSZWYpIHtcbiAgICBjb25zdCB6b29tQW5pbWF0aW9uID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3Qgem9vbUFuaW1hdGlvblN0YXJ0ID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgeyB6b29tOiB6b29tQW5pbWF0aW9uRHVyYXRpb24gfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKS5hbmltYXRpb247XG4gICAgY29uc3QgcmVkdWNlTW90aW9uID0gdXNlTW90aW9uUHJlZmVyZW5jZSgpO1xuICAgIGNvbnN0IHBsYXlab29tQW5pbWF0aW9uID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAoX2EgPSB6b29tQW5pbWF0aW9uLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgem9vbUFuaW1hdGlvbi5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoem9vbUFuaW1hdGlvblN0YXJ0LmN1cnJlbnQgJiYgKHpvb21XcmFwcGVyUmVmID09PSBudWxsIHx8IHpvb21XcmFwcGVyUmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tV3JhcHBlclJlZi5jdXJyZW50KSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB6b29tQW5pbWF0aW9uLmN1cnJlbnQgPSAoX2MgPSAoX2IgPSB6b29tV3JhcHBlclJlZi5jdXJyZW50KS5hbmltYXRlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYiwgW1xuICAgICAgICAgICAgICAgICAgICB7IHRyYW5zZm9ybTogem9vbUFuaW1hdGlvblN0YXJ0LmN1cnJlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IGBzY2FsZSgke3pvb219KSB0cmFuc2xhdGVYKCR7b2Zmc2V0WH1weCkgdHJhbnNsYXRlWSgke29mZnNldFl9cHgpYCB9LFxuICAgICAgICAgICAgICAgIF0sIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246ICFyZWR1Y2VNb3Rpb24gPyB6b29tQW5pbWF0aW9uRHVyYXRpb24gIT09IG51bGwgJiYgem9vbUFuaW1hdGlvbkR1cmF0aW9uICE9PSB2b2lkIDAgPyB6b29tQW5pbWF0aW9uRHVyYXRpb24gOiA1MDAgOiAwLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IHpvb21BbmltYXRpb24uY3VycmVudCA/IFwiZWFzZS1vdXRcIiA6IFwiZWFzZS1pbi1vdXRcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB6b29tQW5pbWF0aW9uU3RhcnQuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh6b29tQW5pbWF0aW9uLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB6b29tQW5pbWF0aW9uLmN1cnJlbnQub25maW5pc2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHpvb21BbmltYXRpb24uY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KHBsYXlab29tQW5pbWF0aW9uLCBbem9vbSwgb2Zmc2V0WCwgb2Zmc2V0WSwgcGxheVpvb21BbmltYXRpb25dKTtcbiAgICByZXR1cm4gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB6b29tQW5pbWF0aW9uU3RhcnQuY3VycmVudCA9ICh6b29tV3JhcHBlclJlZiA9PT0gbnVsbCB8fCB6b29tV3JhcHBlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXJSZWYuY3VycmVudClcbiAgICAgICAgICAgID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoem9vbVdyYXBwZXJSZWYuY3VycmVudCkudHJhbnNmb3JtXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9LCBbem9vbVdyYXBwZXJSZWZdKTtcbn1cblxuZnVuY3Rpb24gdXNlWm9vbUNhbGxiYWNrKHpvb20sIGRpc2FibGVkKSB7XG4gICAgY29uc3QgeyBvbiB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IG9uWm9vbUNhbGxiYWNrID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICAgICAgKF9hID0gb24uem9vbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24sIHsgem9vbSB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChvblpvb21DYWxsYmFjaywgW3pvb20sIG9uWm9vbUNhbGxiYWNrXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVpvb21Qcm9wcygpIHtcbiAgICBjb25zdCB7IHpvb20gfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICByZXR1cm4gcmVzb2x2ZVpvb21Qcm9wcyh6b29tKTtcbn1cblxuZnVuY3Rpb24gdXNlWm9vbUltYWdlUmVjdChzbGlkZVJlY3QsIGltYWdlRGltZW5zaW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgbGV0IGltYWdlUmVjdCA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgIGxldCBtYXhJbWFnZVJlY3QgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICBjb25zdCB7IGN1cnJlbnRTbGlkZSB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHsgaW1hZ2VGaXQgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKS5jYXJvdXNlbDtcbiAgICBjb25zdCB7IG1heFpvb21QaXhlbFJhdGlvIH0gPSB1c2Vab29tUHJvcHMoKTtcbiAgICBpZiAoc2xpZGVSZWN0ICYmIGN1cnJlbnRTbGlkZSkge1xuICAgICAgICBjb25zdCBzbGlkZSA9IHsgLi4uY3VycmVudFNsaWRlLCAuLi5pbWFnZURpbWVuc2lvbnMgfTtcbiAgICAgICAgaWYgKGlzSW1hZ2VTbGlkZShzbGlkZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvdmVyID0gaXNJbWFnZUZpdENvdmVyKHNsaWRlLCBpbWFnZUZpdCk7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KC4uLigoKF9hID0gc2xpZGUuc3JjU2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKCh4KSA9PiB4LndpZHRoKSkgfHwgW10pLmNvbmNhdChzbGlkZS53aWR0aCA/IFtzbGlkZS53aWR0aF0gOiBbXSkpO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoLi4uKCgoX2IgPSBzbGlkZS5zcmNTZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tYXAoKHgpID0+IHguaGVpZ2h0KSkgfHwgW10pLmNvbmNhdChzbGlkZS5oZWlnaHQgPyBbc2xpZGUuaGVpZ2h0XSA6IFtdKSk7XG4gICAgICAgICAgICBpZiAod2lkdGggPiAwICYmIGhlaWdodCA+IDAgJiYgc2xpZGVSZWN0LndpZHRoID4gMCAmJiBzbGlkZVJlY3QuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIG1heEltYWdlUmVjdCA9IGNvdmVyXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoTWF0aC5taW4od2lkdGgsIChzbGlkZVJlY3Qud2lkdGggLyBzbGlkZVJlY3QuaGVpZ2h0KSAqIGhlaWdodCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKE1hdGgubWluKGhlaWdodCwgKHNsaWRlUmVjdC5oZWlnaHQgLyBzbGlkZVJlY3Qud2lkdGgpICogd2lkdGgpKSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IHsgd2lkdGgsIGhlaWdodCB9O1xuICAgICAgICAgICAgICAgIG1heEltYWdlUmVjdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG1heEltYWdlUmVjdC53aWR0aCAqIG1heFpvb21QaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG1heEltYWdlUmVjdC5oZWlnaHQgKiBtYXhab29tUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltYWdlUmVjdCA9IGNvdmVyXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgubWluKHNsaWRlUmVjdC53aWR0aCwgbWF4SW1hZ2VSZWN0LndpZHRoLCB3aWR0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGgubWluKHNsaWRlUmVjdC5oZWlnaHQsIG1heEltYWdlUmVjdC5oZWlnaHQsIGhlaWdodCksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogTWF0aC5yb3VuZChNYXRoLm1pbihzbGlkZVJlY3Qud2lkdGgsIChzbGlkZVJlY3QuaGVpZ2h0IC8gaGVpZ2h0KSAqIHdpZHRoLCB3aWR0aCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKE1hdGgubWluKHNsaWRlUmVjdC5oZWlnaHQsIChzbGlkZVJlY3Qud2lkdGggLyB3aWR0aCkgKiBoZWlnaHQsIGhlaWdodCkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG1heFpvb20gPSBpbWFnZVJlY3Qud2lkdGggPyBNYXRoLm1heChyb3VuZChtYXhJbWFnZVJlY3Qud2lkdGggLyBpbWFnZVJlY3Qud2lkdGgsIDUpLCAxKSA6IDE7XG4gICAgcmV0dXJuIHsgaW1hZ2VSZWN0LCBtYXhab29tIH07XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlKHBvaW50ZXJBLCBwb2ludGVyQikge1xuICAgIHJldHVybiAoKHBvaW50ZXJBLmNsaWVudFggLSBwb2ludGVyQi5jbGllbnRYKSAqKiAyICsgKHBvaW50ZXJBLmNsaWVudFkgLSBwb2ludGVyQi5jbGllbnRZKSAqKiAyKSAqKiAwLjU7XG59XG5mdW5jdGlvbiB1c2Vab29tU2Vuc29ycyh6b29tLCBtYXhab29tLCBkaXNhYmxlZCwgY2hhbmdlWm9vbSwgY2hhbmdlT2Zmc2V0cywgem9vbVdyYXBwZXJSZWYpIHtcbiAgICBjb25zdCBhY3RpdmVQb2ludGVycyA9IFJlYWN0LnVzZVJlZihbXSk7XG4gICAgY29uc3QgbGFzdFBvaW50ZXJEb3duID0gUmVhY3QudXNlUmVmKDApO1xuICAgIGNvbnN0IHBpbmNoWm9vbURpc3RhbmNlID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgeyBnbG9iYWxJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHsgY29udGFpbmVyUmVmLCBzdWJzY3JpYmVTZW5zb3JzIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyBrZXlib2FyZE1vdmVEaXN0YW5jZSwgem9vbUluTXVsdGlwbGllciwgd2hlZWxab29tRGlzdGFuY2VGYWN0b3IsIHNjcm9sbFRvWm9vbSwgZG91YmxlVGFwRGVsYXksIGRvdWJsZUNsaWNrRGVsYXksIGRvdWJsZUNsaWNrTWF4U3RvcHMsIHBpbmNoWm9vbURpc3RhbmNlRmFjdG9yLCB9ID0gdXNlWm9vbVByb3BzKCk7XG4gICAgY29uc3QgdHJhbnNsYXRlQ29vcmRpbmF0ZXMgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IHBhZ2VYLCBwYWdlWSB9ID0gZXZlbnQ7XG4gICAgICAgICAgICBjb25zdCB7IHNjcm9sbFgsIHNjcm9sbFkgfSA9IHdpbmRvdztcbiAgICAgICAgICAgIGNvbnN0IHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IH0gPSBjb250YWluZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHJldHVybiBbcGFnZVggLSBsZWZ0IC0gc2Nyb2xsWCAtIHdpZHRoIC8gMiwgcGFnZVkgLSB0b3AgLSBzY3JvbGxZIC0gaGVpZ2h0IC8gMl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0sIFtjb250YWluZXJSZWZdKTtcbiAgICBjb25zdCBvbktleURvd24gPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2ZW50RGVmYXVsdCA9ICgpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBtb3ZlID0gKGRlbHRhWCwgZGVsdGFZKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VPZmZzZXRzKGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgICAgICAgICAgbW92ZSgwLCBrZXlib2FyZE1vdmVEaXN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAgICAgICAgICAgbW92ZSgwLCAta2V5Ym9hcmRNb3ZlRGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICAgICAgICAgICAgbW92ZSgta2V5Ym9hcmRNb3ZlRGlzdGFuY2UsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93UmlnaHRcIikge1xuICAgICAgICAgICAgICAgIG1vdmUoa2V5Ym9hcmRNb3ZlRGlzdGFuY2UsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZVpvb20gPSAoem9vbVZhbHVlKSA9PiB7XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY2hhbmdlWm9vbSh6b29tVmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYXNNZXRhID0gKCkgPT4gZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShcIk1ldGFcIik7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiK1wiIHx8IChldmVudC5rZXkgPT09IFwiPVwiICYmIGhhc01ldGEoKSkpIHtcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZVpvb20oem9vbSAqIHpvb21Jbk11bHRpcGxpZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCItXCIgfHwgKGV2ZW50LmtleSA9PT0gXCJfXCIgJiYgaGFzTWV0YSgpKSkge1xuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlWm9vbSh6b29tIC8gem9vbUluTXVsdGlwbGllcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIjBcIiAmJiBoYXNNZXRhKCkpIHtcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZVpvb20oMSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvbldoZWVsID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgc2Nyb2xsVG9ab29tKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZXZlbnQuZGVsdGFZKSA+IE1hdGguYWJzKGV2ZW50LmRlbHRhWCkpIHtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2Vab29tKHpvb20gKiAoMSAtIGV2ZW50LmRlbHRhWSAvIHdoZWVsWm9vbURpc3RhbmNlRmFjdG9yKSwgdHJ1ZSwgLi4udHJhbnNsYXRlQ29vcmRpbmF0ZXMoZXZlbnQpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmICghc2Nyb2xsVG9ab29tKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlT2Zmc2V0cyhldmVudC5kZWx0YVgsIGV2ZW50LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbGVhclBvaW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSBhY3RpdmVQb2ludGVycy5jdXJyZW50O1xuICAgICAgICBwb2ludGVycy5zcGxpY2UoMCwgcG9pbnRlcnMubGVuZ3RoLCAuLi5wb2ludGVycy5maWx0ZXIoKHApID0+IHAucG9pbnRlcklkICE9PSBldmVudC5wb2ludGVySWQpKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgcmVwbGFjZVBvaW50ZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY2xlYXJQb2ludGVyKGV2ZW50KTtcbiAgICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgICBhY3RpdmVQb2ludGVycy5jdXJyZW50LnB1c2goZXZlbnQpO1xuICAgIH0sIFtjbGVhclBvaW50ZXJdKTtcbiAgICBjb25zdCBvblBvaW50ZXJEb3duID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIGlmICghKChfYSA9IHpvb21XcmFwcGVyUmVmID09PSBudWxsIHx8IHpvb21XcmFwcGVyUmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tV3JhcHBlclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoem9vbSA+IDEpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdGltZVN0YW1wIH0gPSBldmVudDtcbiAgICAgICAgaWYgKHBvaW50ZXJzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgdGltZVN0YW1wIC0gbGFzdFBvaW50ZXJEb3duLmN1cnJlbnQgPCAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIiA/IGRvdWJsZVRhcERlbGF5IDogZG91YmxlQ2xpY2tEZWxheSkpIHtcbiAgICAgICAgICAgIGxhc3RQb2ludGVyRG93bi5jdXJyZW50ID0gMDtcbiAgICAgICAgICAgIGNoYW5nZVpvb20oem9vbSAhPT0gbWF4Wm9vbSA/IHpvb20gKiBNYXRoLm1heChtYXhab29tICoqICgxIC8gZG91YmxlQ2xpY2tNYXhTdG9wcyksIHpvb21Jbk11bHRpcGxpZXIpIDogMSwgZmFsc2UsIC4uLnRyYW5zbGF0ZUNvb3JkaW5hdGVzKGV2ZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsYXN0UG9pbnRlckRvd24uY3VycmVudCA9IHRpbWVTdGFtcDtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlUG9pbnRlcihldmVudCk7XG4gICAgICAgIGlmIChwb2ludGVycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQgPSBkaXN0YW5jZShwb2ludGVyc1swXSwgcG9pbnRlcnNbMV0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgb25Qb2ludGVyTW92ZSA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gYWN0aXZlUG9pbnRlcnMuY3VycmVudDtcbiAgICAgICAgY29uc3QgYWN0aXZlUG9pbnRlciA9IHBvaW50ZXJzLmZpbmQoKHApID0+IHAucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQpO1xuICAgICAgICBpZiAocG9pbnRlcnMubGVuZ3RoID09PSAyICYmIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmVwbGFjZVBvaW50ZXIoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERpc3RhbmNlID0gZGlzdGFuY2UocG9pbnRlcnNbMF0sIHBvaW50ZXJzWzFdKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gY3VycmVudERpc3RhbmNlIC0gcGluY2hab29tRGlzdGFuY2UuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlWm9vbSh6b29tICogKDEgKyBkZWx0YSAvIHBpbmNoWm9vbURpc3RhbmNlRmFjdG9yKSwgdHJ1ZSwgLi4ucG9pbnRlcnNcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoeCkgPT4gdHJhbnNsYXRlQ29vcmRpbmF0ZXMoeCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgY29vcmRpbmF0ZSkgPT4gY29vcmRpbmF0ZS5tYXAoKHgsIGkpID0+IGFjY1tpXSArIHggLyAyKSkpO1xuICAgICAgICAgICAgICAgIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQgPSBjdXJyZW50RGlzdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVQb2ludGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VPZmZzZXRzKChhY3RpdmVQb2ludGVyLmNsaWVudFggLSBldmVudC5jbGllbnRYKSAvIHpvb20sIChhY3RpdmVQb2ludGVyLmNsaWVudFkgLSBldmVudC5jbGllbnRZKSAvIHpvb20pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXBsYWNlUG9pbnRlcihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvblBvaW50ZXJVcCA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIGlmIChwb2ludGVycy5sZW5ndGggPT09IDIgJiYgcG9pbnRlcnMuZmluZCgocCkgPT4gcC5wb2ludGVySWQgPT09IGV2ZW50LnBvaW50ZXJJZCkpIHtcbiAgICAgICAgICAgIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJQb2ludGVyKGV2ZW50KTtcbiAgICB9LCBbY2xlYXJQb2ludGVyXSk7XG4gICAgY29uc3QgY2xlYW51cFNlbnNvcnMgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gYWN0aXZlUG9pbnRlcnMuY3VycmVudDtcbiAgICAgICAgcG9pbnRlcnMuc3BsaWNlKDAsIHBvaW50ZXJzLmxlbmd0aCk7XG4gICAgICAgIGxhc3RQb2ludGVyRG93bi5jdXJyZW50ID0gMDtcbiAgICAgICAgcGluY2hab29tRGlzdGFuY2UuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICB9LCBbXSk7XG4gICAgdXNlUG9pbnRlckV2ZW50cyhzdWJzY3JpYmVTZW5zb3JzLCBvblBvaW50ZXJEb3duLCBvblBvaW50ZXJNb3ZlLCBvblBvaW50ZXJVcCwgZGlzYWJsZWQpO1xuICAgIFJlYWN0LnVzZUVmZmVjdChjbGVhbnVwU2Vuc29ycywgW2dsb2JhbEluZGV4LCBjbGVhbnVwU2Vuc29yc10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGVhbnVwKGNsZWFudXBTZW5zb3JzLCBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX0tFWV9ET1dOLCBvbktleURvd24pLCBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX1dIRUVMLCBvbldoZWVsKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcbiAgICB9LCBbZGlzYWJsZWQsIHN1YnNjcmliZVNlbnNvcnMsIGNsZWFudXBTZW5zb3JzLCBvbktleURvd24sIG9uV2hlZWxdKTtcbn1cblxuZnVuY3Rpb24gdXNlWm9vbVN0YXRlKGltYWdlUmVjdCwgbWF4Wm9vbSwgem9vbVdyYXBwZXJSZWYpIHtcbiAgICBjb25zdCBbem9vbSwgc2V0Wm9vbV0gPSBSZWFjdC51c2VTdGF0ZSgxKTtcbiAgICBjb25zdCBbb2Zmc2V0WCwgc2V0T2Zmc2V0WF0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBbb2Zmc2V0WSwgc2V0T2Zmc2V0WV0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBhbmltYXRlID0gdXNlWm9vbUFuaW1hdGlvbih6b29tLCBvZmZzZXRYLCBvZmZzZXRZLCB6b29tV3JhcHBlclJlZik7XG4gICAgY29uc3QgeyBjdXJyZW50U2xpZGUsIGdsb2JhbEluZGV4IH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgeyBjb250YWluZXJSZWN0LCBzbGlkZVJlY3QgfSA9IHVzZUNvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB7IHpvb21Jbk11bHRpcGxpZXIgfSA9IHVzZVpvb21Qcm9wcygpO1xuICAgIGNvbnN0IGN1cnJlbnRTb3VyY2UgPSBjdXJyZW50U2xpZGUgJiYgaXNJbWFnZVNsaWRlKGN1cnJlbnRTbGlkZSkgPyBjdXJyZW50U2xpZGUuc3JjIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGRpc2FibGVkID0gIWN1cnJlbnRTb3VyY2UgfHwgISh6b29tV3JhcHBlclJlZiA9PT0gbnVsbCB8fCB6b29tV3JhcHBlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXJSZWYuY3VycmVudCk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0Wm9vbSgxKTtcbiAgICAgICAgc2V0T2Zmc2V0WCgwKTtcbiAgICAgICAgc2V0T2Zmc2V0WSgwKTtcbiAgICB9LCBbZ2xvYmFsSW5kZXgsIGN1cnJlbnRTb3VyY2VdKTtcbiAgICBjb25zdCBjaGFuZ2VPZmZzZXRzID0gUmVhY3QudXNlQ2FsbGJhY2soKGR4LCBkeSwgdGFyZ2V0Wm9vbSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdab29tID0gdGFyZ2V0Wm9vbSB8fCB6b29tO1xuICAgICAgICBjb25zdCBuZXdPZmZzZXRYID0gb2Zmc2V0WCAtIChkeCB8fCAwKTtcbiAgICAgICAgY29uc3QgbmV3T2Zmc2V0WSA9IG9mZnNldFkgLSAoZHkgfHwgMCk7XG4gICAgICAgIGNvbnN0IG1heE9mZnNldFggPSAoaW1hZ2VSZWN0LndpZHRoICogbmV3Wm9vbSAtIHNsaWRlUmVjdC53aWR0aCkgLyAyIC8gbmV3Wm9vbTtcbiAgICAgICAgY29uc3QgbWF4T2Zmc2V0WSA9IChpbWFnZVJlY3QuaGVpZ2h0ICogbmV3Wm9vbSAtIHNsaWRlUmVjdC5oZWlnaHQpIC8gMiAvIG5ld1pvb207XG4gICAgICAgIHNldE9mZnNldFgoTWF0aC5taW4oTWF0aC5hYnMobmV3T2Zmc2V0WCksIE1hdGgubWF4KG1heE9mZnNldFgsIDApKSAqIE1hdGguc2lnbihuZXdPZmZzZXRYKSk7XG4gICAgICAgIHNldE9mZnNldFkoTWF0aC5taW4oTWF0aC5hYnMobmV3T2Zmc2V0WSksIE1hdGgubWF4KG1heE9mZnNldFksIDApKSAqIE1hdGguc2lnbihuZXdPZmZzZXRZKSk7XG4gICAgfSwgW3pvb20sIG9mZnNldFgsIG9mZnNldFksIHNsaWRlUmVjdCwgaW1hZ2VSZWN0LndpZHRoLCBpbWFnZVJlY3QuaGVpZ2h0XSk7XG4gICAgY29uc3QgY2hhbmdlWm9vbSA9IFJlYWN0LnVzZUNhbGxiYWNrKCh0YXJnZXRab29tLCByYXBpZCwgZHgsIGR5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1pvb20gPSByb3VuZChNYXRoLm1pbihNYXRoLm1heCh0YXJnZXRab29tICsgMC4wMDEgPCBtYXhab29tID8gdGFyZ2V0Wm9vbSA6IG1heFpvb20sIDEpLCBtYXhab29tKSwgNSk7XG4gICAgICAgIGlmIChuZXdab29tID09PSB6b29tKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIXJhcGlkKSB7XG4gICAgICAgICAgICBhbmltYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlT2Zmc2V0cyhkeCA/IGR4ICogKDEgLyB6b29tIC0gMSAvIG5ld1pvb20pIDogMCwgZHkgPyBkeSAqICgxIC8gem9vbSAtIDEgLyBuZXdab29tKSA6IDAsIG5ld1pvb20pO1xuICAgICAgICBzZXRab29tKG5ld1pvb20pO1xuICAgIH0sIFt6b29tLCBtYXhab29tLCBjaGFuZ2VPZmZzZXRzLCBhbmltYXRlXSk7XG4gICAgY29uc3QgaGFuZGxlQ29udHJvbGxlclJlY3RDaGFuZ2UgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBpZiAoem9vbSA+IG1heFpvb20pIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2Vab29tKG1heFpvb20sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhbmdlT2Zmc2V0cygpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KGhhbmRsZUNvbnRyb2xsZXJSZWN0Q2hhbmdlLCBbY29udGFpbmVyUmVjdC53aWR0aCwgY29udGFpbmVyUmVjdC5oZWlnaHQsIGhhbmRsZUNvbnRyb2xsZXJSZWN0Q2hhbmdlXSk7XG4gICAgY29uc3Qgem9vbUluID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gY2hhbmdlWm9vbSh6b29tICogem9vbUluTXVsdGlwbGllciksIFt6b29tLCB6b29tSW5NdWx0aXBsaWVyLCBjaGFuZ2Vab29tXSk7XG4gICAgY29uc3Qgem9vbU91dCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IGNoYW5nZVpvb20oem9vbSAvIHpvb21Jbk11bHRpcGxpZXIpLCBbem9vbSwgem9vbUluTXVsdGlwbGllciwgY2hhbmdlWm9vbV0pO1xuICAgIHJldHVybiB7IHpvb20sIG9mZnNldFgsIG9mZnNldFksIGRpc2FibGVkLCBjaGFuZ2VPZmZzZXRzLCBjaGFuZ2Vab29tLCB6b29tSW4sIHpvb21PdXQgfTtcbn1cblxuY29uc3QgWm9vbUNvbnRyb2xsZXJDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZVpvb20gPSBtYWtlVXNlQ29udGV4dChcInVzZVpvb21cIiwgXCJab29tQ29udHJvbGxlckNvbnRleHRcIiwgWm9vbUNvbnRyb2xsZXJDb250ZXh0KTtcbmZ1bmN0aW9uIFpvb21Db250ZXh0UHJvdmlkZXIoeyBjaGlsZHJlbiB9KSB7XG4gICAgY29uc3QgW3pvb21XcmFwcGVyLCBzZXRab29tV3JhcHBlcl0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIGNvbnN0IHsgc2xpZGVSZWN0IH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyBpbWFnZVJlY3QsIG1heFpvb20gfSA9IHVzZVpvb21JbWFnZVJlY3Qoc2xpZGVSZWN0LCB6b29tV3JhcHBlciA9PT0gbnVsbCB8fCB6b29tV3JhcHBlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXIuaW1hZ2VEaW1lbnNpb25zKTtcbiAgICBjb25zdCB7IHpvb20sIG9mZnNldFgsIG9mZnNldFksIGRpc2FibGVkLCBjaGFuZ2Vab29tLCBjaGFuZ2VPZmZzZXRzLCB6b29tSW4sIHpvb21PdXQgfSA9IHVzZVpvb21TdGF0ZShpbWFnZVJlY3QsIG1heFpvb20sIHpvb21XcmFwcGVyID09PSBudWxsIHx8IHpvb21XcmFwcGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tV3JhcHBlci56b29tV3JhcHBlclJlZik7XG4gICAgdXNlWm9vbUNhbGxiYWNrKHpvb20sIGRpc2FibGVkKTtcbiAgICB1c2Vab29tU2Vuc29ycyh6b29tLCBtYXhab29tLCBkaXNhYmxlZCwgY2hhbmdlWm9vbSwgY2hhbmdlT2Zmc2V0cywgem9vbVdyYXBwZXIgPT09IG51bGwgfHwgem9vbVdyYXBwZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyLnpvb21XcmFwcGVyUmVmKTtcbiAgICBjb25zdCB6b29tUmVmID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyB6b29tLCBtYXhab29tLCBvZmZzZXRYLCBvZmZzZXRZLCBkaXNhYmxlZCwgem9vbUluLCB6b29tT3V0LCBjaGFuZ2Vab29tIH0pLCBbem9vbSwgbWF4Wm9vbSwgb2Zmc2V0WCwgb2Zmc2V0WSwgZGlzYWJsZWQsIHpvb21Jbiwgem9vbU91dCwgY2hhbmdlWm9vbV0pO1xuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUodXNlWm9vbVByb3BzKCkucmVmLCAoKSA9PiB6b29tUmVmLCBbem9vbVJlZl0pO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7IC4uLnpvb21SZWYsIHNldFpvb21XcmFwcGVyIH0pLCBbem9vbVJlZiwgc2V0Wm9vbVdyYXBwZXJdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChab29tQ29udHJvbGxlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuXG5jb25zdCBab29tSW5JY29uID0gY3JlYXRlSWNvbihcIlpvb21JblwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpcIiB9KSxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEyIDEwaC0ydjJIOXYtMkg3VjloMlY3aDF2MmgydjF6XCIgfSkpKTtcbmNvbnN0IFpvb21PdXRJY29uID0gY3JlYXRlSWNvbihcIlpvb21PdXRcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xNS41IDE0aC0uNzlsLS4yOC0uMjdDMTUuNDEgMTIuNTkgMTYgMTEuMTEgMTYgOS41IDE2IDUuOTEgMTMuMDkgMyA5LjUgM1MzIDUuOTEgMyA5LjUgNS45MSAxNiA5LjUgMTZjMS42MSAwIDMuMDktLjU5IDQuMjMtMS41N2wuMjcuMjh2Ljc5bDUgNC45OUwyMC40OSAxOWwtNC45OS01em0tNiAwQzcuMDEgMTQgNSAxMS45OSA1IDkuNVM3LjAxIDUgOS41IDUgMTQgNy4wMSAxNCA5LjUgMTEuOTkgMTQgOS41IDE0ek03IDloNXYxSDd6XCIgfSkpO1xuY29uc3QgWm9vbUJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gWm9vbUJ1dHRvbih7IHpvb21Jbiwgb25Mb3NlRm9jdXMgfSwgcmVmKSB7XG4gICAgY29uc3Qgd2FzRW5hYmxlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgY29uc3Qgd2FzRm9jdXNlZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgeyB6b29tLCBtYXhab29tLCB6b29tSW46IHpvb21JbkNhbGxiYWNrLCB6b29tT3V0OiB6b29tT3V0Q2FsbGJhY2ssIGRpc2FibGVkOiB6b29tRGlzYWJsZWQgfSA9IHVzZVpvb20oKTtcbiAgICBjb25zdCB7IHJlbmRlciB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IGRpc2FibGVkID0gem9vbURpc2FibGVkIHx8ICh6b29tSW4gPyB6b29tID49IG1heFpvb20gOiB6b29tIDw9IDEpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkaXNhYmxlZCAmJiB3YXNFbmFibGVkLmN1cnJlbnQgJiYgd2FzRm9jdXNlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICBvbkxvc2VGb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHdhc0VuYWJsZWQuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LCBbZGlzYWJsZWQsIG9uTG9zZUZvY3VzXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgcmVmOiByZWYsIGRpc2FibGVkOiBkaXNhYmxlZCwgbGFiZWw6IHpvb21JbiA/IFwiWm9vbSBpblwiIDogXCJab29tIG91dFwiLCBpY29uOiB6b29tSW4gPyBab29tSW5JY29uIDogWm9vbU91dEljb24sIHJlbmRlckljb246IHpvb21JbiA/IHJlbmRlci5pY29uWm9vbUluIDogcmVuZGVyLmljb25ab29tT3V0LCBvbkNsaWNrOiB6b29tSW4gPyB6b29tSW5DYWxsYmFjayA6IHpvb21PdXRDYWxsYmFjaywgb25Gb2N1czogKCkgPT4ge1xuICAgICAgICAgICAgd2FzRm9jdXNlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfSwgb25CbHVyOiAoKSA9PiB7XG4gICAgICAgICAgICB3YXNGb2N1c2VkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfSB9KSk7XG59KTtcblxuZnVuY3Rpb24gWm9vbUJ1dHRvbnNHcm91cCgpIHtcbiAgICBjb25zdCB6b29tSW5SZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgem9vbU91dFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IGZvY3VzIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgZm9jdXNTaWJsaW5nID0gUmVhY3QudXNlQ2FsbGJhY2soKHNpYmxpbmcpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCEoKF9hID0gc2libGluZy5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzYWJsZWQpKSB7XG4gICAgICAgICAgICAoX2IgPSBzaWJsaW5nLmN1cnJlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH0sIFtmb2N1c10pO1xuICAgIGNvbnN0IGZvY3VzWm9vbUluID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gZm9jdXNTaWJsaW5nKHpvb21JblJlZiksIFtmb2N1c1NpYmxpbmddKTtcbiAgICBjb25zdCBmb2N1c1pvb21PdXQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBmb2N1c1NpYmxpbmcoem9vbU91dFJlZiksIFtmb2N1c1NpYmxpbmddKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbUJ1dHRvbiwgeyB6b29tSW46IHRydWUsIHJlZjogem9vbUluUmVmLCBvbkxvc2VGb2N1czogZm9jdXNab29tT3V0IH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFpvb21CdXR0b24sIHsgcmVmOiB6b29tT3V0UmVmLCBvbkxvc2VGb2N1czogZm9jdXNab29tSW4gfSkpKTtcbn1cblxuZnVuY3Rpb24gWm9vbVRvb2xiYXJDb250cm9sKCkge1xuICAgIGNvbnN0IHsgcmVuZGVyIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3Qgem9vbVJlZiA9IHVzZVpvb20oKTtcbiAgICBpZiAocmVuZGVyLmJ1dHRvblpvb20pIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHJlbmRlci5idXR0b25ab29tKHpvb21SZWYpKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbUJ1dHRvbnNHcm91cCwgbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGlzUmVzcG9uc2l2ZUltYWdlU2xpZGUoc2xpZGUpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoKF9hID0gc2xpZGUuc3JjU2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSB8fCAwKSA+IDA7XG59XG5mdW5jdGlvbiByZWR1Y2VyKHsgY3VycmVudCwgcHJlbG9hZCB9LCB7IHR5cGUsIHNvdXJjZSB9KSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJmZXRjaFwiOlxuICAgICAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY3VycmVudDogc291cmNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBjdXJyZW50LCBwcmVsb2FkOiBzb3VyY2UgfTtcbiAgICAgICAgY2FzZSBcImRvbmVcIjpcbiAgICAgICAgICAgIGlmIChzb3VyY2UgPT09IHByZWxvYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBjdXJyZW50OiBzb3VyY2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IGN1cnJlbnQsIHByZWxvYWQgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihVTktOT1dOX0FDVElPTl9UWVBFKTtcbiAgICB9XG59XG5mdW5jdGlvbiBSZXNwb25zaXZlSW1hZ2UocHJvcHMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IFt7IGN1cnJlbnQsIHByZWxvYWQgfSwgZGlzcGF0Y2hdID0gUmVhY3QudXNlUmVkdWNlcihyZWR1Y2VyLCB7fSk7XG4gICAgY29uc3QgeyBzbGlkZTogaW1hZ2UsIHJlY3QsIGltYWdlRml0LCByZW5kZXIgfSA9IHByb3BzO1xuICAgIGNvbnN0IHNyY1NldCA9IGltYWdlLnNyY1NldC5zb3J0KChhLCBiKSA9PiBhLndpZHRoIC0gYi53aWR0aCk7XG4gICAgY29uc3Qgd2lkdGggPSAoX2EgPSBpbWFnZS53aWR0aCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc3JjU2V0W3NyY1NldC5sZW5ndGggLSAxXS53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSAoX2IgPSBpbWFnZS5oZWlnaHQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHNyY1NldFtzcmNTZXQubGVuZ3RoIC0gMV0uaGVpZ2h0O1xuICAgIGNvbnN0IGNvdmVyID0gaXNJbWFnZUZpdENvdmVyKGltYWdlLCBpbWFnZUZpdCk7XG4gICAgY29uc3QgbWF4V2lkdGggPSBNYXRoLm1heCguLi5zcmNTZXQubWFwKCh4KSA9PiB4LndpZHRoKSk7XG4gICAgY29uc3QgdGFyZ2V0V2lkdGggPSBNYXRoLm1pbigoY292ZXIgPyBNYXRoLm1heCA6IE1hdGgubWluKShyZWN0LndpZHRoLCB3aWR0aCAqIChyZWN0LmhlaWdodCAvIGhlaWdodCkpLCBtYXhXaWR0aCk7XG4gICAgY29uc3QgcGl4ZWxEZW5zaXR5ID0gZGV2aWNlUGl4ZWxSYXRpbygpO1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHRhcmdldFNvdXJjZSA9IChfYSA9IHNyY1NldC5maW5kKCh4KSA9PiB4LndpZHRoID49IHRhcmdldFdpZHRoICogcGl4ZWxEZW5zaXR5KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc3JjU2V0W3NyY1NldC5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFjdXJyZW50IHx8IHNyY1NldC5maW5kSW5kZXgoKHgpID0+IHguc3JjID09PSBjdXJyZW50KSA8IHNyY1NldC5maW5kSW5kZXgoKHgpID0+IHggPT09IHRhcmdldFNvdXJjZSkpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJmZXRjaFwiLCBzb3VyY2U6IHRhcmdldFNvdXJjZS5zcmMgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoaGFuZGxlUmVzaXplLCBbcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQsIHBpeGVsRGVuc2l0eSwgaGFuZGxlUmVzaXplXSk7XG4gICAgY29uc3QgaGFuZGxlUHJlbG9hZCA9IHVzZUV2ZW50Q2FsbGJhY2soKGN1cnJlbnRQcmVsb2FkKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwiZG9uZVwiLCBzb3VyY2U6IGN1cnJlbnRQcmVsb2FkIH0pKTtcbiAgICBjb25zdCBzdHlsZSA9IHtcbiAgICAgICAgV2Via2l0VHJhbnNmb3JtOiBcInRyYW5zbGF0ZVooMClcIixcbiAgICB9O1xuICAgIGlmICghY292ZXIpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzdHlsZSwgcmVjdC53aWR0aCAvIHJlY3QuaGVpZ2h0IDwgd2lkdGggLyBoZWlnaHQgPyB7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcImF1dG9cIiB9IDogeyB3aWR0aDogXCJhdXRvXCIsIGhlaWdodDogXCIxMDAlXCIgfSk7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgcHJlbG9hZCAmJiBwcmVsb2FkICE9PSBjdXJyZW50ICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsga2V5OiBcInByZWxvYWRcIiwgLi4ucHJvcHMsIHNsaWRlOiB7IC4uLmltYWdlLCBzcmM6IHByZWxvYWQsIHNyY1NldDogdW5kZWZpbmVkIH0sIHN0eWxlOiB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIC4uLnN0eWxlIH0sIG9uTG9hZDogKCkgPT4gaGFuZGxlUHJlbG9hZChwcmVsb2FkKSwgcmVuZGVyOiB7XG4gICAgICAgICAgICAgICAgLi4ucmVuZGVyLFxuICAgICAgICAgICAgICAgIGljb25Mb2FkaW5nOiAoKSA9PiBudWxsLFxuICAgICAgICAgICAgICAgIGljb25FcnJvcjogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgIH0gfSkpLFxuICAgICAgICBjdXJyZW50ICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsga2V5OiBcImN1cnJlbnRcIiwgLi4ucHJvcHMsIHNsaWRlOiB7IC4uLmltYWdlLCBzcmM6IGN1cnJlbnQsIHNyY1NldDogdW5kZWZpbmVkIH0sIHN0eWxlOiBzdHlsZSB9KSkpKTtcbn1cblxuZnVuY3Rpb24gWm9vbVdyYXBwZXIoeyByZW5kZXIsIHNsaWRlLCBvZmZzZXQsIHJlY3QgfSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBbaW1hZ2VEaW1lbnNpb25zLCBzZXRJbWFnZURpbWVuc2lvbnNdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCB6b29tV3JhcHBlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IHpvb20sIG1heFpvb20sIG9mZnNldFgsIG9mZnNldFksIHNldFpvb21XcmFwcGVyIH0gPSB1c2Vab29tKCk7XG4gICAgY29uc3QgeyBjYXJvdXNlbCwgb24gfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCB7IGN1cnJlbnRJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgICAgICAgIHNldFpvb21XcmFwcGVyKHsgem9vbVdyYXBwZXJSZWYsIGltYWdlRGltZW5zaW9ucyB9KTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiBzZXRab29tV3JhcHBlcih1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfSwgW29mZnNldCwgaW1hZ2VEaW1lbnNpb25zLCBzZXRab29tV3JhcHBlcl0pO1xuICAgIGxldCByZW5kZXJlZCA9IChfYSA9IHJlbmRlci5zbGlkZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7IHNsaWRlLCBvZmZzZXQsIHJlY3QsIHpvb20sIG1heFpvb20gfSk7XG4gICAgaWYgKCFyZW5kZXJlZCAmJiBpc0ltYWdlU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlUHJvcHMgPSB7XG4gICAgICAgICAgICBzbGlkZSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIHJlY3QsXG4gICAgICAgICAgICByZW5kZXIsXG4gICAgICAgICAgICBpbWFnZUZpdDogY2Fyb3VzZWwuaW1hZ2VGaXQsXG4gICAgICAgICAgICBpbWFnZVByb3BzOiBjYXJvdXNlbC5pbWFnZVByb3BzLFxuICAgICAgICAgICAgb25DbGljazogb2Zmc2V0ID09PSAwID8gKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBvbi5jbGljaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24sIHsgaW5kZXg6IGN1cnJlbnRJbmRleCB9KTsgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgcmVuZGVyZWQgPSBpc1Jlc3BvbnNpdmVJbWFnZVNsaWRlKHNsaWRlKSA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlc3BvbnNpdmVJbWFnZSwgeyBrZXk6IHNsaWRlLnNyYywgLi4uc2xpZGVQcm9wcywgc2xpZGU6IHNsaWRlLCByZWN0OiBvZmZzZXQgPT09IDAgPyB7IHdpZHRoOiByZWN0LndpZHRoICogem9vbSwgaGVpZ2h0OiByZWN0LmhlaWdodCAqIHpvb20gfSA6IHJlY3QgfSkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VTbGlkZSwgeyBrZXk6IHNsaWRlLnNyYywgb25Mb2FkOiAoaW1nKSA9PiBzZXRJbWFnZURpbWVuc2lvbnMoeyB3aWR0aDogaW1nLm5hdHVyYWxXaWR0aCwgaGVpZ2h0OiBpbWcubmF0dXJhbEhlaWdodCB9KSwgLi4uc2xpZGVQcm9wcyB9KSk7XG4gICAgfVxuICAgIGlmICghcmVuZGVyZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogem9vbVdyYXBwZXJSZWYsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhDTEFTU19GVUxMU0laRSksIGNzc0NsYXNzKENMQVNTX0ZMRVhfQ0VOVEVSKSwgY3NzQ2xhc3MoQ0xBU1NfU0xJREVfV1JBUFBFUikpLCBzdHlsZTogb2Zmc2V0ID09PSAwID8geyB0cmFuc2Zvcm06IGBzY2FsZSgke3pvb219KSB0cmFuc2xhdGVYKCR7b2Zmc2V0WH1weCkgdHJhbnNsYXRlWSgke29mZnNldFl9cHgpYCB9IDogdW5kZWZpbmVkIH0sIHJlbmRlcmVkKSk7XG59XG5cbmNvbnN0IFpvb20gPSAoeyBhdWdtZW50LCBhZGRNb2R1bGUgfSkgPT4ge1xuICAgIGF1Z21lbnQoKHsgem9vbTogem9vbVByb3BzLCB0b29sYmFyLCByZW5kZXIsIGNvbnRyb2xsZXIsIC4uLnJlc3RQcm9wcyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHpvb20gPSByZXNvbHZlWm9vbVByb3BzKHpvb21Qcm9wcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB6b29tLFxuICAgICAgICAgICAgdG9vbGJhcjogYWRkVG9vbGJhckJ1dHRvbih0b29sYmFyLCBQTFVHSU5fWk9PTSwgUmVhY3QuY3JlYXRlRWxlbWVudChab29tVG9vbGJhckNvbnRyb2wsIG51bGwpKSxcbiAgICAgICAgICAgIHJlbmRlcjoge1xuICAgICAgICAgICAgICAgIC4uLnJlbmRlcixcbiAgICAgICAgICAgICAgICBzbGlkZTogKHByb3BzKSA9PiB7IHZhciBfYTsgcmV0dXJuIGlzSW1hZ2VTbGlkZShwcm9wcy5zbGlkZSkgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFpvb21XcmFwcGVyLCB7IHJlbmRlcjogcmVuZGVyLCAuLi5wcm9wcyB9KSA6IChfYSA9IHJlbmRlci5zbGlkZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCBwcm9wcyk7IH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJvbGxlcjogeyAuLi5jb250cm9sbGVyLCBwcmV2ZW50RGVmYXVsdFdoZWVsWTogem9vbS5zY3JvbGxUb1pvb20gfSxcbiAgICAgICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBhZGRNb2R1bGUoY3JlYXRlTW9kdWxlKFBMVUdJTl9aT09NLCBab29tQ29udGV4dFByb3ZpZGVyKSk7XG59O1xuXG5leHBvcnQgeyBab29tIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js":
/*!***************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/types.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_CLOSE: () => (/* binding */ ACTION_CLOSE),\n/* harmony export */   ACTION_NEXT: () => (/* binding */ ACTION_NEXT),\n/* harmony export */   ACTION_PREV: () => (/* binding */ ACTION_PREV),\n/* harmony export */   ACTION_SWIPE: () => (/* binding */ ACTION_SWIPE),\n/* harmony export */   ACTIVE_SLIDE_COMPLETE: () => (/* binding */ ACTIVE_SLIDE_COMPLETE),\n/* harmony export */   ACTIVE_SLIDE_ERROR: () => (/* binding */ ACTIVE_SLIDE_ERROR),\n/* harmony export */   ACTIVE_SLIDE_LOADING: () => (/* binding */ ACTIVE_SLIDE_LOADING),\n/* harmony export */   ACTIVE_SLIDE_PLAYING: () => (/* binding */ ACTIVE_SLIDE_PLAYING),\n/* harmony export */   CLASS_FLEX_CENTER: () => (/* binding */ CLASS_FLEX_CENTER),\n/* harmony export */   CLASS_FULLSIZE: () => (/* binding */ CLASS_FULLSIZE),\n/* harmony export */   CLASS_NO_SCROLL: () => (/* binding */ CLASS_NO_SCROLL),\n/* harmony export */   CLASS_NO_SCROLL_PADDING: () => (/* binding */ CLASS_NO_SCROLL_PADDING),\n/* harmony export */   CLASS_SLIDE_WRAPPER: () => (/* binding */ CLASS_SLIDE_WRAPPER),\n/* harmony export */   ELEMENT_BUTTON: () => (/* binding */ ELEMENT_BUTTON),\n/* harmony export */   ELEMENT_ICON: () => (/* binding */ ELEMENT_ICON),\n/* harmony export */   EVENT_ON_KEY_DOWN: () => (/* binding */ EVENT_ON_KEY_DOWN),\n/* harmony export */   EVENT_ON_KEY_UP: () => (/* binding */ EVENT_ON_KEY_UP),\n/* harmony export */   EVENT_ON_POINTER_CANCEL: () => (/* binding */ EVENT_ON_POINTER_CANCEL),\n/* harmony export */   EVENT_ON_POINTER_DOWN: () => (/* binding */ EVENT_ON_POINTER_DOWN),\n/* harmony export */   EVENT_ON_POINTER_LEAVE: () => (/* binding */ EVENT_ON_POINTER_LEAVE),\n/* harmony export */   EVENT_ON_POINTER_MOVE: () => (/* binding */ EVENT_ON_POINTER_MOVE),\n/* harmony export */   EVENT_ON_POINTER_UP: () => (/* binding */ EVENT_ON_POINTER_UP),\n/* harmony export */   EVENT_ON_WHEEL: () => (/* binding */ EVENT_ON_WHEEL),\n/* harmony export */   IMAGE_FIT_CONTAIN: () => (/* binding */ IMAGE_FIT_CONTAIN),\n/* harmony export */   IMAGE_FIT_COVER: () => (/* binding */ IMAGE_FIT_COVER),\n/* harmony export */   MODULE_CAROUSEL: () => (/* binding */ MODULE_CAROUSEL),\n/* harmony export */   MODULE_CONTROLLER: () => (/* binding */ MODULE_CONTROLLER),\n/* harmony export */   MODULE_NAVIGATION: () => (/* binding */ MODULE_NAVIGATION),\n/* harmony export */   MODULE_NO_SCROLL: () => (/* binding */ MODULE_NO_SCROLL),\n/* harmony export */   MODULE_PORTAL: () => (/* binding */ MODULE_PORTAL),\n/* harmony export */   MODULE_ROOT: () => (/* binding */ MODULE_ROOT),\n/* harmony export */   MODULE_TOOLBAR: () => (/* binding */ MODULE_TOOLBAR),\n/* harmony export */   PLUGIN_CAPTIONS: () => (/* binding */ PLUGIN_CAPTIONS),\n/* harmony export */   PLUGIN_COUNTER: () => (/* binding */ PLUGIN_COUNTER),\n/* harmony export */   PLUGIN_DOWNLOAD: () => (/* binding */ PLUGIN_DOWNLOAD),\n/* harmony export */   PLUGIN_FULLSCREEN: () => (/* binding */ PLUGIN_FULLSCREEN),\n/* harmony export */   PLUGIN_INLINE: () => (/* binding */ PLUGIN_INLINE),\n/* harmony export */   PLUGIN_SHARE: () => (/* binding */ PLUGIN_SHARE),\n/* harmony export */   PLUGIN_SLIDESHOW: () => (/* binding */ PLUGIN_SLIDESHOW),\n/* harmony export */   PLUGIN_THUMBNAILS: () => (/* binding */ PLUGIN_THUMBNAILS),\n/* harmony export */   PLUGIN_ZOOM: () => (/* binding */ PLUGIN_ZOOM),\n/* harmony export */   SLIDE_STATUS_COMPLETE: () => (/* binding */ SLIDE_STATUS_COMPLETE),\n/* harmony export */   SLIDE_STATUS_ERROR: () => (/* binding */ SLIDE_STATUS_ERROR),\n/* harmony export */   SLIDE_STATUS_LOADING: () => (/* binding */ SLIDE_STATUS_LOADING),\n/* harmony export */   SLIDE_STATUS_PLACEHOLDER: () => (/* binding */ SLIDE_STATUS_PLACEHOLDER),\n/* harmony export */   SLIDE_STATUS_PLAYING: () => (/* binding */ SLIDE_STATUS_PLAYING),\n/* harmony export */   UNKNOWN_ACTION_TYPE: () => (/* binding */ UNKNOWN_ACTION_TYPE),\n/* harmony export */   VK_ARROW_LEFT: () => (/* binding */ VK_ARROW_LEFT),\n/* harmony export */   VK_ARROW_RIGHT: () => (/* binding */ VK_ARROW_RIGHT),\n/* harmony export */   VK_ESCAPE: () => (/* binding */ VK_ESCAPE),\n/* harmony export */   activeSlideStatus: () => (/* binding */ activeSlideStatus)\n/* harmony export */ });\nconst MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsT0FBTztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXRlcm1hcmstZXhwZXJpZW5jZS8uL25vZGVfbW9kdWxlcy95ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveC9kaXN0L3R5cGVzLmpzPzJkMjEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTU9EVUxFX0NBUk9VU0VMID0gXCJjYXJvdXNlbFwiO1xuY29uc3QgTU9EVUxFX0NPTlRST0xMRVIgPSBcImNvbnRyb2xsZXJcIjtcbmNvbnN0IE1PRFVMRV9OQVZJR0FUSU9OID0gXCJuYXZpZ2F0aW9uXCI7XG5jb25zdCBNT0RVTEVfTk9fU0NST0xMID0gXCJuby1zY3JvbGxcIjtcbmNvbnN0IE1PRFVMRV9QT1JUQUwgPSBcInBvcnRhbFwiO1xuY29uc3QgTU9EVUxFX1JPT1QgPSBcInJvb3RcIjtcbmNvbnN0IE1PRFVMRV9UT09MQkFSID0gXCJ0b29sYmFyXCI7XG5jb25zdCBQTFVHSU5fQ0FQVElPTlMgPSBcImNhcHRpb25zXCI7XG5jb25zdCBQTFVHSU5fQ09VTlRFUiA9IFwiY291bnRlclwiO1xuY29uc3QgUExVR0lOX0RPV05MT0FEID0gXCJkb3dubG9hZFwiO1xuY29uc3QgUExVR0lOX0ZVTExTQ1JFRU4gPSBcImZ1bGxzY3JlZW5cIjtcbmNvbnN0IFBMVUdJTl9JTkxJTkUgPSBcImlubGluZVwiO1xuY29uc3QgUExVR0lOX1NIQVJFID0gXCJzaGFyZVwiO1xuY29uc3QgUExVR0lOX1NMSURFU0hPVyA9IFwic2xpZGVzaG93XCI7XG5jb25zdCBQTFVHSU5fVEhVTUJOQUlMUyA9IFwidGh1bWJuYWlsc1wiO1xuY29uc3QgUExVR0lOX1pPT00gPSBcInpvb21cIjtcbmNvbnN0IFNMSURFX1NUQVRVU19MT0FESU5HID0gXCJsb2FkaW5nXCI7XG5jb25zdCBTTElERV9TVEFUVVNfUExBWUlORyA9IFwicGxheWluZ1wiO1xuY29uc3QgU0xJREVfU1RBVFVTX0VSUk9SID0gXCJlcnJvclwiO1xuY29uc3QgU0xJREVfU1RBVFVTX0NPTVBMRVRFID0gXCJjb21wbGV0ZVwiO1xuY29uc3QgU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSID0gXCJwbGFjZWhvbGRlclwiO1xuY29uc3QgYWN0aXZlU2xpZGVTdGF0dXMgPSAoc3RhdHVzKSA9PiBgYWN0aXZlLXNsaWRlLSR7c3RhdHVzfWA7XG5jb25zdCBBQ1RJVkVfU0xJREVfTE9BRElORyA9IGFjdGl2ZVNsaWRlU3RhdHVzKFNMSURFX1NUQVRVU19MT0FESU5HKTtcbmNvbnN0IEFDVElWRV9TTElERV9QTEFZSU5HID0gYWN0aXZlU2xpZGVTdGF0dXMoU0xJREVfU1RBVFVTX1BMQVlJTkcpO1xuY29uc3QgQUNUSVZFX1NMSURFX0VSUk9SID0gYWN0aXZlU2xpZGVTdGF0dXMoU0xJREVfU1RBVFVTX0VSUk9SKTtcbmNvbnN0IEFDVElWRV9TTElERV9DT01QTEVURSA9IGFjdGl2ZVNsaWRlU3RhdHVzKFNMSURFX1NUQVRVU19DT01QTEVURSk7XG5jb25zdCBDTEFTU19GVUxMU0laRSA9IFwiZnVsbHNpemVcIjtcbmNvbnN0IENMQVNTX0ZMRVhfQ0VOVEVSID0gXCJmbGV4X2NlbnRlclwiO1xuY29uc3QgQ0xBU1NfTk9fU0NST0xMID0gXCJub19zY3JvbGxcIjtcbmNvbnN0IENMQVNTX05PX1NDUk9MTF9QQURESU5HID0gXCJub19zY3JvbGxfcGFkZGluZ1wiO1xuY29uc3QgQ0xBU1NfU0xJREVfV1JBUFBFUiA9IFwic2xpZGVfd3JhcHBlclwiO1xuY29uc3QgQUNUSU9OX1BSRVYgPSBcInByZXZcIjtcbmNvbnN0IEFDVElPTl9ORVhUID0gXCJuZXh0XCI7XG5jb25zdCBBQ1RJT05fU1dJUEUgPSBcInN3aXBlXCI7XG5jb25zdCBBQ1RJT05fQ0xPU0UgPSBcImNsb3NlXCI7XG5jb25zdCBFVkVOVF9PTl9QT0lOVEVSX0RPV04gPSBcIm9uUG9pbnRlckRvd25cIjtcbmNvbnN0IEVWRU5UX09OX1BPSU5URVJfTU9WRSA9IFwib25Qb2ludGVyTW92ZVwiO1xuY29uc3QgRVZFTlRfT05fUE9JTlRFUl9VUCA9IFwib25Qb2ludGVyVXBcIjtcbmNvbnN0IEVWRU5UX09OX1BPSU5URVJfTEVBVkUgPSBcIm9uUG9pbnRlckxlYXZlXCI7XG5jb25zdCBFVkVOVF9PTl9QT0lOVEVSX0NBTkNFTCA9IFwib25Qb2ludGVyQ2FuY2VsXCI7XG5jb25zdCBFVkVOVF9PTl9LRVlfRE9XTiA9IFwib25LZXlEb3duXCI7XG5jb25zdCBFVkVOVF9PTl9LRVlfVVAgPSBcIm9uS2V5VXBcIjtcbmNvbnN0IEVWRU5UX09OX1dIRUVMID0gXCJvbldoZWVsXCI7XG5jb25zdCBWS19FU0NBUEUgPSBcIkVzY2FwZVwiO1xuY29uc3QgVktfQVJST1dfTEVGVCA9IFwiQXJyb3dMZWZ0XCI7XG5jb25zdCBWS19BUlJPV19SSUdIVCA9IFwiQXJyb3dSaWdodFwiO1xuY29uc3QgRUxFTUVOVF9CVVRUT04gPSBcImJ1dHRvblwiO1xuY29uc3QgRUxFTUVOVF9JQ09OID0gXCJpY29uXCI7XG5jb25zdCBJTUFHRV9GSVRfQ09OVEFJTiA9IFwiY29udGFpblwiO1xuY29uc3QgSU1BR0VfRklUX0NPVkVSID0gXCJjb3ZlclwiO1xuY29uc3QgVU5LTk9XTl9BQ1RJT05fVFlQRSA9IFwiVW5rbm93biBhY3Rpb24gdHlwZVwiO1xuXG5leHBvcnQgeyBBQ1RJT05fQ0xPU0UsIEFDVElPTl9ORVhULCBBQ1RJT05fUFJFViwgQUNUSU9OX1NXSVBFLCBBQ1RJVkVfU0xJREVfQ09NUExFVEUsIEFDVElWRV9TTElERV9FUlJPUiwgQUNUSVZFX1NMSURFX0xPQURJTkcsIEFDVElWRV9TTElERV9QTEFZSU5HLCBDTEFTU19GTEVYX0NFTlRFUiwgQ0xBU1NfRlVMTFNJWkUsIENMQVNTX05PX1NDUk9MTCwgQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcsIENMQVNTX1NMSURFX1dSQVBQRVIsIEVMRU1FTlRfQlVUVE9OLCBFTEVNRU5UX0lDT04sIEVWRU5UX09OX0tFWV9ET1dOLCBFVkVOVF9PTl9LRVlfVVAsIEVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMLCBFVkVOVF9PTl9QT0lOVEVSX0RPV04sIEVWRU5UX09OX1BPSU5URVJfTEVBVkUsIEVWRU5UX09OX1BPSU5URVJfTU9WRSwgRVZFTlRfT05fUE9JTlRFUl9VUCwgRVZFTlRfT05fV0hFRUwsIElNQUdFX0ZJVF9DT05UQUlOLCBJTUFHRV9GSVRfQ09WRVIsIE1PRFVMRV9DQVJPVVNFTCwgTU9EVUxFX0NPTlRST0xMRVIsIE1PRFVMRV9OQVZJR0FUSU9OLCBNT0RVTEVfTk9fU0NST0xMLCBNT0RVTEVfUE9SVEFMLCBNT0RVTEVfUk9PVCwgTU9EVUxFX1RPT0xCQVIsIFBMVUdJTl9DQVBUSU9OUywgUExVR0lOX0NPVU5URVIsIFBMVUdJTl9ET1dOTE9BRCwgUExVR0lOX0ZVTExTQ1JFRU4sIFBMVUdJTl9JTkxJTkUsIFBMVUdJTl9TSEFSRSwgUExVR0lOX1NMSURFU0hPVywgUExVR0lOX1RIVU1CTkFJTFMsIFBMVUdJTl9aT09NLCBTTElERV9TVEFUVVNfQ09NUExFVEUsIFNMSURFX1NUQVRVU19FUlJPUiwgU0xJREVfU1RBVFVTX0xPQURJTkcsIFNMSURFX1NUQVRVU19QTEFDRUhPTERFUiwgU0xJREVfU1RBVFVTX1BMQVlJTkcsIFVOS05PV05fQUNUSU9OX1RZUEUsIFZLX0FSUk9XX0xFRlQsIFZLX0FSUk9XX1JJR0hULCBWS19FU0NBUEUsIGFjdGl2ZVNsaWRlU3RhdHVzIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\n");

/***/ })

};
;